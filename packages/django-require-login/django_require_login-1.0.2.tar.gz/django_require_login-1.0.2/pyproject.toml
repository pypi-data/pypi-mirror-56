[tool.poetry]
name = "django_require_login"
version = "1.0.2"
description = "Middleware to require login for all Django URLs"
authors = ["Steven Pate <steven@laac.dev>", "Mike Grouchy <mgrouchy@gmail.com>"]
license = "BSD-3-Clause"
readme = "README.md"
repository = "https://github.com/laactech/django-require-login"
keywords = [
    "django",
    "login required",
    "authentication",
    "login",
    "python",
]
classifiers = [
    "Natural Language :: English",
    "Programming Language :: Python",
    "Programming Language :: Python :: 3",
    "Programming Language :: Python :: 3.5",
    "Programming Language :: Python :: 3.6",
    "Programming Language :: Python :: 3.7",
    "Programming Language :: Python :: 3.8",
    "Environment :: Web Environment",
    "Development Status :: 5 - Production/Stable",
    "Intended Audience :: Developers",
    "License :: OSI Approved :: BSD License",
]

[tool.poetry.dependencies]
python = "^3.5"
django = ">=1.11,<3.1"

[tool.poetry.dev-dependencies]
pre-commit = "^1.20.0"
mock = "^3.0.5"
tox = "^3.14.0"
pytest-django = "^3.6.0"
pytest-cov = "^2.8.1"
pytest = "^5.2.2"

[tool.tox]
legacy_tox_ini = """
[tox]
skipsdist = True
envlist =
       {py35,py36}-django111
       {py35,py36,py37}-django{20,21}
       {py35,py36,py37,py38}-django{22}
       {py36,p37,p38}-django{30}
       lint

[tox:.package]
# note tox will use the same python version as under what tox is installed to package
# so unless this is python 3 you can require a given python version for the packaging
# environment via the basepython key
basepython = python3

[travis:env]
DJANGO =
    1.11: django111
    2.0: django20
    2.1: django21
    2.2: django22
    3.0: django30

[testenv]
recreate = true
whitelist_externals = poetry
install_command = poetry add -D {packages}
commands =
    poetry install -vvv
    poetry run pytest --cov=django_require_login
envdir = {toxworkdir}/venvs/{envname}
deps =
        django111: django>=1.11,<2.0
        django20: django>=2.0,<2.1
        django21: django>=2.1,<2.2
        django22: django>=2.2,<3.0
        django30: django>=3.0,<3.1

[testenv:lint]
commands = pre-commit run -a
"""

[build-system]
requires = ["poetry>=0.12"]
build-backend = "poetry.masonry.api"
