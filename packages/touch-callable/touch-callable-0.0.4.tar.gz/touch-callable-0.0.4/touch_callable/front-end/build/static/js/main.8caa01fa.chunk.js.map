{"version":3,"sources":["logo.svg","touch-callable-text.svg","reducers.js","App.js","serviceWorker.js","index.js"],"names":["_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","_ref2","createElement","_ref3","_ref4","d","id","x","y","width","height","filterUnits","stdDeviation","in","_ref5","stroke","strokeWidth","fill","fillRule","transform","xlinkHref","filter","fontFamily","fontSize","fontWeight","_ref","svgRef","title","props","viewBox","ref","undefined","ForwardRef","forwardRef","updateCallables","callables","type","setLocale","locale","changeModuleStatus","hasNew","initialState","enUS","hasNewModule","runCallableApp","state","action","Header","Layout","Content","Footer","Callables","setCallables","axios","get","then","response","data","itemLayout","dataSource","renderItem","item","Item","Meta","to","callable_name","description","Component","mapDispatchToProps","dispatch","bindActionCreators","ReduxCallables","connect","SingleFileUpload","handleChange","info","fileList","setState","disabled","onChange","onRemove","e","beforeUpload","file","React","CallableForm","handleSubmit","preventDefault","form","validateFields","err","values","files","json","value","paramName","Array","isArray","originFileObj","File","post","match","params","name","status","showSuccessModal","result","showErrorModal","formDataWithFile","FormData","set","JSON","stringify","append","method","url","headers","setCallable","callableInfo","callableName","callable","normFile","buildFormItem","parameter","index","array","inputWidget","getFieldDecorator","parameterName","includes","annotation","label","valuePropName","getValueFromEvent","rules","required","message","allowClear","parser","Math","floor","Group","buttonStyle","Button","showTime","enum_values","map","initialValue","buildDefaultValue","default","moment","visible","Modal","success","content","error","style","border","onBack","history","push","layout","onSubmit","doc","parameters","wrapperCol","span","htmlType","block","WrappedCallableForm","Form","create","ReduxWrappedCallableForm","LanguageSelector","getLocaleText","zhCN","localeText","onChangeLocale","newLocale","onClick","mapStateLocaleToProps","ReduxLanguageSelector","ModuleReloader","loading","reloadModule","window","location","reload","queryNewModule","has_new","prevState","secondsElapsed","interval","setInterval","clearInterval","display","marginRight","ReduxModuleReloader","App","document","className","background","boxShadow","justify","align","md","xs","verticalAlign","textAlign","margin","exact","path","component","ReduxApp","Boolean","hostname","store","createStore","__REDUX_DEVTOOLS_EXTENSION__","trace","traceLimit","ReactDOM","render","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.8caa01fa.chunk.js","sourcesContent":["function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"title\", null, \"\\u7F16\\u7EC4\");\n\nvar _ref3 =\n/*#__PURE__*/\nReact.createElement(\"desc\", null, \"Created with Sketch.\");\n\nvar _ref4 =\n/*#__PURE__*/\nReact.createElement(\"defs\", null, React.createElement(\"path\", {\n  d: \"M6.48075496,131.95025 L24.9627073,150.431098 C23.6769032,156.417298 23,162.629599 23,169 C23,217.601058 62.398942,257 111,257 C117.370401,257 123.582702,256.323097 129.568902,255.037293 L149.04975,274.519245 C137.316712,278.71484 124.67522,281 111.5,281 C49.9202504,281 1.42108547e-14,231.07975 1.42108547e-14,169.5 C1.42108547e-14,156.32478 2.28516018,143.683288 6.48075496,131.95025 Z M111.5,58 C173.07975,58 223,107.92025 223,169.5 C223,183.225266 220.520053,196.371309 215.983803,208.514485 L196.670284,189.201335 C198.193974,182.714721 199,175.951489 199,169 C199,120.398942 159.601058,81 111,81 C104.048511,81 97.2852792,81.8060255 90.7986652,83.3297162 L72.4855155,65.0161969 C84.628691,60.4799473 97.7747341,58 111.5,58 Z\",\n  id: \"path-1\"\n}), React.createElement(\"filter\", {\n  x: \"0.0%\",\n  y: \"0.0%\",\n  width: \"100.0%\",\n  height: \"100.0%\",\n  filterUnits: \"objectBoundingBox\",\n  id: \"filter-2\"\n}, React.createElement(\"feGaussianBlur\", {\n  stdDeviation: 0,\n  in: \"SourceGraphic\"\n})));\n\nvar _ref5 =\n/*#__PURE__*/\nReact.createElement(\"g\", {\n  id: \"\\\\u9875\\\\u9762-1\",\n  stroke: \"none\",\n  strokeWidth: 1,\n  fill: \"none\",\n  fillRule: \"evenodd\"\n}, React.createElement(\"g\", {\n  id: \"\\\\u7F16\\\\u7EC4\",\n  transform: \"translate(0.270599, -58.000000)\"\n}, React.createElement(\"mask\", {\n  id: \"mask-3\",\n  fill: \"white\"\n}, React.createElement(\"use\", {\n  xlinkHref: \"#path-1\"\n})), React.createElement(\"use\", {\n  id: \"\\\\u5F62\\\\u72B6\\\\u7ED3\\\\u5408\",\n  fill: \"#000000\",\n  filter: \"url(#filter-2)\",\n  xlinkHref: \"#path-1\"\n}), React.createElement(\"text\", {\n  id: \"t\",\n  fontFamily: \"STBaoliSC-Regular, Baoli SC\",\n  fontSize: 201,\n  fontWeight: \"normal\",\n  fill: \"#000000\"\n}, React.createElement(\"tspan\", {\n  x: 71,\n  y: 213\n}, \"t\"))));\n\nvar SvgLogo = function SvgLogo(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    width: \"224px\",\n    height: \"223px\",\n    viewBox: \"0 0 224 223\",\n    ref: svgRef\n  }, props), title === undefined ? _ref2 : React.createElement(\"title\", null, title), _ref3, _ref4, _ref5);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgLogo, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/logo.3dedce73.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"title\", null, \"Touch Callable\");\n\nvar _ref3 =\n/*#__PURE__*/\nReact.createElement(\"desc\", null, \"Created with Sketch.\");\n\nvar _ref4 =\n/*#__PURE__*/\nReact.createElement(\"g\", {\n  id: \"\\\\u9875\\\\u9762-1\",\n  stroke: \"none\",\n  strokeWidth: 1,\n  fill: \"none\",\n  fillRule: \"evenodd\",\n  fontFamily: \"GoMonoForPowerline, Go Mono for Powerline\",\n  fontSize: 24,\n  fontWeight: \"normal\"\n}, React.createElement(\"g\", {\n  id: \"\\\\u753B\\\\u677F\",\n  transform: \"translate(-640.000000, -73.000000)\",\n  fill: \"#000000\"\n}, React.createElement(\"text\", {\n  id: \"Touch-Callable\"\n}, React.createElement(\"tspan\", {\n  x: 640,\n  y: 92\n}, \"Touch Callable\"))));\n\nvar SvgTouchCallableText = function SvgTouchCallableText(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    width: \"200px\",\n    height: \"20px\",\n    viewBox: \"0 0 200 20\",\n    ref: svgRef\n  }, props), title === undefined ? _ref2 : React.createElement(\"title\", null, title), _ref3, _ref4);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgTouchCallableText, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/touch-callable-text.edef1c3c.svg\";\nexport { ForwardRef as ReactComponent };","import enUS from 'antd/es/locale/en_US';\n\nexport function updateCallables(callables) {\n  return {\n    type: 'updateCallables',\n    callables\n  }\n}\n\nexport function setLocale(locale) {\n  return {\n    type: 'setLocale',\n    locale\n  }\n}\n\nexport function changeModuleStatus(hasNew) {\n  return {\n    type: 'changeModuleStatus',\n    hasNew\n  }\n}\n\nconst initialState = {\n  callables: [],\n  locale: enUS,\n  hasNewModule: false\n}\n\n\nfunction runCallableApp(state = initialState, action) {\n  switch (action.type) {\n    case 'updateCallables':\n      return Object.assign({}, state, {\n        callables: action.callables\n      })\n    case 'setLocale':\n      return Object.assign({}, state, {\n        locale: action.locale\n      })\n    case 'changeModuleStatus':\n      return Object.assign({}, state, {\n        hasNewModule: action.hasNew\n      })\n    default:\n      return state\n  }\n}\n\n\nexport default runCallableApp\n","import React, { Component } from 'react';\nimport { HashRouter, Route, Link, Switch } from 'react-router-dom';\nimport { bindActionCreators } from 'redux';\nimport { connect } from 'react-redux';\nimport { List, Form, Input, Button, message, DatePicker, Upload, Icon, TimePicker, Modal, Layout, Radio, Divider, PageHeader, InputNumber, ConfigProvider, Row, Col } from 'antd';\nimport enUS from 'antd/es/locale/en_US';\nimport zhCN from 'antd/es/locale/zh_CN';\nimport axios from 'axios';\nimport moment, { locales } from 'moment';\nimport 'moment/locale/zh-cn';\nimport './App.css';\n\nimport { ReactComponent as Logo } from './logo.svg';\nimport { ReactComponent as LogoText } from './touch-callable-text.svg'\n\nimport { updateCallables, setLocale, changeModuleStatus } from './reducers'\n\n\nconst { Header, Content, Footer } = Layout;\n\n\nclass Callables extends Component {\n\n  componentDidMount() {\n    const { setCallables } = this.props\n\n    axios.get('callable')\n      .then(response => {\n        setCallables(response.data)\n      });\n\n  }\n\n  render() {\n    return (\n      <List\n        itemLayout=\"horizontal\"\n        dataSource={this.props.callables}\n        renderItem={item => (\n          <List.Item>\n            <List.Item.Meta\n              title={<Link to={`/callable/${item.callable_name}`}>{item.callable_name}</Link>}\n              description={item.title}\n            />\n          </List.Item>\n        )}\n      />\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    callables: state.callables\n  }\n}\n\nconst mapDispatchToProps = dispatch => {\n  return bindActionCreators({\n    setCallables: updateCallables\n  }, dispatch)\n}\n\nconst ReduxCallables = connect(mapStateToProps, mapDispatchToProps)(Callables)\n\n\nclass SingleFileUpload extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      fileList: [],\n      disabled: false\n    };\n  }\n\n  handleChange = info => {\n    let fileList = [...info.fileList];\n\n    if (fileList.length >= 1) {\n      this.setState({\n        disabled: true\n      })\n    }\n\n    this.setState({ fileList });\n    this.props.onChange(fileList)\n  };\n\n  onRemove = e => {\n    this.setState({disabled: false})\n    return true\n  };\n\n  render() {\n    const { disabled } = this.state;\n    const props = {\n      onChange: this.handleChange,\n      onRemove: this.onRemove\n    };\n\n    return (\n      <Upload {...props} beforeUpload={file => { return false }} fileList={this.state.fileList}>\n        {this.state.fileList.length === 0 ? (\n          <Button disabled={disabled} >\n            <Icon type=\"upload\" /> Upload\n          </Button>) : null\n        }\n      </Upload>\n    );\n  }\n}\n\n\nclass CallableForm extends React.Component {\n\n  constructor(props) {\n    super(props)\n    const { callables } = this.props\n\n    this.state = {\n      visible: false,\n      response: null,\n      callables: callables,\n    };\n  }\n\n  componentDidMount() {\n    const { setCallables } = this.props\n\n    axios.get('callable')\n      .then(response => {\n        setCallables(response.data)\n      });\n\n  }\n\n  handleSubmit = e => {\n    e.preventDefault();\n    this.props.form.validateFields((err, values) => {\n      if (!err) {\n        let files = {}\n        let json = {}\n        for (var paramName of Object.keys(values)) {\n          let value = values[paramName]\n          if (Array.isArray(value) && value.length !== 0 && value[0] instanceof Object && value[0].originFileObj instanceof File) {\n            files[paramName] = values[paramName][0].originFileObj\n          } else {\n            json[paramName] = values[paramName]\n          }\n        }\n\n        if (Object.keys(files).length === 0) {\n          axios.post(`callable/${this.props.match.params.name}`, values)\n            .then((response) => {\n              if (response.data.status === 'success') {\n                this.showSuccessModal(response.data.result)\n              } else {\n                this.showErrorModal(response.data.result)\n              }\n            });\n        } else {\n          let formDataWithFile = new FormData()\n          formDataWithFile.set('json', JSON.stringify(json))\n          for (var paramName of Object.keys(files)) {\n            formDataWithFile.append(paramName, files[paramName])\n          }\n          axios({\n            method: 'post',\n            url: `callable/${this.props.match.params.name}`,\n            data: formDataWithFile,\n            headers: { 'Content-Type': 'multipart/form-data' }\n          })\n            .then((response) => {\n              if (response.data.status === 'success') {\n                this.showSuccessModal(response.data.result)\n              } else {\n                this.showErrorModal(response.data.result)\n              }\n            });\n        }\n      }\n\n    });\n  };\n\n  showSuccessModal(result) {\n    Modal.success({\n      title: '执行成功',\n      content: result,\n    });\n  }\n\n  showErrorModal(result) {\n    Modal.error({\n      title: '执行失败',\n      content: result,\n    });\n  }\n\n  setCallable = () => {\n    let callableName = this.props.match.params.name;\n    var callableInfo\n    for (callableInfo of this.props.callables) {\n      if (callableInfo.callable_name === callableName) {\n        this.callable = callableInfo\n        break\n      }\n    }\n  };\n\n  normFile = e => {\n    if (Array.isArray(e)) {\n      return e;\n    }\n    return e && e.fileList;\n  };\n\n  buildFormItem = (parameter, index, array) => {\n    const { getFieldDecorator } = this.props.form;\n\n    let parameterName = parameter.name\n\n    if ([\"BytesIO\", \"BinaryIO\"].includes(parameter.annotation)) {\n      return <Form.Item label={parameterName} key={index}>\n        {getFieldDecorator(parameterName, {\n          valuePropName: 'fileList',\n          getValueFromEvent: this.normFile,\n          rules: [{ required: parameter['required'], message: `请上传文件!` }],\n        })(<SingleFileUpload ></SingleFileUpload>)}\n      </Form.Item>\n    }\n\n    let inputWidget\n    switch (parameter.annotation) {\n      case 'str':\n        inputWidget = <Input allowClear />;\n        break\n      case 'float':\n        inputWidget = <InputNumber allowClear />;\n        break\n      case 'int':\n        inputWidget = <InputNumber parser={value => Math.floor(value)} allowClear />;\n        break\n      case 'bool':\n        inputWidget = <Radio.Group buttonStyle=\"solid\">\n          <Radio.Button value={true}>True</Radio.Button>\n          <Radio.Button value={false}>False</Radio.Button>\n        </Radio.Group>;\n        break\n      case 'datetime':\n        inputWidget = <DatePicker showTime />;\n        break\n      case 'date':\n        inputWidget = <DatePicker />;\n        break\n      case 'time':\n        inputWidget = <TimePicker />;\n        break\n      case 'Enum':\n        inputWidget = <Radio.Group buttonStyle=\"solid\">\n          {\n            parameter.enum_values.map((value, index, array) =>\n              <Radio.Button value={value} key={index}>{value}</Radio.Button>\n            )\n          }\n        </Radio.Group>;\n        break\n      default:\n        inputWidget = <Input />;\n    }\n\n    return <Form.Item label={parameterName} key={index}>\n      {getFieldDecorator(parameterName, {\n        initialValue: this.buildDefaultValue(parameter),\n        rules: [{ required: parameter['required'], message: `请输入${parameterName}!` }],\n      })(inputWidget)}\n    </Form.Item>\n  }\n\n  buildDefaultValue = parameter => {\n    if (parameter.annotation === 'time' && parameter.default) {\n      return moment(parameter.default, 'HH:mm:ss')\n    }\n    else if (parameter.annotation === 'date' && parameter.default) {\n      return moment(parameter.default, '\"YYYY-MM-DD\"')\n    }\n    else if (parameter.annotation === 'datetime' && parameter.default) {\n      return moment(parameter.default, '\"YYYY-MM-DDTHH:mm:ss\"')\n    }\n    else {\n      return parameter.default\n    }\n  }\n\n  render() {\n    this.setCallable()\n\n    return (\n      <PageHeader\n        style={{\n          border: '1px solid rgb(235, 237, 240)',\n        }}\n        onBack={() => this.props.history.push('/')}\n        title=\"功能列表\"\n      >\n        <Form layout=\"vertical\" onSubmit={this.handleSubmit}>\n          <Divider>{this.callable ? this.callable.callable_name : ''}</Divider>\n          <pre>{this.callable && this.callable.doc ? this.callable.doc : '没有文档'}</pre>\n          {\n            this.callable && this.callable.parameters.length ? <Divider>参数填写</Divider> : []\n          }\n\n          {\n            this.callable ? this.callable.parameters.map(this.buildFormItem) : []\n          }\n\n          <Form.Item wrapperCol={{ span: 24 }}>\n            <Button type=\"primary\" htmlType=\"submit\" block>\n              运行\n            </Button>\n          </Form.Item>\n        </Form>\n      </PageHeader>\n    );\n  }\n}\n\nconst WrappedCallableForm = Form.create({ name: 'callablForm' })(CallableForm);\n\nconst mapStateToFormProps = state => {\n  return {\n    callables: state.callables\n  }\n}\n\nconst ReduxWrappedCallableForm = connect(mapStateToFormProps, mapDispatchToProps)(WrappedCallableForm)\n\n\nclass LanguageSelector extends Component {\n\n  getLocaleText = locale => {\n    if (locale === enUS) {\n      return 'English'\n    } else if (locale === zhCN) {\n      return '中文'\n    }\n  }\n\n  state = {\n    localeText: this.getLocaleText(this.props.locale)\n  }\n\n  componentDidMount() {\n    const { setLocale, locale } = this.props\n\n    axios.get('locale')\n      .then(response => {\n        if (response.data.locale === locale.locale) {\n          return\n        }\n\n        if (response.data.locale === 'en') {\n          setLocale(enUS)\n        } else {\n          setLocale(zhCN)\n        }\n      });\n\n  }\n\n  onChangeLocale = e => {\n    const { setLocale, locale } = this.props\n\n    let newLocale = null\n    if (locale === enUS) {\n      newLocale = zhCN\n    } else if (locale === zhCN) {\n      newLocale = enUS\n    }\n\n    axios.post('locale', { locale: newLocale.locale })\n\n    setLocale(newLocale);\n    this.setState({ localeText: this.getLocaleText(newLocale) })\n\n    if (newLocale === enUS) {\n      moment.locale('en');\n    } else {\n      moment.locale('zh-cn');\n    }\n  };\n\n  render() {\n    return (\n      <Button onClick={this.onChangeLocale}>\n        {this.state.localeText}\n      </Button>\n    )\n  }\n}\n\n\nconst mapStateLocaleToProps = state => {\n  return {\n    locale: state.locale\n  }\n}\n\n\nconst mapDispatchLocaleToProps = dispatch => {\n  return bindActionCreators({\n    setLocale: setLocale\n  }, dispatch)\n}\n\n\nconst ReduxLanguageSelector = connect(mapStateLocaleToProps, mapDispatchLocaleToProps)(LanguageSelector)\n\n\nclass ModuleReloader extends Component {\n\n  state = {\n    loading: false,\n  }\n\n  reloadModule = e => {\n    const { updateCallables } = this.props\n    this.setState({ loading: true })\n    axios.post('reload-module')\n\n    axios.get('callable')\n      .then(response => {\n        updateCallables(response.data)\n      });\n    this.setState({ loading: false })\n    window.location.reload(true)\n    message.success('更新成功', 1);\n  }\n\n  queryNewModule = () => {\n    const { hasNewModule, changeModuleStatus } = this.props;\n\n    axios.get('module-status')\n      .then(response => {\n        if (response.data.has_new === hasNewModule) {\n          return\n        }\n        if (response.data.has_new) {\n          message.info('模块有更新！', 1);\n        }\n        changeModuleStatus(response.data.has_new)\n      });\n  }\n\n  tick() {\n    this.setState((prevState) => ({\n      secondsElapsed: prevState.secondsElapsed + 1\n    }));\n  }\n\n  componentDidMount() {\n    this.interval = setInterval(() => this.queryNewModule(), 1000);\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.interval);\n  }\n\n  render() {\n    return (\n      <Button\n        disabled={!this.props.hasNewModule}\n        loading={this.state.loading}\n        style={{ display: 'inline-block', marginRight: '20px' }}\n        onClick={this.reloadModule}\n      >\n        Reload Module\n      </Button>\n    )\n  }\n}\n\n\nconst mapModuleStateToProps = state => {\n  return {\n    hasNewModule: state.hasNewModule\n  }\n}\n\n\nconst mapchangeModuleStatusToProps = dispatch => {\n  return bindActionCreators({\n    changeModuleStatus: changeModuleStatus,\n    updateCallables: updateCallables\n  }, dispatch)\n}\n\n\nconst ReduxModuleReloader = connect(mapModuleStateToProps, mapchangeModuleStatusToProps)(ModuleReloader)\n\n\nclass App extends Component {\n\n  componentDidMount() {\n    document.title = \"Touch-Callable\"\n  }\n\n  render() {\n    const { locale } = this.props;\n    return (\n      <ConfigProvider locale={locale}>\n        <Layout className=\"layout\" key={locale ? locale.locale : 'en' /* Have to refresh for production environment */}>\n          <Header style={{ background: 'white', boxShadow: '0px 1px 5px #d0cdcd', height: 'unset' }}>\n            <Row type=\"flex\" justify=\"center\" align=\"middle\">\n              <Col md={8} xs={24}>\n                <Logo style={{ verticalAlign: 'middle', marginRight: '20px', width: '48px', height: '48px' }} />\n                <LogoText style={{ verticalAlign: 'middle', width: '150px' }} />\n              </Col>\n              <Col md={8} xs={24}></Col>\n              <Col md={8} xs={24} style={{ textAlign: \"right\" }}>\n                <ReduxModuleReloader style={{ marginRight: '20px' }} />\n                <ReduxLanguageSelector />\n              </Col>\n            </Row>\n          </Header>\n          <Content style={{ margin: '10px 10px' }}>\n            <Row span={24}>\n              <Col md={6} xs={24}></Col>\n              <Col md={12} xs={24}>\n                <HashRouter>\n                  <Switch>\n                    <Route exact path='/' component={ReduxCallables} />\n                    <Route path='/callable/:name' component={ReduxWrappedCallableForm} />\n                  </Switch>\n                </HashRouter>\n              </Col>\n              <Col md={6} xs={24}></Col>\n            </Row>\n          </Content>\n          <Footer style={{ textAlign: 'center' }}>Touch Callable</Footer>\n        </Layout>\n      </ConfigProvider >\n    )\n  }\n}\n\nconst ReduxApp = connect(mapStateLocaleToProps)(App)\n\nexport default ReduxApp;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport ReduxApp from './App';\nimport * as serviceWorker from './serviceWorker';\n\nimport { Provider } from 'react-redux';\nimport { createStore } from 'redux';\n\nimport runCallableApp from './reducers'\n\n\nlet store = createStore(\n  runCallableApp,\n  window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__({ trace: true, traceLimit: 25 }));\n\nReactDOM.render(\n  <Provider store={store}>\n    <ReduxApp />\n  </Provider>, \n  document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}