require=(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({"data_export":[function(require,module,exports){
var $=require("base/jQuery"),DataExportView=require("data_export/views").DataExportView,DataExportStateModel=require("data_export/models").DataExportStateModel;module.exports={$:$,DataExportView:DataExportView,DataExportStateModel:DataExportStateModel};
},{"base/jQuery":47,"data_export/models":25,"data_export/views":26}],26:[function(require,module,exports){
var Handlebars=require("base/handlebars"),Backbone=require("base/backbone"),$=require("base/jQuery"),Models=require("./models"),DataExportView=Backbone.View.extend({template:require("./hbtemplates/data-export-container.handlebars"),initialize:function(e){this.options=e||{},this.zone_select_view=new ZoneSelectView({org_id:e.org_id,model:this.model}),this.facility_select_view=new FacilitySelectView({model:this.model}),this.group_select_view=new GroupSelectView({model:this.model}),this.render()},events:{"click #export-button":"export_data","change #resource-id":"resource_changed"},render:function(){this.$el.html(this.template(this.model.attributes)),this.$("#student-select-container").append(this.zone_select_view.$el),this.$("#student-select-container").append(this.facility_select_view.$el),this.$("#student-select-container").append(this.group_select_view.$el)},resource_changed:function(){this.model.set({resource_id:this.$("#resource-id").val()})},resource_endpoint:function(){var e=this.model.get("resource_id");switch(e){case"facility_user":return FACILITY_USER_CSV_URL;case"test_log":return TEST_LOG_CSV_URL;case"attempt_log":return ATTEMPT_LOG_CSV_URL;case"exercise_log":return EXERCISE_LOG_CSV_URL;case"device_log":return DEVICE_LOG_CSV_URL;case"content_rating":return CONTENT_RATING_CSV_URL}},export_data:function(e){e.preventDefault();var t=this.model.get("zone_id"),i=this.model.get("facility_id"),s=this.model.get("group_id"),l=(this.resource_endpoint(),"");void 0!==t&&""!==t||(l=_.map(this.zone_select_view.zone_list.models,function(e){return e.get("id")}).join());var n="?"+$.param({group_id:s,facility_id:i,zone_id:t,zone_ids:l,format:"csv",limit:0}),o=this.resource_endpoint()+n;window.location=o}}),ZoneSelectView=Backbone.View.extend({template:require("./hbtemplates/zone-select.handlebars"),initialize:function(e){this.zone_list=new Models.ZoneCollection,this.model.get("is_central")&&(this.listenTo(this.zone_list,"sync",this.render),this.zone_list.fetch({data:$.param({org_id:e.org_id,limit:0})})),this.render()},render:function(){var e=this.template({zones:this.zone_list.toJSON(),selection:this.model.get("zone_id")});this.model.get("is_central")?this.$el.html(e):this.$el.html(e).hide()},events:{change:"zone_changed"},zone_changed:function(e){var t=this.$("select").val();this.model.set({facility_id:void 0,group_id:void 0,zone_id:t})}}),FacilitySelectView=Backbone.View.extend({template:require("./hbtemplates/facility-select.handlebars"),initialize:function(){this.facility_list=new Models.FacilityCollection,this.listenTo(this.facility_list,"sync",this.render),this.listenTo(this.facility_list,"reset",this.render),this.listenTo(this.model,"change:resource_id",this.render),this.model.get("is_central")&&this.listenTo(this.model,"change:zone_id",this.fetch_by_zone),this.fetch_by_zone(),this.render()},render:function(){var e={facilities:this.facility_list.toJSON(),selection:this.model.get("facility_id"),is_disabled:this.is_disabled()};return this.$el.html(this.template(e)),this},is_disabled:function(){return!("device_log"!==this.model.get("resource_id")&&!window.IS_FACILITY_USER)||(void 0===this.model.get("zone_id")||""===this.model.get("zone_id"))&&this.model.get("is_central")},render_waiting:function(){var e={is_disabled:!0,loading:!0};this.$el.html(this.template(e))},events:{change:"facility_changed"},facility_changed:function(e){var t=this.$("select").val();this.model.set({group_id:void 0,facility_id:t})},fetch_by_zone:function(){if(this.model.get("is_central")){var e=this.model.get("zone_id");e?(this.render_waiting(),this.facility_list.fetch({data:$.param({zone_id:e,limit:0})})):this.facility_list.reset()}else this.render_waiting(),this.facility_list.fetch()}}),GroupSelectView=Backbone.View.extend({template:require("./hbtemplates/group-select.handlebars"),initialize:function(){this.group_list=new Models.GroupCollection,this.fetch_by_facility(),this.listenTo(this.group_list,"sync",this.render),this.listenTo(this.group_list,"reset",this.render),this.listenTo(this.model,"change:resource_id",this.render),this.listenTo(this.model,"change:facility_id",this.fetch_by_facility),this.render()},render:function(){var e={groups:this.group_list.toJSON(),selection:this.model.get("group_id"),is_disabled:this.is_disabled()};return this.$el.html(this.template(e)),this},is_disabled:function(){return"device_log"===this.model.get("resource_id")||!this.model.get("facility_id")},render_waiting:function(){var e={is_disabled:!0,loading:!0};this.$el.html(this.template(e))},events:{change:"group_changed"},group_changed:function(e){var t=this.$("select").val();this.model.set({group_id:t})},fetch_by_facility:function(){var e=this.model.get("facility_id");e?(this.render_waiting(),this.group_list.fetch({data:$.param({facility_id:e,limit:0})})):this.group_list.reset()}});module.exports={DataExportView:DataExportView,ZoneSelectView:ZoneSelectView,FacilitySelectView:FacilitySelectView,GroupSelectView:GroupSelectView};
},{"./hbtemplates/data-export-container.handlebars":21,"./hbtemplates/facility-select.handlebars":22,"./hbtemplates/group-select.handlebars":23,"./hbtemplates/zone-select.handlebars":24,"./models":25,"base/backbone":44,"base/handlebars":46,"base/jQuery":47}],25:[function(require,module,exports){
var Backbone=require("base/backbone"),ZoneModel=Backbone.Model.extend(),FacilityModel=Backbone.Model.extend(),GroupModel=Backbone.Model.extend(),DataExportStateModel=Backbone.Model.extend(),ZoneCollection=Backbone.Collection.extend({model:ZoneModel,url:ALL_ZONES_URL}),FacilityCollection=Backbone.Collection.extend({model:FacilityModel,url:ALL_FACILITIES_URL}),GroupCollection=Backbone.Collection.extend({model:GroupModel,url:ALL_GROUPS_URL});module.exports={ZoneModel:ZoneModel,FacilityModel:FacilityModel,GroupModel:GroupModel,DataExportStateModel:DataExportStateModel,ZoneCollection:ZoneCollection,FacilityCollection:FacilityCollection,GroupCollection:GroupCollection};
},{"base/backbone":44}],24:[function(require,module,exports){
var HandlebarsCompiler=require("hbsfy/runtime");module.exports=HandlebarsCompiler.template(function(a,e,l,n,o){function s(a,e,n){var o,s,t,c="";return c+='\n                <option value="',(s=l.id)?o=s.call(a,{hash:{},data:e}):(s=a&&a.id,o=typeof s===d?s.call(a,{hash:{},data:e}):s),c+=p(o)+'" ',s=l.ifcond||n&&n.ifcond,t={hash:{},inverse:f.noop,fn:f.program(2,i,e),data:e},o=s?s.call(a,n&&n.selection,"===",a&&a.id,t):m.call(a,"ifcond",n&&n.selection,"===",a&&a.id,t),(o||0===o)&&(c+=o),c+=">",(s=l.name)?o=s.call(a,{hash:{},data:e}):(s=a&&a.name,o=typeof s===d?s.call(a,{hash:{},data:e}):s),c+=p(o)+"</option>\n            "}function i(a,e){return"selected"}this.compilerInfo=[4,">= 1.0.0"],l=this.merge(l,a.helpers),o=o||{};var t,c,r,h="",d="function",p=this.escapeExpression,f=this,m=l.helperMissing;return h+='<div class="form-group">\n    <label for="zone-name" class="col-xs-2">'+p((c=l._||e&&e._,r={hash:{},data:o},c?c.call(e,"Zone",r):m.call(e,"_","Zone",r)))+'</label>\n    <div class="col-xs-8">\n        <select class="form-control" id="zone-name">\n            <option value="">'+p((c=l._||e&&e._,r={hash:{},data:o},c?c.call(e,"All",r):m.call(e,"_","All",r)))+"</option>\n            ",t=l.each.call(e,e&&e.zones,{hash:{},inverse:f.noop,fn:f.programWithDepth(1,s,o,e),data:o}),(t||0===t)&&(h+=t),h+="\n        </select>\n    </div>\n</div>"});
},{"hbsfy/runtime":308}],23:[function(require,module,exports){
var HandlebarsCompiler=require("hbsfy/runtime");module.exports=HandlebarsCompiler.template(function(a,n,l,e,o){function r(a,n){return'\n            <img src="/static/images/loading.gif" class="float-center float-over-select loading"/>\n        '}function i(a,n){return"loading-transparency"}function s(a,n){return"disabled"}function t(a,n){var e,o,r,i="";return i+='\n                <option value="">'+v((o=l._||a&&a._,r={hash:{},data:n},o?o.call(a,"All",r):m.call(a,"_","All",r)))+"</option>\n                ",e=l.each.call(a,a&&a.groups,{hash:{},inverse:b.noop,fn:b.programWithDepth(8,c,n,a),data:n}),(e||0===e)&&(i+=e),i+="\n            "}function c(a,n,e){var o,r,i,s="";return s+=v((r=l._||a&&a._,i={hash:{},data:n},r?r.call(a,"s",i):m.call(a,"_","s",i)))+'\n                    <option value="',(r=l.id)?o=r.call(a,{hash:{},data:n}):(r=a&&a.id,o=typeof r===_?r.call(a,{hash:{},data:n}):r),s+=v(o)+'" ',r=l.ifcond||e&&e.ifcond,i={hash:{},inverse:b.noop,fn:b.program(9,d,n),data:n},o=r?r.call(a,e&&e.selection,"===",a&&a.id,i):m.call(a,"ifcond",e&&e.selection,"===",a&&a.id,i),(o||0===o)&&(s+=o),s+=">",(r=l.name)?o=r.call(a,{hash:{},data:n}):(r=a&&a.name,o=typeof r===_?r.call(a,{hash:{},data:n}):r),s+=v(o)+"</option>\n                "}function d(a,n){return"selected"}function h(a,n){var e,o,r="";return r+="\n                <option disabled>"+v((e=l._||a&&a._,o={hash:{},data:n},e?e.call(a,"All",o):m.call(a,"_","All",o)))+"</option>\n            "}this.compilerInfo=[4,">= 1.0.0"],l=this.merge(l,a.helpers),o=o||{};var p,f,u,g="",m=l.helperMissing,v=this.escapeExpression,_="function",b=this;return g+='<div class="form-group">\n    <label for="group-name" class="col-xs-2">'+v((f=l._||n&&n._,u={hash:{},data:o},f?f.call(n,"Group",u):m.call(n,"_","Group",u)))+'</label>\n    <div class="col-xs-8">\n        ',p=l.if.call(n,n&&n.loading,{hash:{},inverse:b.noop,fn:b.program(1,r,o),data:o}),(p||0===p)&&(g+=p),g+='\n        <select class="form-control ',p=l.if.call(n,n&&n.loading,{hash:{},inverse:b.noop,fn:b.program(3,i,o),data:o}),(p||0===p)&&(g+=p),g+='" id="group-name" ',p=l.if.call(n,n&&n.is_disabled,{hash:{},inverse:b.noop,fn:b.program(5,s,o),data:o}),(p||0===p)&&(g+=p),g+=">\n            ",p=l.if.call(n,n&&n.groups,{hash:{},inverse:b.program(11,h,o),fn:b.program(7,t,o),data:o}),(p||0===p)&&(g+=p),g+="\n        </select>\n    </div>\n</div>"});
},{"hbsfy/runtime":308}],22:[function(require,module,exports){
var HandlebarsCompiler=require("hbsfy/runtime");module.exports=HandlebarsCompiler.template(function(a,n,l,e,i){function o(a,n){return'\n            <img src="/static/images/loading.gif" class="float-center float-over-select loading"/>\n        '}function t(a,n){return"loading-transparency"}function s(a,n){return"disabled"}function r(a,n,e){var i,o,t,s="";return s+='\n                <option value="',(o=l.id)?i=o.call(a,{hash:{},data:n}):(o=a&&a.id,i=typeof o===m?o.call(a,{hash:{},data:n}):o),s+=u(i)+'" ',o=l.ifcond||e&&e.ifcond,t={hash:{},inverse:g.noop,fn:g.program(8,c,n),data:n},i=o?o.call(a,e&&e.selection,"===",a&&a.id,t):v.call(a,"ifcond",e&&e.selection,"===",a&&a.id,t),(i||0===i)&&(s+=i),s+=">",(o=l.name)?i=o.call(a,{hash:{},data:n}):(o=a&&a.name,i=typeof o===m?o.call(a,{hash:{},data:n}):o),s+=u(i)+"</option>\n            "}function c(a,n){return"selected"}this.compilerInfo=[4,">= 1.0.0"],l=this.merge(l,a.helpers),i=i||{};var d,h,f,p="",m="function",u=this.escapeExpression,g=this,v=l.helperMissing;return p+='<div class="form-group">\n    <label for="facility-name" class="col-xs-2">'+u((h=l._||n&&n._,f={hash:{},data:i},h?h.call(n,"Facility",f):v.call(n,"_","Facility",f)))+'</label>\n    <div class="col-xs-8">\n        ',d=l.if.call(n,n&&n.loading,{hash:{},inverse:g.noop,fn:g.program(1,o,i),data:i}),(d||0===d)&&(p+=d),p+='\n        <select class="form-control ',d=l.if.call(n,n&&n.loading,{hash:{},inverse:g.noop,fn:g.program(3,t,i),data:i}),(d||0===d)&&(p+=d),p+='" id="facility-name" ',d=l.if.call(n,n&&n.is_disabled,{hash:{},inverse:g.noop,fn:g.program(5,s,i),data:i}),(d||0===d)&&(p+=d),p+='>\n            <option value="">'+u((h=l._||n&&n._,f={hash:{},data:i},h?h.call(n,"All",f):v.call(n,"_","All",f)))+"</option>\n            ",d=l.each.call(n,n&&n.facilities,{hash:{},inverse:g.noop,fn:g.programWithDepth(7,r,i,n),data:i}),(d||0===d)&&(p+=d),p+="\n        </select>\n    </div>\n</div>"});
},{"hbsfy/runtime":308}],21:[function(require,module,exports){
var HandlebarsCompiler=require("hbsfy/runtime");module.exports=HandlebarsCompiler.template(function(a,l,o,s,e){function t(a,l){var s,e,t="";return t+='\n                <option value="test_log">'+_((s=o._||a&&a._,e={hash:{},data:l},s?s.call(a,"Test Logs",e):p.call(a,"_","Test Logs",e)))+"</option>\n                "}function n(a,l){var s,e,t="";return t+='\n                <option value="device_log">'+_((s=o._||a&&a._,e={hash:{},data:l},s?s.call(a,"Device Logs",e):p.call(a,"_","Device Logs",e)))+"</option>\n                "}this.compilerInfo=[4,">= 1.0.0"],o=this.merge(o,a.helpers),e=e||{};var i,c,r,d="",p=o.helperMissing,_=this.escapeExpression,h=this;return d+='<form class="form-horizontal" role="form" id="data-export-form" method="GET">\n    <div id="student-select-container"></div>\n    <div class="form-group">\n        <label for="resource-name" class="col-xs-2">'+_((c=o._||l&&l._,r={hash:{},data:e},c?c.call(l,"Resource",r):p.call(l,"_","Resource",r)))+'</label>\n        <div class="col-xs-8">\n            <select class="form-control" id="resource-id">\n                <option value="facility_user">'+_((c=o._||l&&l._,r={hash:{},data:e},c?c.call(l,"Facility User Logs",r):p.call(l,"_","Facility User Logs",r)))+'</option>\n                <option value="attempt_log">'+_((c=o._||l&&l._,r={hash:{},data:e},c?c.call(l,"Attempt Logs",r):p.call(l,"_","Attempt Logs",r)))+'</option>\n                <option value="exercise_log">'+_((c=o._||l&&l._,r={hash:{},data:e},c?c.call(l,"Exercise Logs",r):p.call(l,"_","Exercise Logs",r)))+'</option>\n                <option value="content_rating">'+_((c=o._||l&&l._,r={hash:{},data:e},c?c.call(l,"Ratings",r):p.call(l,"_","Ratings",r)))+"</option>\n                ",i=o.if.call(l,l&&l.is_nalanda,{hash:{},inverse:h.noop,fn:h.program(1,t,e),data:e}),(i||0===i)&&(d+=i),d+="\n                ",i=o.if.call(l,l&&l.is_central,{hash:{},inverse:h.noop,fn:h.program(3,n,e),data:e}),(i||0===i)&&(d+=i),d+='\n            </select>\n        </div>\n    </div>\n    <div class="form-group">\n        <label for="data-type" class="col-xs-2">'+_((c=o._||l&&l._,r={hash:{},data:e},c?c.call(l,"Data Type",r):p.call(l,"_","Data Type",r)))+'</label>\n        <div class="col-xs-8">\n            <select class="form-control" id="test-name" disabled>\n                <option>'+_((c=o._||l&&l._,r={hash:{},data:e},c?c.call(l,"CSV",r):p.call(l,"_","CSV",r)))+'</option>\n            </select>\n        </div>\n    </div>\n    <div class="form-group">\n        <div class="col-xs-2"></div>\n        <div class="col-xs-8">\n            <button id="export-button" class="btn btn-success">\n                '+_((c=o._||l&&l._,r={hash:{},data:e},c?c.call(l,"Export",r):p.call(l,"_","Export",r)))+"\n            </button>\n        </div>\n    </div>\n</form>\n"});
},{"hbsfy/runtime":308}]},{},["data_export"])
//# sourceMappingURL=data:application/json;charset:utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJrYWxpdGUvY29udHJvbF9wYW5lbC9zdGF0aWMvanMvY29udHJvbF9wYW5lbC9idW5kbGVfbW9kdWxlcy9kYXRhX2V4cG9ydC5qcyIsImthbGl0ZS9jb250cm9sX3BhbmVsL3N0YXRpYy9qcy9jb250cm9sX3BhbmVsL2RhdGFfZXhwb3J0L3ZpZXdzLmpzIiwia2FsaXRlL2NvbnRyb2xfcGFuZWwvc3RhdGljL2pzL2NvbnRyb2xfcGFuZWwvZGF0YV9leHBvcnQvbW9kZWxzLmpzIiwia2FsaXRlL2NvbnRyb2xfcGFuZWwvc3RhdGljL2pzL2NvbnRyb2xfcGFuZWwvZGF0YV9leHBvcnQvaGJ0ZW1wbGF0ZXMvem9uZS1zZWxlY3QuaGFuZGxlYmFycyIsImthbGl0ZS9jb250cm9sX3BhbmVsL3N0YXRpYy9qcy9jb250cm9sX3BhbmVsL2RhdGFfZXhwb3J0L2hidGVtcGxhdGVzL2dyb3VwLXNlbGVjdC5oYW5kbGViYXJzIiwia2FsaXRlL2NvbnRyb2xfcGFuZWwvc3RhdGljL2pzL2NvbnRyb2xfcGFuZWwvZGF0YV9leHBvcnQvaGJ0ZW1wbGF0ZXMvZmFjaWxpdHktc2VsZWN0LmhhbmRsZWJhcnMiLCJrYWxpdGUvY29udHJvbF9wYW5lbC9zdGF0aWMvanMvY29udHJvbF9wYW5lbC9kYXRhX2V4cG9ydC9oYnRlbXBsYXRlcy9kYXRhLWV4cG9ydC1jb250YWluZXIuaGFuZGxlYmFycyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQ0FBOztBQ0FBOztBQ0FBOztBQ0FBOztBQ0FBOztBQ0FBOztBQ0FBIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSIsInZhciAkPXJlcXVpcmUoXCJiYXNlL2pRdWVyeVwiKSxEYXRhRXhwb3J0Vmlldz1yZXF1aXJlKFwiZGF0YV9leHBvcnQvdmlld3NcIikuRGF0YUV4cG9ydFZpZXcsRGF0YUV4cG9ydFN0YXRlTW9kZWw9cmVxdWlyZShcImRhdGFfZXhwb3J0L21vZGVsc1wiKS5EYXRhRXhwb3J0U3RhdGVNb2RlbDttb2R1bGUuZXhwb3J0cz17JDokLERhdGFFeHBvcnRWaWV3OkRhdGFFeHBvcnRWaWV3LERhdGFFeHBvcnRTdGF0ZU1vZGVsOkRhdGFFeHBvcnRTdGF0ZU1vZGVsfTsiLCJ2YXIgSGFuZGxlYmFycz1yZXF1aXJlKFwiYmFzZS9oYW5kbGViYXJzXCIpLEJhY2tib25lPXJlcXVpcmUoXCJiYXNlL2JhY2tib25lXCIpLCQ9cmVxdWlyZShcImJhc2UvalF1ZXJ5XCIpLE1vZGVscz1yZXF1aXJlKFwiLi9tb2RlbHNcIiksRGF0YUV4cG9ydFZpZXc9QmFja2JvbmUuVmlldy5leHRlbmQoe3RlbXBsYXRlOnJlcXVpcmUoXCIuL2hidGVtcGxhdGVzL2RhdGEtZXhwb3J0LWNvbnRhaW5lci5oYW5kbGViYXJzXCIpLGluaXRpYWxpemU6ZnVuY3Rpb24oZSl7dGhpcy5vcHRpb25zPWV8fHt9LHRoaXMuem9uZV9zZWxlY3Rfdmlldz1uZXcgWm9uZVNlbGVjdFZpZXcoe29yZ19pZDplLm9yZ19pZCxtb2RlbDp0aGlzLm1vZGVsfSksdGhpcy5mYWNpbGl0eV9zZWxlY3Rfdmlldz1uZXcgRmFjaWxpdHlTZWxlY3RWaWV3KHttb2RlbDp0aGlzLm1vZGVsfSksdGhpcy5ncm91cF9zZWxlY3Rfdmlldz1uZXcgR3JvdXBTZWxlY3RWaWV3KHttb2RlbDp0aGlzLm1vZGVsfSksdGhpcy5yZW5kZXIoKX0sZXZlbnRzOntcImNsaWNrICNleHBvcnQtYnV0dG9uXCI6XCJleHBvcnRfZGF0YVwiLFwiY2hhbmdlICNyZXNvdXJjZS1pZFwiOlwicmVzb3VyY2VfY2hhbmdlZFwifSxyZW5kZXI6ZnVuY3Rpb24oKXt0aGlzLiRlbC5odG1sKHRoaXMudGVtcGxhdGUodGhpcy5tb2RlbC5hdHRyaWJ1dGVzKSksdGhpcy4kKFwiI3N0dWRlbnQtc2VsZWN0LWNvbnRhaW5lclwiKS5hcHBlbmQodGhpcy56b25lX3NlbGVjdF92aWV3LiRlbCksdGhpcy4kKFwiI3N0dWRlbnQtc2VsZWN0LWNvbnRhaW5lclwiKS5hcHBlbmQodGhpcy5mYWNpbGl0eV9zZWxlY3Rfdmlldy4kZWwpLHRoaXMuJChcIiNzdHVkZW50LXNlbGVjdC1jb250YWluZXJcIikuYXBwZW5kKHRoaXMuZ3JvdXBfc2VsZWN0X3ZpZXcuJGVsKX0scmVzb3VyY2VfY2hhbmdlZDpmdW5jdGlvbigpe3RoaXMubW9kZWwuc2V0KHtyZXNvdXJjZV9pZDp0aGlzLiQoXCIjcmVzb3VyY2UtaWRcIikudmFsKCl9KX0scmVzb3VyY2VfZW5kcG9pbnQ6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLm1vZGVsLmdldChcInJlc291cmNlX2lkXCIpO3N3aXRjaChlKXtjYXNlXCJmYWNpbGl0eV91c2VyXCI6cmV0dXJuIEZBQ0lMSVRZX1VTRVJfQ1NWX1VSTDtjYXNlXCJ0ZXN0X2xvZ1wiOnJldHVybiBURVNUX0xPR19DU1ZfVVJMO2Nhc2VcImF0dGVtcHRfbG9nXCI6cmV0dXJuIEFUVEVNUFRfTE9HX0NTVl9VUkw7Y2FzZVwiZXhlcmNpc2VfbG9nXCI6cmV0dXJuIEVYRVJDSVNFX0xPR19DU1ZfVVJMO2Nhc2VcImRldmljZV9sb2dcIjpyZXR1cm4gREVWSUNFX0xPR19DU1ZfVVJMO2Nhc2VcImNvbnRlbnRfcmF0aW5nXCI6cmV0dXJuIENPTlRFTlRfUkFUSU5HX0NTVl9VUkx9fSxleHBvcnRfZGF0YTpmdW5jdGlvbihlKXtlLnByZXZlbnREZWZhdWx0KCk7dmFyIHQ9dGhpcy5tb2RlbC5nZXQoXCJ6b25lX2lkXCIpLGk9dGhpcy5tb2RlbC5nZXQoXCJmYWNpbGl0eV9pZFwiKSxzPXRoaXMubW9kZWwuZ2V0KFwiZ3JvdXBfaWRcIiksbD0odGhpcy5yZXNvdXJjZV9lbmRwb2ludCgpLFwiXCIpO3ZvaWQgMCE9PXQmJlwiXCIhPT10fHwobD1fLm1hcCh0aGlzLnpvbmVfc2VsZWN0X3ZpZXcuem9uZV9saXN0Lm1vZGVscyxmdW5jdGlvbihlKXtyZXR1cm4gZS5nZXQoXCJpZFwiKX0pLmpvaW4oKSk7dmFyIG49XCI/XCIrJC5wYXJhbSh7Z3JvdXBfaWQ6cyxmYWNpbGl0eV9pZDppLHpvbmVfaWQ6dCx6b25lX2lkczpsLGZvcm1hdDpcImNzdlwiLGxpbWl0OjB9KSxvPXRoaXMucmVzb3VyY2VfZW5kcG9pbnQoKStuO3dpbmRvdy5sb2NhdGlvbj1vfX0pLFpvbmVTZWxlY3RWaWV3PUJhY2tib25lLlZpZXcuZXh0ZW5kKHt0ZW1wbGF0ZTpyZXF1aXJlKFwiLi9oYnRlbXBsYXRlcy96b25lLXNlbGVjdC5oYW5kbGViYXJzXCIpLGluaXRpYWxpemU6ZnVuY3Rpb24oZSl7dGhpcy56b25lX2xpc3Q9bmV3IE1vZGVscy5ab25lQ29sbGVjdGlvbix0aGlzLm1vZGVsLmdldChcImlzX2NlbnRyYWxcIikmJih0aGlzLmxpc3RlblRvKHRoaXMuem9uZV9saXN0LFwic3luY1wiLHRoaXMucmVuZGVyKSx0aGlzLnpvbmVfbGlzdC5mZXRjaCh7ZGF0YTokLnBhcmFtKHtvcmdfaWQ6ZS5vcmdfaWQsbGltaXQ6MH0pfSkpLHRoaXMucmVuZGVyKCl9LHJlbmRlcjpmdW5jdGlvbigpe3ZhciBlPXRoaXMudGVtcGxhdGUoe3pvbmVzOnRoaXMuem9uZV9saXN0LnRvSlNPTigpLHNlbGVjdGlvbjp0aGlzLm1vZGVsLmdldChcInpvbmVfaWRcIil9KTt0aGlzLm1vZGVsLmdldChcImlzX2NlbnRyYWxcIik/dGhpcy4kZWwuaHRtbChlKTp0aGlzLiRlbC5odG1sKGUpLmhpZGUoKX0sZXZlbnRzOntjaGFuZ2U6XCJ6b25lX2NoYW5nZWRcIn0sem9uZV9jaGFuZ2VkOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuJChcInNlbGVjdFwiKS52YWwoKTt0aGlzLm1vZGVsLnNldCh7ZmFjaWxpdHlfaWQ6dm9pZCAwLGdyb3VwX2lkOnZvaWQgMCx6b25lX2lkOnR9KX19KSxGYWNpbGl0eVNlbGVjdFZpZXc9QmFja2JvbmUuVmlldy5leHRlbmQoe3RlbXBsYXRlOnJlcXVpcmUoXCIuL2hidGVtcGxhdGVzL2ZhY2lsaXR5LXNlbGVjdC5oYW5kbGViYXJzXCIpLGluaXRpYWxpemU6ZnVuY3Rpb24oKXt0aGlzLmZhY2lsaXR5X2xpc3Q9bmV3IE1vZGVscy5GYWNpbGl0eUNvbGxlY3Rpb24sdGhpcy5saXN0ZW5Ubyh0aGlzLmZhY2lsaXR5X2xpc3QsXCJzeW5jXCIsdGhpcy5yZW5kZXIpLHRoaXMubGlzdGVuVG8odGhpcy5mYWNpbGl0eV9saXN0LFwicmVzZXRcIix0aGlzLnJlbmRlciksdGhpcy5saXN0ZW5Ubyh0aGlzLm1vZGVsLFwiY2hhbmdlOnJlc291cmNlX2lkXCIsdGhpcy5yZW5kZXIpLHRoaXMubW9kZWwuZ2V0KFwiaXNfY2VudHJhbFwiKSYmdGhpcy5saXN0ZW5Ubyh0aGlzLm1vZGVsLFwiY2hhbmdlOnpvbmVfaWRcIix0aGlzLmZldGNoX2J5X3pvbmUpLHRoaXMuZmV0Y2hfYnlfem9uZSgpLHRoaXMucmVuZGVyKCl9LHJlbmRlcjpmdW5jdGlvbigpe3ZhciBlPXtmYWNpbGl0aWVzOnRoaXMuZmFjaWxpdHlfbGlzdC50b0pTT04oKSxzZWxlY3Rpb246dGhpcy5tb2RlbC5nZXQoXCJmYWNpbGl0eV9pZFwiKSxpc19kaXNhYmxlZDp0aGlzLmlzX2Rpc2FibGVkKCl9O3JldHVybiB0aGlzLiRlbC5odG1sKHRoaXMudGVtcGxhdGUoZSkpLHRoaXN9LGlzX2Rpc2FibGVkOmZ1bmN0aW9uKCl7cmV0dXJuIShcImRldmljZV9sb2dcIiE9PXRoaXMubW9kZWwuZ2V0KFwicmVzb3VyY2VfaWRcIikmJiF3aW5kb3cuSVNfRkFDSUxJVFlfVVNFUil8fCh2b2lkIDA9PT10aGlzLm1vZGVsLmdldChcInpvbmVfaWRcIil8fFwiXCI9PT10aGlzLm1vZGVsLmdldChcInpvbmVfaWRcIikpJiZ0aGlzLm1vZGVsLmdldChcImlzX2NlbnRyYWxcIil9LHJlbmRlcl93YWl0aW5nOmZ1bmN0aW9uKCl7dmFyIGU9e2lzX2Rpc2FibGVkOiEwLGxvYWRpbmc6ITB9O3RoaXMuJGVsLmh0bWwodGhpcy50ZW1wbGF0ZShlKSl9LGV2ZW50czp7Y2hhbmdlOlwiZmFjaWxpdHlfY2hhbmdlZFwifSxmYWNpbGl0eV9jaGFuZ2VkOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuJChcInNlbGVjdFwiKS52YWwoKTt0aGlzLm1vZGVsLnNldCh7Z3JvdXBfaWQ6dm9pZCAwLGZhY2lsaXR5X2lkOnR9KX0sZmV0Y2hfYnlfem9uZTpmdW5jdGlvbigpe2lmKHRoaXMubW9kZWwuZ2V0KFwiaXNfY2VudHJhbFwiKSl7dmFyIGU9dGhpcy5tb2RlbC5nZXQoXCJ6b25lX2lkXCIpO2U/KHRoaXMucmVuZGVyX3dhaXRpbmcoKSx0aGlzLmZhY2lsaXR5X2xpc3QuZmV0Y2goe2RhdGE6JC5wYXJhbSh7em9uZV9pZDplLGxpbWl0OjB9KX0pKTp0aGlzLmZhY2lsaXR5X2xpc3QucmVzZXQoKX1lbHNlIHRoaXMucmVuZGVyX3dhaXRpbmcoKSx0aGlzLmZhY2lsaXR5X2xpc3QuZmV0Y2goKX19KSxHcm91cFNlbGVjdFZpZXc9QmFja2JvbmUuVmlldy5leHRlbmQoe3RlbXBsYXRlOnJlcXVpcmUoXCIuL2hidGVtcGxhdGVzL2dyb3VwLXNlbGVjdC5oYW5kbGViYXJzXCIpLGluaXRpYWxpemU6ZnVuY3Rpb24oKXt0aGlzLmdyb3VwX2xpc3Q9bmV3IE1vZGVscy5Hcm91cENvbGxlY3Rpb24sdGhpcy5mZXRjaF9ieV9mYWNpbGl0eSgpLHRoaXMubGlzdGVuVG8odGhpcy5ncm91cF9saXN0LFwic3luY1wiLHRoaXMucmVuZGVyKSx0aGlzLmxpc3RlblRvKHRoaXMuZ3JvdXBfbGlzdCxcInJlc2V0XCIsdGhpcy5yZW5kZXIpLHRoaXMubGlzdGVuVG8odGhpcy5tb2RlbCxcImNoYW5nZTpyZXNvdXJjZV9pZFwiLHRoaXMucmVuZGVyKSx0aGlzLmxpc3RlblRvKHRoaXMubW9kZWwsXCJjaGFuZ2U6ZmFjaWxpdHlfaWRcIix0aGlzLmZldGNoX2J5X2ZhY2lsaXR5KSx0aGlzLnJlbmRlcigpfSxyZW5kZXI6ZnVuY3Rpb24oKXt2YXIgZT17Z3JvdXBzOnRoaXMuZ3JvdXBfbGlzdC50b0pTT04oKSxzZWxlY3Rpb246dGhpcy5tb2RlbC5nZXQoXCJncm91cF9pZFwiKSxpc19kaXNhYmxlZDp0aGlzLmlzX2Rpc2FibGVkKCl9O3JldHVybiB0aGlzLiRlbC5odG1sKHRoaXMudGVtcGxhdGUoZSkpLHRoaXN9LGlzX2Rpc2FibGVkOmZ1bmN0aW9uKCl7cmV0dXJuXCJkZXZpY2VfbG9nXCI9PT10aGlzLm1vZGVsLmdldChcInJlc291cmNlX2lkXCIpfHwhdGhpcy5tb2RlbC5nZXQoXCJmYWNpbGl0eV9pZFwiKX0scmVuZGVyX3dhaXRpbmc6ZnVuY3Rpb24oKXt2YXIgZT17aXNfZGlzYWJsZWQ6ITAsbG9hZGluZzohMH07dGhpcy4kZWwuaHRtbCh0aGlzLnRlbXBsYXRlKGUpKX0sZXZlbnRzOntjaGFuZ2U6XCJncm91cF9jaGFuZ2VkXCJ9LGdyb3VwX2NoYW5nZWQ6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy4kKFwic2VsZWN0XCIpLnZhbCgpO3RoaXMubW9kZWwuc2V0KHtncm91cF9pZDp0fSl9LGZldGNoX2J5X2ZhY2lsaXR5OmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5tb2RlbC5nZXQoXCJmYWNpbGl0eV9pZFwiKTtlPyh0aGlzLnJlbmRlcl93YWl0aW5nKCksdGhpcy5ncm91cF9saXN0LmZldGNoKHtkYXRhOiQucGFyYW0oe2ZhY2lsaXR5X2lkOmUsbGltaXQ6MH0pfSkpOnRoaXMuZ3JvdXBfbGlzdC5yZXNldCgpfX0pO21vZHVsZS5leHBvcnRzPXtEYXRhRXhwb3J0VmlldzpEYXRhRXhwb3J0Vmlldyxab25lU2VsZWN0Vmlldzpab25lU2VsZWN0VmlldyxGYWNpbGl0eVNlbGVjdFZpZXc6RmFjaWxpdHlTZWxlY3RWaWV3LEdyb3VwU2VsZWN0VmlldzpHcm91cFNlbGVjdFZpZXd9OyIsInZhciBCYWNrYm9uZT1yZXF1aXJlKFwiYmFzZS9iYWNrYm9uZVwiKSxab25lTW9kZWw9QmFja2JvbmUuTW9kZWwuZXh0ZW5kKCksRmFjaWxpdHlNb2RlbD1CYWNrYm9uZS5Nb2RlbC5leHRlbmQoKSxHcm91cE1vZGVsPUJhY2tib25lLk1vZGVsLmV4dGVuZCgpLERhdGFFeHBvcnRTdGF0ZU1vZGVsPUJhY2tib25lLk1vZGVsLmV4dGVuZCgpLFpvbmVDb2xsZWN0aW9uPUJhY2tib25lLkNvbGxlY3Rpb24uZXh0ZW5kKHttb2RlbDpab25lTW9kZWwsdXJsOkFMTF9aT05FU19VUkx9KSxGYWNpbGl0eUNvbGxlY3Rpb249QmFja2JvbmUuQ29sbGVjdGlvbi5leHRlbmQoe21vZGVsOkZhY2lsaXR5TW9kZWwsdXJsOkFMTF9GQUNJTElUSUVTX1VSTH0pLEdyb3VwQ29sbGVjdGlvbj1CYWNrYm9uZS5Db2xsZWN0aW9uLmV4dGVuZCh7bW9kZWw6R3JvdXBNb2RlbCx1cmw6QUxMX0dST1VQU19VUkx9KTttb2R1bGUuZXhwb3J0cz17Wm9uZU1vZGVsOlpvbmVNb2RlbCxGYWNpbGl0eU1vZGVsOkZhY2lsaXR5TW9kZWwsR3JvdXBNb2RlbDpHcm91cE1vZGVsLERhdGFFeHBvcnRTdGF0ZU1vZGVsOkRhdGFFeHBvcnRTdGF0ZU1vZGVsLFpvbmVDb2xsZWN0aW9uOlpvbmVDb2xsZWN0aW9uLEZhY2lsaXR5Q29sbGVjdGlvbjpGYWNpbGl0eUNvbGxlY3Rpb24sR3JvdXBDb2xsZWN0aW9uOkdyb3VwQ29sbGVjdGlvbn07IiwidmFyIEhhbmRsZWJhcnNDb21waWxlcj1yZXF1aXJlKFwiaGJzZnkvcnVudGltZVwiKTttb2R1bGUuZXhwb3J0cz1IYW5kbGViYXJzQ29tcGlsZXIudGVtcGxhdGUoZnVuY3Rpb24oYSxlLGwsbixvKXtmdW5jdGlvbiBzKGEsZSxuKXt2YXIgbyxzLHQsYz1cIlwiO3JldHVybiBjKz0nXFxuICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCInLChzPWwuaWQpP289cy5jYWxsKGEse2hhc2g6e30sZGF0YTplfSk6KHM9YSYmYS5pZCxvPXR5cGVvZiBzPT09ZD9zLmNhbGwoYSx7aGFzaDp7fSxkYXRhOmV9KTpzKSxjKz1wKG8pKydcIiAnLHM9bC5pZmNvbmR8fG4mJm4uaWZjb25kLHQ9e2hhc2g6e30saW52ZXJzZTpmLm5vb3AsZm46Zi5wcm9ncmFtKDIsaSxlKSxkYXRhOmV9LG89cz9zLmNhbGwoYSxuJiZuLnNlbGVjdGlvbixcIj09PVwiLGEmJmEuaWQsdCk6bS5jYWxsKGEsXCJpZmNvbmRcIixuJiZuLnNlbGVjdGlvbixcIj09PVwiLGEmJmEuaWQsdCksKG98fDA9PT1vKSYmKGMrPW8pLGMrPVwiPlwiLChzPWwubmFtZSk/bz1zLmNhbGwoYSx7aGFzaDp7fSxkYXRhOmV9KToocz1hJiZhLm5hbWUsbz10eXBlb2Ygcz09PWQ/cy5jYWxsKGEse2hhc2g6e30sZGF0YTplfSk6cyksYys9cChvKStcIjwvb3B0aW9uPlxcbiAgICAgICAgICAgIFwifWZ1bmN0aW9uIGkoYSxlKXtyZXR1cm5cInNlbGVjdGVkXCJ9dGhpcy5jb21waWxlckluZm89WzQsXCI+PSAxLjAuMFwiXSxsPXRoaXMubWVyZ2UobCxhLmhlbHBlcnMpLG89b3x8e307dmFyIHQsYyxyLGg9XCJcIixkPVwiZnVuY3Rpb25cIixwPXRoaXMuZXNjYXBlRXhwcmVzc2lvbixmPXRoaXMsbT1sLmhlbHBlck1pc3Npbmc7cmV0dXJuIGgrPSc8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cFwiPlxcbiAgICA8bGFiZWwgZm9yPVwiem9uZS1uYW1lXCIgY2xhc3M9XCJjb2wteHMtMlwiPicrcCgoYz1sLl98fGUmJmUuXyxyPXtoYXNoOnt9LGRhdGE6b30sYz9jLmNhbGwoZSxcIlpvbmVcIixyKTptLmNhbGwoZSxcIl9cIixcIlpvbmVcIixyKSkpKyc8L2xhYmVsPlxcbiAgICA8ZGl2IGNsYXNzPVwiY29sLXhzLThcIj5cXG4gICAgICAgIDxzZWxlY3QgY2xhc3M9XCJmb3JtLWNvbnRyb2xcIiBpZD1cInpvbmUtbmFtZVwiPlxcbiAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJcIj4nK3AoKGM9bC5ffHxlJiZlLl8scj17aGFzaDp7fSxkYXRhOm99LGM/Yy5jYWxsKGUsXCJBbGxcIixyKTptLmNhbGwoZSxcIl9cIixcIkFsbFwiLHIpKSkrXCI8L29wdGlvbj5cXG4gICAgICAgICAgICBcIix0PWwuZWFjaC5jYWxsKGUsZSYmZS56b25lcyx7aGFzaDp7fSxpbnZlcnNlOmYubm9vcCxmbjpmLnByb2dyYW1XaXRoRGVwdGgoMSxzLG8sZSksZGF0YTpvfSksKHR8fDA9PT10KSYmKGgrPXQpLGgrPVwiXFxuICAgICAgICA8L3NlbGVjdD5cXG4gICAgPC9kaXY+XFxuPC9kaXY+XCJ9KTsiLCJ2YXIgSGFuZGxlYmFyc0NvbXBpbGVyPXJlcXVpcmUoXCJoYnNmeS9ydW50aW1lXCIpO21vZHVsZS5leHBvcnRzPUhhbmRsZWJhcnNDb21waWxlci50ZW1wbGF0ZShmdW5jdGlvbihhLG4sbCxlLG8pe2Z1bmN0aW9uIHIoYSxuKXtyZXR1cm4nXFxuICAgICAgICAgICAgPGltZyBzcmM9XCIvc3RhdGljL2ltYWdlcy9sb2FkaW5nLmdpZlwiIGNsYXNzPVwiZmxvYXQtY2VudGVyIGZsb2F0LW92ZXItc2VsZWN0IGxvYWRpbmdcIi8+XFxuICAgICAgICAnfWZ1bmN0aW9uIGkoYSxuKXtyZXR1cm5cImxvYWRpbmctdHJhbnNwYXJlbmN5XCJ9ZnVuY3Rpb24gcyhhLG4pe3JldHVyblwiZGlzYWJsZWRcIn1mdW5jdGlvbiB0KGEsbil7dmFyIGUsbyxyLGk9XCJcIjtyZXR1cm4gaSs9J1xcbiAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiXCI+Jyt2KChvPWwuX3x8YSYmYS5fLHI9e2hhc2g6e30sZGF0YTpufSxvP28uY2FsbChhLFwiQWxsXCIscik6bS5jYWxsKGEsXCJfXCIsXCJBbGxcIixyKSkpK1wiPC9vcHRpb24+XFxuICAgICAgICAgICAgICAgIFwiLGU9bC5lYWNoLmNhbGwoYSxhJiZhLmdyb3Vwcyx7aGFzaDp7fSxpbnZlcnNlOmIubm9vcCxmbjpiLnByb2dyYW1XaXRoRGVwdGgoOCxjLG4sYSksZGF0YTpufSksKGV8fDA9PT1lKSYmKGkrPWUpLGkrPVwiXFxuICAgICAgICAgICAgXCJ9ZnVuY3Rpb24gYyhhLG4sZSl7dmFyIG8scixpLHM9XCJcIjtyZXR1cm4gcys9digocj1sLl98fGEmJmEuXyxpPXtoYXNoOnt9LGRhdGE6bn0scj9yLmNhbGwoYSxcInNcIixpKTptLmNhbGwoYSxcIl9cIixcInNcIixpKSkpKydcXG4gICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCInLChyPWwuaWQpP289ci5jYWxsKGEse2hhc2g6e30sZGF0YTpufSk6KHI9YSYmYS5pZCxvPXR5cGVvZiByPT09Xz9yLmNhbGwoYSx7aGFzaDp7fSxkYXRhOm59KTpyKSxzKz12KG8pKydcIiAnLHI9bC5pZmNvbmR8fGUmJmUuaWZjb25kLGk9e2hhc2g6e30saW52ZXJzZTpiLm5vb3AsZm46Yi5wcm9ncmFtKDksZCxuKSxkYXRhOm59LG89cj9yLmNhbGwoYSxlJiZlLnNlbGVjdGlvbixcIj09PVwiLGEmJmEuaWQsaSk6bS5jYWxsKGEsXCJpZmNvbmRcIixlJiZlLnNlbGVjdGlvbixcIj09PVwiLGEmJmEuaWQsaSksKG98fDA9PT1vKSYmKHMrPW8pLHMrPVwiPlwiLChyPWwubmFtZSk/bz1yLmNhbGwoYSx7aGFzaDp7fSxkYXRhOm59KToocj1hJiZhLm5hbWUsbz10eXBlb2Ygcj09PV8/ci5jYWxsKGEse2hhc2g6e30sZGF0YTpufSk6cikscys9dihvKStcIjwvb3B0aW9uPlxcbiAgICAgICAgICAgICAgICBcIn1mdW5jdGlvbiBkKGEsbil7cmV0dXJuXCJzZWxlY3RlZFwifWZ1bmN0aW9uIGgoYSxuKXt2YXIgZSxvLHI9XCJcIjtyZXR1cm4gcis9XCJcXG4gICAgICAgICAgICAgICAgPG9wdGlvbiBkaXNhYmxlZD5cIit2KChlPWwuX3x8YSYmYS5fLG89e2hhc2g6e30sZGF0YTpufSxlP2UuY2FsbChhLFwiQWxsXCIsbyk6bS5jYWxsKGEsXCJfXCIsXCJBbGxcIixvKSkpK1wiPC9vcHRpb24+XFxuICAgICAgICAgICAgXCJ9dGhpcy5jb21waWxlckluZm89WzQsXCI+PSAxLjAuMFwiXSxsPXRoaXMubWVyZ2UobCxhLmhlbHBlcnMpLG89b3x8e307dmFyIHAsZix1LGc9XCJcIixtPWwuaGVscGVyTWlzc2luZyx2PXRoaXMuZXNjYXBlRXhwcmVzc2lvbixfPVwiZnVuY3Rpb25cIixiPXRoaXM7cmV0dXJuIGcrPSc8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cFwiPlxcbiAgICA8bGFiZWwgZm9yPVwiZ3JvdXAtbmFtZVwiIGNsYXNzPVwiY29sLXhzLTJcIj4nK3YoKGY9bC5ffHxuJiZuLl8sdT17aGFzaDp7fSxkYXRhOm99LGY/Zi5jYWxsKG4sXCJHcm91cFwiLHUpOm0uY2FsbChuLFwiX1wiLFwiR3JvdXBcIix1KSkpKyc8L2xhYmVsPlxcbiAgICA8ZGl2IGNsYXNzPVwiY29sLXhzLThcIj5cXG4gICAgICAgICcscD1sLmlmLmNhbGwobixuJiZuLmxvYWRpbmcse2hhc2g6e30saW52ZXJzZTpiLm5vb3AsZm46Yi5wcm9ncmFtKDEscixvKSxkYXRhOm99KSwocHx8MD09PXApJiYoZys9cCksZys9J1xcbiAgICAgICAgPHNlbGVjdCBjbGFzcz1cImZvcm0tY29udHJvbCAnLHA9bC5pZi5jYWxsKG4sbiYmbi5sb2FkaW5nLHtoYXNoOnt9LGludmVyc2U6Yi5ub29wLGZuOmIucHJvZ3JhbSgzLGksbyksZGF0YTpvfSksKHB8fDA9PT1wKSYmKGcrPXApLGcrPSdcIiBpZD1cImdyb3VwLW5hbWVcIiAnLHA9bC5pZi5jYWxsKG4sbiYmbi5pc19kaXNhYmxlZCx7aGFzaDp7fSxpbnZlcnNlOmIubm9vcCxmbjpiLnByb2dyYW0oNSxzLG8pLGRhdGE6b30pLChwfHwwPT09cCkmJihnKz1wKSxnKz1cIj5cXG4gICAgICAgICAgICBcIixwPWwuaWYuY2FsbChuLG4mJm4uZ3JvdXBzLHtoYXNoOnt9LGludmVyc2U6Yi5wcm9ncmFtKDExLGgsbyksZm46Yi5wcm9ncmFtKDcsdCxvKSxkYXRhOm99KSwocHx8MD09PXApJiYoZys9cCksZys9XCJcXG4gICAgICAgIDwvc2VsZWN0PlxcbiAgICA8L2Rpdj5cXG48L2Rpdj5cIn0pOyIsInZhciBIYW5kbGViYXJzQ29tcGlsZXI9cmVxdWlyZShcImhic2Z5L3J1bnRpbWVcIik7bW9kdWxlLmV4cG9ydHM9SGFuZGxlYmFyc0NvbXBpbGVyLnRlbXBsYXRlKGZ1bmN0aW9uKGEsbixsLGUsaSl7ZnVuY3Rpb24gbyhhLG4pe3JldHVybidcXG4gICAgICAgICAgICA8aW1nIHNyYz1cIi9zdGF0aWMvaW1hZ2VzL2xvYWRpbmcuZ2lmXCIgY2xhc3M9XCJmbG9hdC1jZW50ZXIgZmxvYXQtb3Zlci1zZWxlY3QgbG9hZGluZ1wiLz5cXG4gICAgICAgICd9ZnVuY3Rpb24gdChhLG4pe3JldHVyblwibG9hZGluZy10cmFuc3BhcmVuY3lcIn1mdW5jdGlvbiBzKGEsbil7cmV0dXJuXCJkaXNhYmxlZFwifWZ1bmN0aW9uIHIoYSxuLGUpe3ZhciBpLG8sdCxzPVwiXCI7cmV0dXJuIHMrPSdcXG4gICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIicsKG89bC5pZCk/aT1vLmNhbGwoYSx7aGFzaDp7fSxkYXRhOm59KToobz1hJiZhLmlkLGk9dHlwZW9mIG89PT1tP28uY2FsbChhLHtoYXNoOnt9LGRhdGE6bn0pOm8pLHMrPXUoaSkrJ1wiICcsbz1sLmlmY29uZHx8ZSYmZS5pZmNvbmQsdD17aGFzaDp7fSxpbnZlcnNlOmcubm9vcCxmbjpnLnByb2dyYW0oOCxjLG4pLGRhdGE6bn0saT1vP28uY2FsbChhLGUmJmUuc2VsZWN0aW9uLFwiPT09XCIsYSYmYS5pZCx0KTp2LmNhbGwoYSxcImlmY29uZFwiLGUmJmUuc2VsZWN0aW9uLFwiPT09XCIsYSYmYS5pZCx0KSwoaXx8MD09PWkpJiYocys9aSkscys9XCI+XCIsKG89bC5uYW1lKT9pPW8uY2FsbChhLHtoYXNoOnt9LGRhdGE6bn0pOihvPWEmJmEubmFtZSxpPXR5cGVvZiBvPT09bT9vLmNhbGwoYSx7aGFzaDp7fSxkYXRhOm59KTpvKSxzKz11KGkpK1wiPC9vcHRpb24+XFxuICAgICAgICAgICAgXCJ9ZnVuY3Rpb24gYyhhLG4pe3JldHVyblwic2VsZWN0ZWRcIn10aGlzLmNvbXBpbGVySW5mbz1bNCxcIj49IDEuMC4wXCJdLGw9dGhpcy5tZXJnZShsLGEuaGVscGVycyksaT1pfHx7fTt2YXIgZCxoLGYscD1cIlwiLG09XCJmdW5jdGlvblwiLHU9dGhpcy5lc2NhcGVFeHByZXNzaW9uLGc9dGhpcyx2PWwuaGVscGVyTWlzc2luZztyZXR1cm4gcCs9JzxkaXYgY2xhc3M9XCJmb3JtLWdyb3VwXCI+XFxuICAgIDxsYWJlbCBmb3I9XCJmYWNpbGl0eS1uYW1lXCIgY2xhc3M9XCJjb2wteHMtMlwiPicrdSgoaD1sLl98fG4mJm4uXyxmPXtoYXNoOnt9LGRhdGE6aX0saD9oLmNhbGwobixcIkZhY2lsaXR5XCIsZik6di5jYWxsKG4sXCJfXCIsXCJGYWNpbGl0eVwiLGYpKSkrJzwvbGFiZWw+XFxuICAgIDxkaXYgY2xhc3M9XCJjb2wteHMtOFwiPlxcbiAgICAgICAgJyxkPWwuaWYuY2FsbChuLG4mJm4ubG9hZGluZyx7aGFzaDp7fSxpbnZlcnNlOmcubm9vcCxmbjpnLnByb2dyYW0oMSxvLGkpLGRhdGE6aX0pLChkfHwwPT09ZCkmJihwKz1kKSxwKz0nXFxuICAgICAgICA8c2VsZWN0IGNsYXNzPVwiZm9ybS1jb250cm9sICcsZD1sLmlmLmNhbGwobixuJiZuLmxvYWRpbmcse2hhc2g6e30saW52ZXJzZTpnLm5vb3AsZm46Zy5wcm9ncmFtKDMsdCxpKSxkYXRhOml9KSwoZHx8MD09PWQpJiYocCs9ZCkscCs9J1wiIGlkPVwiZmFjaWxpdHktbmFtZVwiICcsZD1sLmlmLmNhbGwobixuJiZuLmlzX2Rpc2FibGVkLHtoYXNoOnt9LGludmVyc2U6Zy5ub29wLGZuOmcucHJvZ3JhbSg1LHMsaSksZGF0YTppfSksKGR8fDA9PT1kKSYmKHArPWQpLHArPSc+XFxuICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIlwiPicrdSgoaD1sLl98fG4mJm4uXyxmPXtoYXNoOnt9LGRhdGE6aX0saD9oLmNhbGwobixcIkFsbFwiLGYpOnYuY2FsbChuLFwiX1wiLFwiQWxsXCIsZikpKStcIjwvb3B0aW9uPlxcbiAgICAgICAgICAgIFwiLGQ9bC5lYWNoLmNhbGwobixuJiZuLmZhY2lsaXRpZXMse2hhc2g6e30saW52ZXJzZTpnLm5vb3AsZm46Zy5wcm9ncmFtV2l0aERlcHRoKDcscixpLG4pLGRhdGE6aX0pLChkfHwwPT09ZCkmJihwKz1kKSxwKz1cIlxcbiAgICAgICAgPC9zZWxlY3Q+XFxuICAgIDwvZGl2PlxcbjwvZGl2PlwifSk7IiwidmFyIEhhbmRsZWJhcnNDb21waWxlcj1yZXF1aXJlKFwiaGJzZnkvcnVudGltZVwiKTttb2R1bGUuZXhwb3J0cz1IYW5kbGViYXJzQ29tcGlsZXIudGVtcGxhdGUoZnVuY3Rpb24oYSxsLG8scyxlKXtmdW5jdGlvbiB0KGEsbCl7dmFyIHMsZSx0PVwiXCI7cmV0dXJuIHQrPSdcXG4gICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cInRlc3RfbG9nXCI+JytfKChzPW8uX3x8YSYmYS5fLGU9e2hhc2g6e30sZGF0YTpsfSxzP3MuY2FsbChhLFwiVGVzdCBMb2dzXCIsZSk6cC5jYWxsKGEsXCJfXCIsXCJUZXN0IExvZ3NcIixlKSkpK1wiPC9vcHRpb24+XFxuICAgICAgICAgICAgICAgIFwifWZ1bmN0aW9uIG4oYSxsKXt2YXIgcyxlLHQ9XCJcIjtyZXR1cm4gdCs9J1xcbiAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiZGV2aWNlX2xvZ1wiPicrXygocz1vLl98fGEmJmEuXyxlPXtoYXNoOnt9LGRhdGE6bH0scz9zLmNhbGwoYSxcIkRldmljZSBMb2dzXCIsZSk6cC5jYWxsKGEsXCJfXCIsXCJEZXZpY2UgTG9nc1wiLGUpKSkrXCI8L29wdGlvbj5cXG4gICAgICAgICAgICAgICAgXCJ9dGhpcy5jb21waWxlckluZm89WzQsXCI+PSAxLjAuMFwiXSxvPXRoaXMubWVyZ2UobyxhLmhlbHBlcnMpLGU9ZXx8e307dmFyIGksYyxyLGQ9XCJcIixwPW8uaGVscGVyTWlzc2luZyxfPXRoaXMuZXNjYXBlRXhwcmVzc2lvbixoPXRoaXM7cmV0dXJuIGQrPSc8Zm9ybSBjbGFzcz1cImZvcm0taG9yaXpvbnRhbFwiIHJvbGU9XCJmb3JtXCIgaWQ9XCJkYXRhLWV4cG9ydC1mb3JtXCIgbWV0aG9kPVwiR0VUXCI+XFxuICAgIDxkaXYgaWQ9XCJzdHVkZW50LXNlbGVjdC1jb250YWluZXJcIj48L2Rpdj5cXG4gICAgPGRpdiBjbGFzcz1cImZvcm0tZ3JvdXBcIj5cXG4gICAgICAgIDxsYWJlbCBmb3I9XCJyZXNvdXJjZS1uYW1lXCIgY2xhc3M9XCJjb2wteHMtMlwiPicrXygoYz1vLl98fGwmJmwuXyxyPXtoYXNoOnt9LGRhdGE6ZX0sYz9jLmNhbGwobCxcIlJlc291cmNlXCIscik6cC5jYWxsKGwsXCJfXCIsXCJSZXNvdXJjZVwiLHIpKSkrJzwvbGFiZWw+XFxuICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLXhzLThcIj5cXG4gICAgICAgICAgICA8c2VsZWN0IGNsYXNzPVwiZm9ybS1jb250cm9sXCIgaWQ9XCJyZXNvdXJjZS1pZFwiPlxcbiAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiZmFjaWxpdHlfdXNlclwiPicrXygoYz1vLl98fGwmJmwuXyxyPXtoYXNoOnt9LGRhdGE6ZX0sYz9jLmNhbGwobCxcIkZhY2lsaXR5IFVzZXIgTG9nc1wiLHIpOnAuY2FsbChsLFwiX1wiLFwiRmFjaWxpdHkgVXNlciBMb2dzXCIscikpKSsnPC9vcHRpb24+XFxuICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJhdHRlbXB0X2xvZ1wiPicrXygoYz1vLl98fGwmJmwuXyxyPXtoYXNoOnt9LGRhdGE6ZX0sYz9jLmNhbGwobCxcIkF0dGVtcHQgTG9nc1wiLHIpOnAuY2FsbChsLFwiX1wiLFwiQXR0ZW1wdCBMb2dzXCIscikpKSsnPC9vcHRpb24+XFxuICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJleGVyY2lzZV9sb2dcIj4nK18oKGM9by5ffHxsJiZsLl8scj17aGFzaDp7fSxkYXRhOmV9LGM/Yy5jYWxsKGwsXCJFeGVyY2lzZSBMb2dzXCIscik6cC5jYWxsKGwsXCJfXCIsXCJFeGVyY2lzZSBMb2dzXCIscikpKSsnPC9vcHRpb24+XFxuICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJjb250ZW50X3JhdGluZ1wiPicrXygoYz1vLl98fGwmJmwuXyxyPXtoYXNoOnt9LGRhdGE6ZX0sYz9jLmNhbGwobCxcIlJhdGluZ3NcIixyKTpwLmNhbGwobCxcIl9cIixcIlJhdGluZ3NcIixyKSkpK1wiPC9vcHRpb24+XFxuICAgICAgICAgICAgICAgIFwiLGk9by5pZi5jYWxsKGwsbCYmbC5pc19uYWxhbmRhLHtoYXNoOnt9LGludmVyc2U6aC5ub29wLGZuOmgucHJvZ3JhbSgxLHQsZSksZGF0YTplfSksKGl8fDA9PT1pKSYmKGQrPWkpLGQrPVwiXFxuICAgICAgICAgICAgICAgIFwiLGk9by5pZi5jYWxsKGwsbCYmbC5pc19jZW50cmFsLHtoYXNoOnt9LGludmVyc2U6aC5ub29wLGZuOmgucHJvZ3JhbSgzLG4sZSksZGF0YTplfSksKGl8fDA9PT1pKSYmKGQrPWkpLGQrPSdcXG4gICAgICAgICAgICA8L3NlbGVjdD5cXG4gICAgICAgIDwvZGl2PlxcbiAgICA8L2Rpdj5cXG4gICAgPGRpdiBjbGFzcz1cImZvcm0tZ3JvdXBcIj5cXG4gICAgICAgIDxsYWJlbCBmb3I9XCJkYXRhLXR5cGVcIiBjbGFzcz1cImNvbC14cy0yXCI+JytfKChjPW8uX3x8bCYmbC5fLHI9e2hhc2g6e30sZGF0YTplfSxjP2MuY2FsbChsLFwiRGF0YSBUeXBlXCIscik6cC5jYWxsKGwsXCJfXCIsXCJEYXRhIFR5cGVcIixyKSkpKyc8L2xhYmVsPlxcbiAgICAgICAgPGRpdiBjbGFzcz1cImNvbC14cy04XCI+XFxuICAgICAgICAgICAgPHNlbGVjdCBjbGFzcz1cImZvcm0tY29udHJvbFwiIGlkPVwidGVzdC1uYW1lXCIgZGlzYWJsZWQ+XFxuICAgICAgICAgICAgICAgIDxvcHRpb24+JytfKChjPW8uX3x8bCYmbC5fLHI9e2hhc2g6e30sZGF0YTplfSxjP2MuY2FsbChsLFwiQ1NWXCIscik6cC5jYWxsKGwsXCJfXCIsXCJDU1ZcIixyKSkpKyc8L29wdGlvbj5cXG4gICAgICAgICAgICA8L3NlbGVjdD5cXG4gICAgICAgIDwvZGl2PlxcbiAgICA8L2Rpdj5cXG4gICAgPGRpdiBjbGFzcz1cImZvcm0tZ3JvdXBcIj5cXG4gICAgICAgIDxkaXYgY2xhc3M9XCJjb2wteHMtMlwiPjwvZGl2PlxcbiAgICAgICAgPGRpdiBjbGFzcz1cImNvbC14cy04XCI+XFxuICAgICAgICAgICAgPGJ1dHRvbiBpZD1cImV4cG9ydC1idXR0b25cIiBjbGFzcz1cImJ0biBidG4tc3VjY2Vzc1wiPlxcbiAgICAgICAgICAgICAgICAnK18oKGM9by5ffHxsJiZsLl8scj17aGFzaDp7fSxkYXRhOmV9LGM/Yy5jYWxsKGwsXCJFeHBvcnRcIixyKTpwLmNhbGwobCxcIl9cIixcIkV4cG9ydFwiLHIpKSkrXCJcXG4gICAgICAgICAgICA8L2J1dHRvbj5cXG4gICAgICAgIDwvZGl2PlxcbiAgICA8L2Rpdj5cXG48L2Zvcm0+XFxuXCJ9KTsiXX0=
