
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>Breezy Release Cycles &#8212; Breezy 3.0.2dev documentation</title>
    <link rel="stylesheet" href="_static/agogo.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>

    <link rel="search" title="Search" href="search.html" />
<link rel="stylesheet" href="_static/brz-doc.css" type="text/css" />
 
  </head><body>
    <div class="header-wrapper" role="banner">
      <div class="header">
        <div class="headertitle"><a
          href="index.html">Developer Document Catalog (3.0.2dev)</a></div>
        <div class="rel" role="navigation" aria-label="related navigation">
        </div>
       </div>
    </div>

    <div class="content-wrapper">
      <div class="content">
        <div class="document">
            
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="breezy-release-cycles">
<h1>Breezy Release Cycles<a class="headerlink" href="#breezy-release-cycles" title="Permalink to this headline">¶</a></h1>
<dl class="field-list simple">
<dt class="field-odd">status</dt>
<dd class="field-odd"><p>Current policy, as of 2017-11.</p>
</dd>
</dl>
<p>Our users want easy access to bug fixes without other changes to the
core product. They also want a Just Works experience across the full
Breezy ecosystem. To deliver the first and enable the second, we’re
adopting some standard process patterns: a 6 monthly release cycle and a
stable series. These changes will also have other benefits, including
better availability of bug fixes in OS distributions, more freedom to
remove old code, and less work for in packaging.</p>
<p>See also:</p>
<ul class="simple">
<li><p><a class="reference external" href="index.html">Breezy Developer Document Catalog</a></p></li>
<li><p><a class="reference external" href="releasing.html">Releasing Bazaar</a> – the process for actually making
a release or release candidate.</p></li>
</ul>
<div class="section" id="the-process">
<h2>The Process<a class="headerlink" href="#the-process" title="Permalink to this headline">¶</a></h2>
<p>Breezy will make a major release every six months, which will be supported at
least until the time of the next major release and generally 18 months after
the first final release in a series.  During this support period, we’ll make
incremental releases which fix bugs, but which do not change network or disk
formats or command syntax, and which do not require updates to plugins.</p>
<p>We will also run a development series, which will become the next major
release.  We’ll make a beta release from this every four weeks.  The
beta releases will be as stable as our current monthly releases and
completely suitable for everyday use by users who can tolerate changes
from month to month.</p>
<p>Having the stable series isn’t a reason to cut back on QA or to make the
trunk or development releases unstable, which would only make our job
harder.  We keep our trunk in an always-releasable state, and that should
continue: any beta release could potentially be supported in the long
term, but we identify particular releases that actually will be supported.</p>
<p>The trunk will never be frozen: changes that pass review, other quality
checks and that are agreed amongst the developers can always be landed
into trunk.  The only restrictions will be on branches specifically
targeted at a release.</p>
<div class="section" id="schedule">
<h3>Schedule<a class="headerlink" href="#schedule" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mf">2.0</span><span class="o">.</span><span class="mi">0</span> <span class="o">---</span> <span class="mf">2.0</span><span class="o">.</span><span class="mi">1</span> <span class="o">--</span> <span class="mf">2.0</span><span class="o">.</span><span class="mi">2</span> <span class="o">--</span> <span class="o">...</span>
 \
  <span class="o">+--</span><span class="mf">2.1</span><span class="o">.</span><span class="mi">0</span><span class="n">beta1</span> <span class="o">--</span> <span class="mf">2.1</span><span class="o">.</span><span class="mi">0</span><span class="n">beta2</span> <span class="o">--</span> <span class="o">...</span> <span class="o">--</span> <span class="mf">2.1</span><span class="o">.</span><span class="mi">0</span><span class="n">rc1</span> <span class="o">--</span> <span class="mf">2.1</span><span class="o">.</span><span class="mi">0</span> <span class="o">--</span> <span class="mf">2.1</span><span class="o">.</span><span class="mi">1</span> <span class="o">--</span> <span class="o">...</span>
                                                     \
                                                      \
                                                       <span class="o">+--</span> <span class="mf">3.0</span><span class="o">.</span><span class="mi">0</span><span class="n">beta1</span> <span class="o">...</span>
</pre></div>
</div>
<p>Starting from the date of a major release:</p>
<p>At four-week intervals we make a new beta release.  There will be no
separate release candidate, but if a serious problem is discovered we may
do the next beta ahead of schedule or make a point release.  There will be
about five or six releases in that series.</p>
<p>In parallel with this, bugs targeted to the previous major release are
merged into its branch.  We will make bugfix releases from that branch as
appropriate to the accumulation of changes, perhaps monthly, perhaps more
often if there are serious bugs, perhaps much less often if no new changes
have landed.</p>
<p>We will synchronize our major releases with Ubuntu, so that they come out
in sufficient time for some testing and margin of error before Ubuntu’s
upstream freeze.</p>
</div>
<div class="section" id="regularity">
<h3>Regularity<a class="headerlink" href="#regularity" title="Permalink to this headline">¶</a></h3>
<p>We value regular releases.  We prefer to slip a feature or fix to
a later release rather than to make a release late.  We will normally only
slip a release to fix a critical bug.</p>
</div>
<div class="section" id="numbering">
<h3>Numbering<a class="headerlink" href="#numbering" title="Permalink to this headline">¶</a></h3>
<p>The number for a six-month cycle is chosen at the start, with an increment
to either the first field (3.0.0) or second field (3.1.0) depending on
what we expect to be the user impact of the release.  We expect releases
that culminate in a new disk format or that require changes in how people
use the tool will get a new major number.  We can change (forward only) if
it turns out that we land larger changes than were expected.</p>
<p>We will always use the 3-digit form (major.minor.micro) even when
referring to the initial major release. This should help clarify where a
patch is intended to land. (eg, “I propose this for 2.0.0” is clear, while
“I propose this for 2.0” could mean you want to make the 2.0.0 release, or
that you just want to land on the 2.0.x stable release series.)</p>
</div>
<div class="section" id="terminology">
<h3>Terminology<a class="headerlink" href="#terminology" title="Permalink to this headline">¶</a></h3>
<p>Major releases (2.0.0 or 2.1.0)</p>
<blockquote>
<div><p>The big ones, every six months, intended to ship in distributions and
to be used by stability-oriented users.</p>
</div></blockquote>
<p>Release candidate (2.0.0rc1)</p>
<blockquote>
<div><p>A preview of a major release, made one or a few weeks beforehand at the
time the release branch is created.  There should be few if any changes
from the rc to the stable release.  We should avoid the confusing phrasing
“release candidate 2.0.0rc1 is released”; instead use “available.”
Starting with the 2.3 series we don’t plan on making release candidates
anymore.</p>
</div></blockquote>
<p>Bugfix releases (2.0.1)</p>
<blockquote>
<div><p>Based on the previous major release or bugfix; contains only bugfixes
and perhaps documentation or translation corrections.</p>
</div></blockquote>
<p>Stable series</p>
<blockquote>
<div><p>A major release and its descendant bugfix releases.</p>
</div></blockquote>
<p>Stable release</p>
<blockquote>
<div><p>Either a major release or a bugfix release.</p>
</div></blockquote>
<p>Beta release (3.0.0beta1)</p>
<blockquote>
<div><p>Made from trunk every month, except for the month there’s a major
release.  Stable and suitable for users who want the latest code and
can live with some changes from month to month.</p>
</div></blockquote>
<p>Development series</p>
<blockquote>
<div><p>The development releases leading up to a stable release.</p>
</div></blockquote>
</div>
<div class="section" id="bug-work">
<h3>Bug Work<a class="headerlink" href="#bug-work" title="Permalink to this headline">¶</a></h3>
<p>Bug fixes should normally be done first against the stable branch,
reviewed against that branch, and then merged forward to trunk.</p>
<p>It may not always be easy to do this, if fixing the bug requires large
changes or the affected code is different in the stable and development
branches.  If the tradeoff does not seem worthwhile the bug can be fixed
only in the development branch, at least in the first instance.  If users
later want the fix backported we can discuss it.</p>
<p>Developers can merge the release branch into trunk as often as they like,
only asking for review if they’re making nontrivial changes or feel review
is needed.</p>
</div>
<div class="section" id="feature-and-performance-work">
<h3>Feature and Performance Work<a class="headerlink" href="#feature-and-performance-work" title="Permalink to this headline">¶</a></h3>
<p>Features can be landed to the development branch at any time, and they’ll
be released for testing within a month.</p>
<p>Performance bugs, although important, will generally not be landed in a
stable series.  Fixing performance bugs well often requires nontrivial
code changes or new formats.  These are not suitable for a stable series.</p>
<p>Performance bugs that can be fixed with a small safe patch can be
considered for the stable series.</p>
</div>
<div class="section" id="plugins">
<h3>Plugins<a class="headerlink" href="#plugins" title="Permalink to this headline">¶</a></h3>
<p>Plugins that want to cooperate with this should make a series and a branch
that matches each bzr stable series, and follow similar rules in making
releases from their stable branch.  We’d expect that plugins will make a
release between the first beta release of a series and the final major
release.</p>
<p>Within a stable series, anything that breaks any known plugin is
considered an API break and will be avoided.  Before
making each bugfix release, we’ll test that code against important
plugins.</p>
<p>Within a development series, the focus is on helping plugin authors keep
up to date by giving clear error messages when an interface is removed.
We will no longer focus on letting old plugin code work with new versions
of breezy, which is an elusive target in Python.</p>
<p>This may mean that in cases where today a plugin would keep running but
give warnings, it will now fail altogether with an error.</p>
<p>In return we expect more freedom to change and cleanup breezy code without
needing to keep old code around, or write extra compatibility shims, or
have review turnarounds related to compatibility.  Some changes, such as
removing module-global variables, that are hard to do now, will be
possible to do safely.</p>
<p>Discussion of plugins here includes programs that import and use breezy
but that aren’t technically plugins.  The same approach, though the
technical considerations are different, should apply to other extensions
such as programs that use bzr through the shell interface.</p>
</div>
<div class="section" id="data-and-network-formats">
<h3>Data and Network Formats<a class="headerlink" href="#data-and-network-formats" title="Permalink to this headline">¶</a></h3>
<p>Any development release should be able to interoperate with the previous
stable release, and any stable release should be able to interoperate with
the previous stable release.  This is a minimum and normally releases will be
able to interoperate with all previous releases as at present.</p>
<p>Each major release will have one recommended data format which will be the
default.  The name of the format will indicate which release series (not
specific release) it comes from: ‘2a’ is the first supported format for
the 2.0.x series, ‘2b’ the second, etc.  We don’t mention the particular
release that introduced it so as to avoid problems predicting precisely
when it will land.</p>
<p>During a development series we may have a series of experimental formats.
We will not leave people stranded if they test these formats, but we also
won’t guarantee to keep supporting them in a future release.  If something
inserted in one development release turns out to be bad it can just be
removed in the next.</p>
</div>
<div class="section" id="hosting-services">
<h3>Hosting Services<a class="headerlink" href="#hosting-services" title="Permalink to this headline">¶</a></h3>
<p>The guarantees made above about format and network interoperation
mean that hosting services such as Launchpad, Savannah, FedoraHosted,
and Sourceforge could choose to run either the stable or beta versions.
They might find it useful to run the beta version on their own beta
server.</p>
</div>
<div class="section" id="simultaneous-installation">
<h3>Simultaneous Installation<a class="headerlink" href="#simultaneous-installation" title="Permalink to this headline">¶</a></h3>
<p>Some people may want to simultaneously install and use both a stable
release and development release.</p>
<p>This can be handled in various ways either at the OS packaging or the
Python level.  We don’t propose to directly address it in the upstream
source.  (For example, we will not change the breezy library name from one
release to the next.)</p>
<p>The issue already exists with people who may want to use for example the
previous bzr release and the trunk.  There is a related issue that plugins
may be compatible with only some of the Bazaar versions people want to use
at the same time, and again that is something that can be handled
separately.</p>
</div>
<div class="section" id="os-distributions">
<h3>OS Distributions<a class="headerlink" href="#os-distributions" title="Permalink to this headline">¶</a></h3>
<p>OS distributors will be recommended to ship the bzr stable release that
fits their schedule, the betas leading up to that release during their own
beta period, and the bugfix releases following on from it.  They might
also choose to offer the beta releases as an alternative package.</p>
</div>
<div class="section" id="packaging">
<h3>Packaging<a class="headerlink" href="#packaging" title="Permalink to this headline">¶</a></h3>
<p>At present we have three upstream-maintained PPAs containing Ubuntu packages
of Bazaar: <code class="docutils literal notranslate"><span class="pre">bzr/daily</span></code> (snapshots), <code class="docutils literal notranslate"><span class="pre">bzr-beta-ppa/ppa</span></code> (beta releases) and
<code class="docutils literal notranslate"><span class="pre">bzr/ppa</span></code> (ie stable).  Beta contains the monthly beta releases, and the
stable PPA contains stable releases and bugfixes to those releases.</p>
<p>Some platforms with relatively less active packagers may choose to ship
only the stable releases.  This is probably better than having them only
intermittently or slowly ship the monthly releases.</p>
<p>Binary installers should use a version number like ‘2.0.0-1’ or
‘2.0.0beta1-1’ so that the last component just reflects the packaging
version, and can be incremented if a new installer is made with no
upstream source changes.</p>
</div>
<div class="section" id="code-freeze-vs-announcement">
<h3>Code Freeze vs Announcement<a class="headerlink" href="#code-freeze-vs-announcement" title="Permalink to this headline">¶</a></h3>
<p>We will separate the code freeze for a particular release from its actual
announcement, allowing a window of approximately one week for plugins to
be released and binary installers to be built.  On the date the
announcement is published, people will be able to easily install it.</p>
</div>
<div class="section" id="weekly-metronome-mail">
<h3>Weekly Metronome Mail<a class="headerlink" href="#weekly-metronome-mail" title="Permalink to this headline">¶</a></h3>
<p>Every week the release manager should send a mail to the Bazaar list
covering these points (as appropriate):</p>
<ul class="simple">
<li><p>Early communication about changing dependencies or defaults</p></li>
<li><p>Reminder re lifecycle and where we’re up to right now, in particular the
dates for the next release and/or candidate.</p></li>
<li><p>Summary of recent successes and pending work.</p></li>
<li><p>Reminder re release objectives</p></li>
<li><p>Reminder re things needing attention, e.g. bug triage, reviews, testing
of certain things, etc.</p></li>
</ul>
</div>
</div>
<div class="section" id="questions">
<h2>Questions<a class="headerlink" href="#questions" title="Permalink to this headline">¶</a></h2>
<dl class="simple">
<dt>Do users actually want this?</dt><dd><p>Apparently yes, because it’s often requested and often raised as a
problem.</p>
</dd>
<dt>Would this confuse users?</dt><dd><p>It shouldn’t, because it’s a fairly standard scheme.</p>
</dd>
<dt>Won’t it take more time to fix bugs in multiple places?</dt><dd><p>It shouldn’t, because we’ll only do this when the stable bugfix seems
economical.  When we fix bugs today in both trunk and release branches
it normally does not take much more time.</p>
</dd>
<dt>What about bzr in Ubuntu LTS, with a five-year support life?</dt><dd><p>Most bugs are either fixed within six months, or not fixed at all, or
not very important, or fixed as part of a large rework of the code
that would be too large to backport.  However, if there are fixes that
are especially desired in an old release and feasible to do, we can do
them without making a general commitment.</p>
</dd>
<dt>Will anyone test the beta releases?</dt><dd><p>Probably yes, our most active users will run them, but if people would
really rather not test them, forcing them is not helpful.</p>
</dd>
<dt>Isn’t this a step backwards to a slower, less-agile process?</dt><dd><p>No, our trunk stays releasable, and we ship every month.  We’re just
cutting out things that hold us back (continuous rather than episodic
API stability; RCs every month) and giving users what they demand.</p>
</dd>
<dt>How about calling the monthly releases “milestone” or “next” not “beta”?</dt><dd><p>Those words are less scary but they also have less clear meanings.</p>
</dd>
</dl>
</div>
<div class="section" id="expected-benefits">
<h2>Expected Benefits<a class="headerlink" href="#expected-benefits" title="Permalink to this headline">¶</a></h2>
<p>If this plan works, we’ll expect to see the following changes.  If they
don’t occur, we’ll think again:</p>
<ul class="simple">
<li><p>We see a distribution curve of users and bug reports across nightly, monthly
and stable releases, indicating that each has value.</p></li>
<li><p>API changes are easier or safer to make during beta periods, without
being held back by fears of compatibility or</p></li>
<li><p>The stable releases are actually stable and don’t introduce regressions
or break plugins.</p></li>
<li><p>Many bugs are fixed in stable branches, without developers feeling this
is a waste of time.</p></li>
<li><p>Distributions ship the stable releases in their stable releases and the
bugfix releases in their bugfix releases.</p></li>
<li><p>Plugin authors follow this policy, making their own bugfix releases.</p></li>
<li><p>Users like it.</p></li>
</ul>
<p>After doing this for the 2.0 cycle (September 2009 through to early
2010), it seems to be going well.</p>
</div>
<div class="section" id="reviewing-for-the-stable-branch">
<h2>Reviewing for the Stable Branch<a class="headerlink" href="#reviewing-for-the-stable-branch" title="Permalink to this headline">¶</a></h2>
<p>These are guidelines and can be interpreted case-by-case.</p>
<ul class="simple">
<li><p>All changes to the stable branch should fix a bug, even if you would not
normally file a bug for the change.  The bug description should if at
all possible explain how to manually verify the bug in a way that will
fail before and pass after the change.  (These are requirements for the
SRU process.)</p></li>
<li><p>The change should be reasonably small and conservative.</p></li>
<li><p>Remember that the patch will be read during the SRU
process and so keeping the patch small is useful even beyond keeping the
logical changes small.  Avoid doing mechanical bulk changes on the
stable branch.</p></li>
<li><p>Use particular care for things that may behave differently across
platforms, encodings or locales.  It’s harder to thoroughly test these
things before a release.</p></li>
<li><p>Generally speaking, just cleaning things up is not a sufficient reason
to make changes to the stable branch.  It has to actually fix a bug.</p></li>
<li><p>Changes to the stable branch should include tests as usual.</p></li>
<li><p>Don’t change or remove existing APIs that might be used by plugins, even
if they are underscore-prefixed.  Adding APIs that are also being added
to the trunk branch may make sense.</p></li>
<li><p>Keeping consistency with trunk is useful, but less important than
keeping the stable branch stable.</p></li>
<li><p>(more items welcome)</p></li>
</ul>
</div>
<div class="section" id="references">
<h2>References<a class="headerlink" href="#references" title="Permalink to this headline">¶</a></h2>
<ol class="arabic simple">
<li><p>List thread “<a class="reference external" href="https://lists.ubuntu.com/archives/bazaar/2009q3/060882.html">[rfc] six-month stable release cycles</a>”, July 2009.</p></li>
</ol>
</div>
</div>


          </div>
        </div>
      </div>
        </div>
        <div class="sidebar">
          <h3>Table of Contents</h3>
          <ul>
<li class="toctree-l1"><a class="reference internal" href="contribution-quickstart.html">Contributing to Breezy</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="profiling.html">Profiling</a></li>
<li class="toctree-l1"><a class="reference internal" href="bug-handling.html">Tracking Bugs in Breezy</a></li>
<li class="toctree-l1"><a class="reference internal" href="HACKING.html">Breezy Developer Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="testing.html">Breezy Testing Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="code-review.html">Reviewing proposed changes to Breezy</a></li>
<li class="toctree-l1"><a class="reference internal" href="code-style.html">Breezy Code Style Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="documenting-changes.html">Documenting Changes</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="configuration.html">Configuring Breezy</a></li>
<li class="toctree-l1"><a class="reference internal" href="configuration.html#breezy-conf">breezy.conf</a></li>
<li class="toctree-l1"><a class="reference internal" href="configuration.html#location-conf">location.conf</a></li>
<li class="toctree-l1"><a class="reference internal" href="configuration.html#branch-conf">branch.conf</a></li>
<li class="toctree-l1"><a class="reference internal" href="fetch.html">Fetching data</a></li>
<li class="toctree-l1"><a class="reference internal" href="transports.html">Developer guide to breezy transports</a></li>
<li class="toctree-l1"><a class="reference internal" href="ui.html">Interacting with the user</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="releasing.html">Releasing Breezy</a></li>
<li class="toctree-l1"><a class="reference internal" href="ppa.html">Managing the Breezy PPA</a></li>
<li class="toctree-l1"><a class="reference internal" href="ec2.html">Breezy Windows EC2 Server</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="overview.html">Breezy Architectural Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="integration.html">Integrating with Breezy</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="principles.html">Breezy Design Principles</a></li>
<li class="toctree-l1"><a class="reference internal" href="specifications.html">Specifications</a></li>
<li class="toctree-l1"><a class="reference internal" href="implementation-notes.html">Implementation notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="miscellaneous-notes.html">Miscellaneous notes</a></li>
</ul>

          <div role="search">
            <h3 style="margin-top: 1.5em;">Search</h3>
            <form class="search" action="search.html" method="get">
                <input type="text" name="q" />
                <input type="submit" value="Go" />
            </form>
          </div>
        </div>
        <div class="clearer"></div>
      </div>
    </div>

    <div class="footer-wrapper">
      <div class="footer">
        <div class="left">
          <div role="navigation" aria-label="related navigaton">
          </div>
          <div role="note" aria-label="source link">
              <br/>
              <a href="_sources/cycle.txt"
                rel="nofollow">Show Source</a>
          </div>
        </div>

        <div class="right">
          
    <div class="footer" role="contentinfo">
        &#169; Copyright 2009-2011 Canonical Ltd, 2017-2018 Breezy Developers.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 2.2.1.
    </div>
        </div>
        <div class="clearer"></div>
      </div>
    </div>

  </body>
</html>