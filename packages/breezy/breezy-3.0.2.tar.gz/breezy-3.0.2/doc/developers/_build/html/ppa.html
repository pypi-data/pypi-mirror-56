
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>Managing the Breezy PPA &#8212; Breezy 3.0.2dev documentation</title>
    <link rel="stylesheet" href="_static/agogo.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>

    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Breezy Windows EC2 Server" href="ec2.html" />
    <link rel="prev" title="Releasing Breezy" href="releasing.html" />
<link rel="stylesheet" href="_static/brz-doc.css" type="text/css" />
 
  </head><body>
    <div class="header-wrapper" role="banner">
      <div class="header">
        <div class="headertitle"><a
          href="index.html">Developer Document Catalog (3.0.2dev)</a></div>
        <div class="rel" role="navigation" aria-label="related navigation">
          <a href="releasing.html" title="Releasing Breezy"
             accesskey="P">previous</a> |
          <a href="ec2.html" title="Breezy Windows EC2 Server"
             accesskey="N">next</a>
        </div>
       </div>
    </div>

    <div class="content-wrapper">
      <div class="content">
        <div class="document">
            
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="managing-the-breezy-ppa">
<h1>Managing the Breezy PPA<a class="headerlink" href="#managing-the-breezy-ppa" title="Permalink to this headline">¶</a></h1>
<p>See also: <a class="reference external" href="index.html">Breezy Developer Document Catalog</a>.</p>
<div class="section" id="background">
<h2>Background<a class="headerlink" href="#background" title="Permalink to this headline">¶</a></h2>
<p>We build Ubuntu <code class="docutils literal notranslate"><span class="pre">.deb</span></code> packages for Breezy as an important part of the
release process.  These packages are hosted in a few <a class="reference external" href="https://help.launchpad.net/PPAQuickStart">Personal Package
Archives (PPA)</a> on Launchpad.</p>
<blockquote>
<div></div></blockquote>
<p>As of January 2011, there are the following PPAs:</p>
<dl class="simple">
<dt>&lt;<a class="reference external" href="https://launchpad.net/~bzr/+archive/ppa">https://launchpad.net/~bzr/+archive/ppa</a>&gt;</dt><dd><p>Final released versions and updates.
Most users who want updates to bzr should add this.</p>
</dd>
<dt>&lt;<a class="reference external" href="https://launchpad.net/~bzr/+archive/proposed">https://launchpad.net/~bzr/+archive/proposed</a>&gt;</dt><dd><p>Proposed uploads to move into ~bzr/ppa, awaiting testing.</p>
</dd>
<dt>&lt;<a class="reference external" href="https://launchpad.net/~bzr/+archive/obsolete">https://launchpad.net/~bzr/+archive/obsolete</a>&gt;</dt><dd><p>A preserved copy of the final version of packages from ~bzr/ppa for
obsolete Ubuntu series.</p>
</dd>
<dt>&lt;<a class="reference external" href="https://launchpad.net/~bzr/+archive/beta">https://launchpad.net/~bzr/+archive/beta</a>&gt;</dt><dd><p>Beta releases.</p>
</dd>
<dt>&lt;<a class="reference external" href="https://launchpad.net/~bzr/+archive/beta-obsolete">https://launchpad.net/~bzr/+archive/beta-obsolete</a>&gt;</dt><dd><p>A preserved copy of the final version of packages from
~bzr/beta for obsolete Ubuntu series.</p>
</dd>
<dt>&lt;<a class="reference external" href="https://launchpad.net/~bzr/+archive/daily">https://launchpad.net/~bzr/+archive/daily</a>&gt;</dt><dd><p>Automatic nightly builds from trunk.</p>
</dd>
</dl>
<p>We build a distinct package for each distrorelease.
If you upload a release-specific version, you should add a suffix to the
package version, e.g. <code class="docutils literal notranslate"><span class="pre">1.3-1~bazaar1~dapper1</span></code>.</p>
<p>Dapper uses the <code class="docutils literal notranslate"><span class="pre">python-support</span></code> framework and later distributions use
<code class="docutils literal notranslate"><span class="pre">python-central</span></code>.  This has little effect on everyday packaging but does
mean that some of the control files are quite different.</p>
<p>Beta releases of bzr and plugins are uploaded into the beta PPA.</p>
<p>Final release versions are first uploaded into the proposed PPA, which
serves as a staging area to allow for new packages to be tested, and also
so that a complete set of Breezy core and plugin updated versions can be
prepared together, when negotiating an API version transition.</p>
<p>Once ready, packages can be copied from the proposed PPA to the main PPA
using the lp-promote-ppa script found within the hydrazine project.  This
procedure reduces the risk of broken packages or dependencies between
packages in the main PPA from which many people get bzr updates.</p>
<p>The packaging information is kept in branches of bzr on Launchpad, named
like
&lt;<a class="reference external" href="https://code.launchpad.net/~bzr/ubuntu/hardy/bzr/bzr-ppa">https://code.launchpad.net/~bzr/ubuntu/hardy/bzr/bzr-ppa</a>&gt;.
or
&lt;lp:~bzr/ubuntu/hardy/bzr/bzr-ppa&gt;.  These branches are intended to be used
with the <code class="docutils literal notranslate"><span class="pre">bzr-builddeb</span></code> plugin.</p>
<p>The page &lt;<a class="reference external" href="http://wiki.bazaar.canonical.com/PpaPackagingBranches">http://wiki.bazaar.canonical.com/PpaPackagingBranches</a>&gt; is a
reference to where the PPA packaging branches for each of the source
packages in the <code class="docutils literal notranslate"><span class="pre">~bzr</span></code> PPAs may be found.</p>
</div>
<div class="section" id="supported-releases">
<h2>Supported releases<a class="headerlink" href="#supported-releases" title="Permalink to this headline">¶</a></h2>
<p>We build packages for every supported Ubuntu release
&lt;<a class="reference external" href="https://wiki.ubuntu.com/Releases">https://wiki.ubuntu.com/Releases</a>&gt;.  Packages need no longer be updated
when the release passes end-of-life because all users should
have upgraded by then.</p>
<p>As of August 2010, the following releases are supported:</p>
<ul class="simple">
<li><p>Maverick</p></li>
<li><p>Lucid LTS</p></li>
<li><p>Karmic</p></li>
<li><p>Jaunty (support ends October 2010)</p></li>
<li><p>Hardy LTS</p></li>
<li><p>Dapper LTS (supported but no longer updated for new releases)</p></li>
</ul>
<p>The <code class="docutils literal notranslate"><span class="pre">rmadison</span> <span class="pre">bzr</span></code> command will gives you an up-to-date summary
of which bzr releases are current in each Ubuntu release.</p>
</div>
<div class="section" id="preconditions">
<h2>Preconditions<a class="headerlink" href="#preconditions" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>You must have a Launchpad account and be a member of the team
that owns these PPAs (<code class="docutils literal notranslate"><span class="pre">~bzr</span></code>).</p></li>
<li><p>You must have a GPG key registered to your Launchpad account.</p></li>
</ul>
<p>On reasonably recent versions of Ubuntu you no longer need special dput
configuration, because you can just say</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">dput</span> <span class="n">ppa</span><span class="p">:</span><span class="n">bzr</span><span class="o">/</span><span class="n">proposed</span> <span class="n">source</span><span class="o">.</span><span class="n">changes</span>
</pre></div>
</div>
<p>However, you may still want to add these lines to <code class="docutils literal notranslate"><span class="pre">~/.dput.cf</span></code> prevent
inadvertently attempting to upload into Ubuntu or Debian, which will
give a somewhat unclear error:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">DEFAULT</span><span class="p">]</span>
<span class="n">default_host_main</span> <span class="o">=</span> <span class="n">notspecified</span>
</pre></div>
</div>
<ul>
<li><p>You need a Ubuntu (or probably Debian) machine, and</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">apt</span><span class="o">-</span><span class="n">get</span> <span class="n">install</span> <span class="n">build</span><span class="o">-</span><span class="n">essential</span> <span class="n">devscripts</span> <span class="n">dput</span> <span class="n">quilt</span> <span class="n">patch</span> <span class="n">libcrypt</span><span class="o">-</span><span class="n">ssleay</span><span class="o">-</span><span class="n">perl</span> <span class="n">debhelper</span> <span class="n">cdbs</span> <span class="n">python</span><span class="o">-</span><span class="n">docutils</span>
</pre></div>
</div>
<p>Please update this document if you encounter unmet dependencies or find a
shorter way to express them.</p>
</li>
<li><p>You will also want to have the <a class="reference external" href="http://launchpad.net/bzr-builddeb">bzr-builddeb</a> plugin installed.</p></li>
</ul>
</div>
<div class="section" id="packaging-breezy">
<h2>Packaging Breezy<a class="headerlink" href="#packaging-breezy" title="Permalink to this headline">¶</a></h2>
<div class="section" id="overview-of-packaging-with-builddeb">
<h3>Overview of packaging with builddeb<a class="headerlink" href="#overview-of-packaging-with-builddeb" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p>First update the oldest supported branch, using <code class="docutils literal notranslate"><span class="pre">bzr</span> <span class="pre">merge-upstream</span></code>.</p></li>
<li><p>Run <code class="docutils literal notranslate"><span class="pre">bzr</span> <span class="pre">builddeb</span> <span class="pre">-S</span> <span class="pre">--</span> <span class="pre">-sa</span></code> to build a source package, then put
that into the ppa.</p>
<p>(<code class="docutils literal notranslate"><span class="pre">-S</span></code> says to make a source-only upload, which is
required for Launchpad’s builders.  <code class="docutils literal notranslate"><span class="pre">-sa</span></code> says to include the
<code class="docutils literal notranslate"><span class="pre">.orig.tgz</span></code> even if this doesn’t seem to be the first upload for an
upstream release: this is often needed when rebuilding something that’s
previously been uploaded to Debian or Ubuntu or into a different PPA.)</p>
</li>
<li><p>Now merge across that change into each supported branch with a
simple <code class="docutils literal notranslate"><span class="pre">bzr</span> <span class="pre">merge</span></code>.</p></li>
</ul>
</div>
<div class="section" id="locally-testing-using-pbuilder">
<h3>Locally testing using pbuilder<a class="headerlink" href="#locally-testing-using-pbuilder" title="Permalink to this headline">¶</a></h3>
<p>It may be useful to locally test builds inside pbuilder.  You may want to
use the script from &lt;<a class="reference external" href="http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=255165">http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=255165</a>&gt;
to wrap it, and to give it sensible defaults for your local machine.</p>
</div>
<div class="section" id="update-all-packages-in-proposed-before-copying-to-the-main-ppa">
<h3>Update all packages in proposed before copying to the main ppa<a class="headerlink" href="#update-all-packages-in-proposed-before-copying-to-the-main-ppa" title="Permalink to this headline">¶</a></h3>
<p>If one updates bzr, and there are plugins that are not compatible with the
new version of bzr, this can cause pain for users using the ppa. In order to
avoid this, we first get all packages up to date in the proposed ppa, and then
copy them to the main ppa.</p>
</div>
<div class="section" id="short-form">
<h3>Short form<a class="headerlink" href="#short-form" title="Permalink to this headline">¶</a></h3>
<p>For people who have already set up everything they need, building the
release packages is as simple as:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>cd ~/dev/bzr/releases/packaging
export VERSION=&quot;1.17~rc1-1~bazaar1&quot;
export PACKAGE=&quot;bzr&quot;
export UBUNTU_RELEASES=&quot;dapper hardy intrepid jaunty karmic&quot;
~/dev/bzr/bzr.dev/tools/packaging/update-packaging-branches.sh
* Optionaly merge debian unstable.
~/dev/bzr/bzr.dev/tools/packaging/update-changelogs.sh
~/dev/bzr/bzr.dev/tools/packaging/update-control.sh 1.16 1.17 1.18
~/dev/bzr/bzr.dev/tools/packaging/build-packages.sh
dput ppa:bzr/proposed ${PACKAGE}_$VERSION*.changes
</pre></div>
</div>
<p>Rinse and repeat for all the plugins by changing VERSION and PACKAGE.</p>
</div>
<div class="section" id="long-form">
<h3>Long Form<a class="headerlink" href="#long-form" title="Permalink to this headline">¶</a></h3>
<ol class="arabic">
<li><p>You will end up checking out a separate directory for each supported
release. Such as <code class="docutils literal notranslate"><span class="pre">~/dev/bzr/releases/packaging/hardy</span></code>. In each of these
branches, you will produce the package for the release.</p>
<p>The scripts will also create the branches and produce packages for
bzr-svn.</p>
</li>
<li><p>Decide on the final version number.  It should be of this form:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">bzr</span><span class="o">-</span><span class="mf">1.17</span><span class="o">~</span><span class="n">rc1</span><span class="o">-</span><span class="mi">1</span><span class="o">~</span><span class="n">bazaar1</span><span class="o">~</span><span class="n">hardy1</span>
</pre></div>
</div>
<p><strong>Note:</strong> There are three hyphen-separated parts: the <em>package name</em>,
the <em>upstream version</em>, and the <em>packaging version</em>.</p>
<p><strong>Caution:</strong> Upstream betas or release candidates must insert a tilde
to make them sort before the final release, like this:
<code class="docutils literal notranslate"><span class="pre">bzr-1.17~rc1-1~bazaar1~hardy1</span></code>.</p>
<p>Final releases will use a release string of the form:
<code class="docutils literal notranslate"><span class="pre">bzr-1.17-1~bazaar1~hardy1</span></code></p>
<p>Set this base of this up as a usable environment variable:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">export</span> <span class="n">VERSION</span><span class="o">=</span><span class="s2">&quot;1.17~rc1-1~bazaar1&quot;</span>
</pre></div>
</div>
</li>
<li><p>Export the distroreleases that you will be packaging for:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">export</span> <span class="n">UBUNTU_RELEASES</span><span class="o">=</span><span class="s2">&quot;dapper hardy intrepid jaunty karmic&quot;</span>
</pre></div>
</div>
</li>
<li><p>Export the program you are packaging:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">export</span> <span class="n">PACKAGE</span><span class="o">=</span><span class="s2">&quot;bzr&quot;</span>
</pre></div>
</div>
</li>
<li><p>Checkout (or update) the packaging branch for each supported release:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">bzr</span> <span class="n">co</span> <span class="n">lp</span><span class="p">:</span><span class="o">~</span><span class="n">bzr</span><span class="o">/</span><span class="n">ubuntu</span><span class="o">/</span><span class="n">hardy</span><span class="o">/</span><span class="n">bzr</span><span class="o">/</span><span class="n">bzr</span><span class="o">-</span><span class="n">ppa</span>
</pre></div>
</div>
<p>There is a script available to help:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">tools</span><span class="o">/</span><span class="n">packaging</span><span class="o">/</span><span class="n">update</span><span class="o">-</span><span class="n">packaging</span><span class="o">-</span><span class="n">branches</span><span class="o">.</span><span class="n">sh</span>
</pre></div>
</div>
</li>
<li><p>Optionaly, merge the Debian unstable branch into each of the packaging
branches. You can find the Debian unstable branch here:
<a class="reference external" href="http://bzr.debian.org/pkg-bazaar/">http://bzr.debian.org/pkg-bazaar/</a></p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">bzr-builddeb</span></code> step will download the original tarball if you do
not already have it, putting it into a <code class="docutils literal notranslate"><span class="pre">tarballs</span></code> directory.</p></li>
<li><p>For Breezy plugins, change the <code class="docutils literal notranslate"><span class="pre">debian/control</span></code> file to express a
dependency on the correct version of <code class="docutils literal notranslate"><span class="pre">bzr</span></code>.</p>
<p>For bzrtools this is typically:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>Build-Depends-Indep: bzr (&gt;= 1.17~), rsync
Depends: ${python:Depends}, bzr (&gt;= 1.17~), bzr (&lt;&lt; 1.18~), patch
</pre></div>
</div>
<p>There is a helper script which will update the control file and commit it
for all of your <code class="docutils literal notranslate"><span class="pre">$UBUNTU_RELEASES</span></code>. It is available as:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">tools</span><span class="o">/</span><span class="n">packaging</span><span class="o">/</span><span class="n">update</span><span class="o">-</span><span class="n">control</span><span class="o">.</span><span class="n">sh</span>
</pre></div>
</div>
<p>You must supply the versions as arguments as follows
OLD_VERSION CURRENT_VERSION NEXT_VERSION, such as:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">tools</span><span class="o">/</span><span class="n">packaging</span><span class="o">/</span><span class="n">update</span><span class="o">-</span><span class="n">control</span><span class="o">.</span><span class="n">sh</span> <span class="mf">1.16</span> <span class="mf">1.17</span> <span class="mf">1.18</span>
</pre></div>
</div>
</li>
<li><p>Make a new <code class="docutils literal notranslate"><span class="pre">debian/changelog</span></code> entry for the new release,
either by using <code class="docutils literal notranslate"><span class="pre">dch</span></code> or just editing the file:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">dch</span> <span class="o">-</span><span class="n">v</span> <span class="s1">&#39;1.17~rc1-1~bazaar1~hardy1&#39;</span> <span class="o">-</span><span class="n">D</span> <span class="n">hardy</span>
</pre></div>
</div>
<p>dch will default to the distro you’re working in and this isn’t checked
against the version number (which is just our convention), so make sure
to specify it.</p>
<p>Make sure you have the correct email address for yourself (you may need
export DEBEMAIL=`bzr whoami` if it isn’t already set), version number, and
distribution.  It should look something like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">bzr</span> <span class="p">(</span><span class="mf">1.17</span><span class="o">~</span><span class="n">rc1</span><span class="o">-</span><span class="mi">1</span><span class="o">~</span><span class="n">bazaar1</span><span class="o">~</span><span class="n">hardy1</span><span class="p">)</span> <span class="n">hardy</span><span class="p">;</span> <span class="n">urgency</span><span class="o">=</span><span class="n">low</span>

 <span class="o">*</span> <span class="n">New</span> <span class="n">upstream</span> <span class="n">release</span><span class="o">.</span>

<span class="o">--</span> <span class="n">John</span> <span class="n">Sample</span> <span class="o">&lt;</span><span class="n">sample</span><span class="nd">@example</span><span class="o">.</span><span class="n">com</span><span class="o">&gt;</span>  <span class="n">Mon</span><span class="p">,</span> <span class="mi">31</span> <span class="n">Mar</span> <span class="mi">2008</span> <span class="mi">12</span><span class="p">:</span><span class="mi">36</span><span class="p">:</span><span class="mi">27</span> <span class="o">+</span><span class="mi">1100</span>
</pre></div>
</div>
<p>If you need to upload the package again to fix a problem, normally you
should increment the last number in the version number, following the
distro name.  Make sure not to omit the initial <code class="docutils literal notranslate"><span class="pre">-1</span></code>, and make sure
that the distro name in the version is consistent with the target name
outside the parenthesis.</p>
<p>You will also want to commit these changes into the packaging branch.</p>
<p>There is a helper script which will build all the packages
for all of your <code class="docutils literal notranslate"><span class="pre">$UBUNTU_RELEASES</span></code>. It is available as:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">tools</span><span class="o">/</span><span class="n">packaging</span><span class="o">/</span><span class="n">update</span><span class="o">-</span><span class="n">changelogs</span><span class="o">.</span><span class="n">sh</span>
</pre></div>
</div>
</li>
<li><p>Build the source packages:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>cd bzr-$DISTRO; bzr builddeb -S
</pre></div>
</div>
<p>This will create a <code class="docutils literal notranslate"><span class="pre">.changes</span></code> file.  If you didn’t configure builddeb
to automatically sign them, you can use</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>debsign -m$UID *.changes
</pre></div>
</div>
<p>where <code class="docutils literal notranslate"><span class="pre">$UID</span></code> is the gpg key you want to use to sign the changes.</p>
<p>There is a helper script which will build the package
for all of your <code class="docutils literal notranslate"><span class="pre">$UBUNTU_RELEASES</span></code>. It is available as:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">tools</span><span class="o">/</span><span class="n">packaging</span><span class="o">/</span><span class="n">build</span><span class="o">-</span><span class="n">packages</span><span class="o">.</span><span class="n">sh</span>
</pre></div>
</div>
</li>
<li><p>Upload into the PPA for each release:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">dput</span> <span class="n">dput</span> <span class="n">ppa</span><span class="p">:</span><span class="n">bzr</span><span class="o">/</span><span class="n">proposed</span> <span class="n">bzr</span><span class="o">*</span><span class="mf">1.17</span><span class="o">-</span><span class="mi">1</span><span class="o">*.</span><span class="n">changes</span>
</pre></div>
</div>
</li>
<li><p>You should soon get an “upload accepted” mail from Launchpad, which
means that your package is waiting to be built.  You can then track its
progress in &lt;<a class="reference external" href="https://launchpad.net/~bzr/+archive/proposed">https://launchpad.net/~bzr/+archive/proposed</a>&gt; and
&lt;<a class="reference external" href="https://launchpad.net/~bzr/+archive/proposed/+builds">https://launchpad.net/~bzr/+archive/proposed/+builds</a>&gt;.</p></li>
</ol>
</div>
<div class="section" id="packaging-bzr-svn">
<h3>Packaging bzr-svn<a class="headerlink" href="#packaging-bzr-svn" title="Permalink to this headline">¶</a></h3>
<p>bzr-svn uses a packaging branch that contains both the source
(including any changes against upstream) and the <code class="docutils literal notranslate"><span class="pre">debian/</span></code> directory.</p>
<p>To build bzr-svn:</p>
<ol class="arabic">
<li><p>Get a checkout of <code class="docutils literal notranslate"><span class="pre">lp:~bzr/bzr-svn/hardy-ppa/</span></code></p></li>
<li><p>Merge from <code class="docutils literal notranslate"><span class="pre">http://bzr.debian.org/pkg-bazaar/bzr-svn/unstable/</span></code></p>
<p>This should bring in both upstream and packaging changes for the new
release, and it’s updated as part of the bzr-svn release process.</p>
<p>It’s quite possible you will need to resolve some conflicts.</p>
</li>
<li><p>Run <code class="docutils literal notranslate"><span class="pre">dch</span> <span class="pre">-v</span> <span class="pre">0.4.15-1~bazaar1-hardy1</span> <span class="pre">-D</span> <span class="pre">hardy</span></code> or similar</p></li>
<li><p>Run <code class="docutils literal notranslate"><span class="pre">bzr</span> <span class="pre">builddeb</span> <span class="pre">--source</span></code></p>
<p>bzr-builddeb will automatically check out the appropriate tag from the
main branch of bzr-svn, build, and package it.</p>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">dput</span> <span class="pre">ppa:bzr/proposed</span> <span class="pre">../bzr-svn_0.4.15-1~bazaar1~hardy1_source.changes</span></code></p></li>
</ol>
</div>
</div>
<div class="section" id="monitoring-the-contents-of-ppas">
<h2>Monitoring the contents of PPAs<a class="headerlink" href="#monitoring-the-contents-of-ppas" title="Permalink to this headline">¶</a></h2>
<p>If you add all the bzr PPAs to your <code class="docutils literal notranslate"><span class="pre">sources.list</span></code> then you can see a
summary of current package versions with:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">apt</span><span class="o">-</span><span class="n">cache</span> <span class="n">madison</span> <span class="n">bzr</span>
</pre></div>
</div>
</div>
<div class="section" id="testing-the-contents-of-the-ppa">
<h2>Testing the contents of the PPA<a class="headerlink" href="#testing-the-contents-of-the-ppa" title="Permalink to this headline">¶</a></h2>
<p>A somewhat crude but useful way to test the contents of the PPA is to
install the relevant packages into an schroot:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">schroot</span> <span class="o">-</span><span class="n">c</span> <span class="n">hardy</span><span class="o">-</span><span class="n">test</span> <span class="o">-</span><span class="n">u</span> <span class="n">root</span> <span class="o">--</span> \
  <span class="n">apt</span><span class="o">-</span><span class="n">get</span> <span class="n">install</span> <span class="o">-</span><span class="n">o</span> <span class="s1">&#39;APT::Install-Suggests=&quot;true&quot;&#39;</span> \
  <span class="o">-</span><span class="n">o</span> <span class="s1">&#39;APT::Install-Recommends=&quot;true&quot;&#39;</span> \
  <span class="n">bzr</span>
</pre></div>
</div>
<p>This should make sure everything can be installed; it won’t guarantee that</p>
</div>
<div class="section" id="packaging-dependencies">
<h2>Packaging dependencies<a class="headerlink" href="#packaging-dependencies" title="Permalink to this headline">¶</a></h2>
<p>Some of our updates to bzr in previous releases require backports of our
dependencies.  Specific branches holding these backports:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">lp:~bzr/ubuntu/dapper/configobj/dapper-backport</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">lp:~bzr/ubuntu/hardy/python-central-debhelper-sequence-addon/bzr-ppa</span></code></p></li>
</ul>
</div></blockquote>
</div>
</div>


          </div>
        </div>
      </div>
        </div>
        <div class="sidebar">
          <h3>Table of Contents</h3>
          <ul>
<li class="toctree-l1"><a class="reference internal" href="contribution-quickstart.html">Contributing to Breezy</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="profiling.html">Profiling</a></li>
<li class="toctree-l1"><a class="reference internal" href="bug-handling.html">Tracking Bugs in Breezy</a></li>
<li class="toctree-l1"><a class="reference internal" href="HACKING.html">Breezy Developer Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="testing.html">Breezy Testing Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="code-review.html">Reviewing proposed changes to Breezy</a></li>
<li class="toctree-l1"><a class="reference internal" href="code-style.html">Breezy Code Style Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="documenting-changes.html">Documenting Changes</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="configuration.html">Configuring Breezy</a></li>
<li class="toctree-l1"><a class="reference internal" href="configuration.html#breezy-conf">breezy.conf</a></li>
<li class="toctree-l1"><a class="reference internal" href="configuration.html#location-conf">location.conf</a></li>
<li class="toctree-l1"><a class="reference internal" href="configuration.html#branch-conf">branch.conf</a></li>
<li class="toctree-l1"><a class="reference internal" href="fetch.html">Fetching data</a></li>
<li class="toctree-l1"><a class="reference internal" href="transports.html">Developer guide to breezy transports</a></li>
<li class="toctree-l1"><a class="reference internal" href="ui.html">Interacting with the user</a></li>
</ul>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="releasing.html">Releasing Breezy</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Managing the Breezy PPA</a></li>
<li class="toctree-l1"><a class="reference internal" href="ec2.html">Breezy Windows EC2 Server</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="overview.html">Breezy Architectural Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="integration.html">Integrating with Breezy</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="principles.html">Breezy Design Principles</a></li>
<li class="toctree-l1"><a class="reference internal" href="specifications.html">Specifications</a></li>
<li class="toctree-l1"><a class="reference internal" href="implementation-notes.html">Implementation notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="miscellaneous-notes.html">Miscellaneous notes</a></li>
</ul>

          <div role="search">
            <h3 style="margin-top: 1.5em;">Search</h3>
            <form class="search" action="search.html" method="get">
                <input type="text" name="q" />
                <input type="submit" value="Go" />
            </form>
          </div>
        </div>
        <div class="clearer"></div>
      </div>
    </div>

    <div class="footer-wrapper">
      <div class="footer">
        <div class="left">
          <div role="navigation" aria-label="related navigaton">
            <a href="releasing.html" title="Releasing Breezy"
              >previous</a> |
            <a href="ec2.html" title="Breezy Windows EC2 Server"
              >next</a>
          </div>
          <div role="note" aria-label="source link">
              <br/>
              <a href="_sources/ppa.txt"
                rel="nofollow">Show Source</a>
          </div>
        </div>

        <div class="right">
          
    <div class="footer" role="contentinfo">
        &#169; Copyright 2009-2011 Canonical Ltd, 2017-2018 Breezy Developers.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 2.2.1.
    </div>
        </div>
        <div class="clearer"></div>
      </div>
    </div>

  </body>
</html>