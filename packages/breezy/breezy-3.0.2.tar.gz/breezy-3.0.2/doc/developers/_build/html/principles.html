
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>Breezy Design Principles &#8212; Breezy 3.0.2dev documentation</title>
    <link rel="stylesheet" href="_static/agogo.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>

    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Specifications" href="specifications.html" />
    <link rel="prev" title="Integrating with Breezy" href="integration.html" />
<link rel="stylesheet" href="_static/brz-doc.css" type="text/css" />
 
  </head><body>
    <div class="header-wrapper" role="banner">
      <div class="header">
        <div class="headertitle"><a
          href="index.html">Developer Document Catalog (3.0.2dev)</a></div>
        <div class="rel" role="navigation" aria-label="related navigation">
          <a href="integration.html" title="Integrating with Breezy"
             accesskey="P">previous</a> |
          <a href="specifications.html" title="Specifications"
             accesskey="N">next</a>
        </div>
       </div>
    </div>

    <div class="content-wrapper">
      <div class="content">
        <div class="document">
            
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="breezy-design-principles">
<h1>Breezy Design Principles<a class="headerlink" href="#breezy-design-principles" title="Permalink to this headline">¶</a></h1>
<p>We have learned or adopted a few general principles for code in Breezy.
Generally we will try to follow them in future, either for consistency or
because they’ve been proven to work well, or both.</p>
<p>We may need to depart from these principles in particular special cases,
or modify them as we learn more, or we might be diverging for them for no
very good reason but just because of bugs.  If in doubt, ask.</p>
<p>See also: <a class="reference external" href="index.html">Breezy Developer Document Catalog</a>.</p>
<div class="section" id="testing">
<h2>Testing<a class="headerlink" href="#testing" title="Permalink to this headline">¶</a></h2>
<p>Untested code is broken code.</p>
<p>So if a function is removed from the normal flow of execution (perhaps
because a new default format was introduced) we have to make sure we can
still execute and test the old code – or remove it altogether.</p>
</div>
<div class="section" id="data-formats">
<h2>Data formats<a class="headerlink" href="#data-formats" title="Permalink to this headline">¶</a></h2>
<p>Fixing code once it’s released is easy; fixing a problematic data format
once people have started using it is more difficult.  We should document
and review formats separately from the code that implements them.</p>
<p>Data formats should have clear format markers that allow us to support new
formats in future.  It should be easy to read the format without reading
the whole object.</p>
<p>The format marker should be a string understandable by a user that names
the format and gives the Breezy release that introduced it.  If the Breezy
program doesn’t understand that format, it can at least show that format
marker to the user.</p>
<p>Once we mark a format as supported, we’ll continue supporting it for
several future releases, and support upgrading from it
forever.</p>
<p>Once we’ve released a format, we normally don’t change it.  Adding new
optional elements can cause problems when older clients don’t understand
those changes, or don’t propagate them properly.</p>
<p>We clearly distinguish internal files from user files.  Files inside
<code class="docutils literal notranslate"><span class="pre">.bzr/</span></code> are only written to by Breezy and we discourage users from editing
them.  Within Breezy, code addressing the abstract interface of the Branch,
ControlDir, etc shouldn’t know where or how the internal files are stored.  If
anything else is written in there, it won’t be propagated when pushing or
pulling, and won’t be converted when upgrading.  (This is not quite true
though; there is a <code class="docutils literal notranslate"><span class="pre">branch.conf</span></code>.)</p>
<p>User files within the tree, by contrast, we always store and return
verbatim.  It’s OK for Breezy to read and act on these files (as we do
with <code class="docutils literal notranslate"><span class="pre">.bzrignore</span></code>), and to update them (as <code class="docutils literal notranslate"><span class="pre">brz</span> <span class="pre">ignore</span></code> does), but
they remain clearly user files and can be directly edited.</p>
</div>
</div>


          </div>
        </div>
      </div>
        </div>
        <div class="sidebar">
          <h3>Table of Contents</h3>
          <ul>
<li class="toctree-l1"><a class="reference internal" href="contribution-quickstart.html">Contributing to Breezy</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="profiling.html">Profiling</a></li>
<li class="toctree-l1"><a class="reference internal" href="bug-handling.html">Tracking Bugs in Breezy</a></li>
<li class="toctree-l1"><a class="reference internal" href="HACKING.html">Breezy Developer Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="testing.html">Breezy Testing Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="code-review.html">Reviewing proposed changes to Breezy</a></li>
<li class="toctree-l1"><a class="reference internal" href="code-style.html">Breezy Code Style Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="documenting-changes.html">Documenting Changes</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="configuration.html">Configuring Breezy</a></li>
<li class="toctree-l1"><a class="reference internal" href="configuration.html#breezy-conf">breezy.conf</a></li>
<li class="toctree-l1"><a class="reference internal" href="configuration.html#location-conf">location.conf</a></li>
<li class="toctree-l1"><a class="reference internal" href="configuration.html#branch-conf">branch.conf</a></li>
<li class="toctree-l1"><a class="reference internal" href="fetch.html">Fetching data</a></li>
<li class="toctree-l1"><a class="reference internal" href="transports.html">Developer guide to breezy transports</a></li>
<li class="toctree-l1"><a class="reference internal" href="ui.html">Interacting with the user</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="releasing.html">Releasing Breezy</a></li>
<li class="toctree-l1"><a class="reference internal" href="ppa.html">Managing the Breezy PPA</a></li>
<li class="toctree-l1"><a class="reference internal" href="ec2.html">Breezy Windows EC2 Server</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="overview.html">Breezy Architectural Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="integration.html">Integrating with Breezy</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Breezy Design Principles</a></li>
<li class="toctree-l1"><a class="reference internal" href="specifications.html">Specifications</a></li>
<li class="toctree-l1"><a class="reference internal" href="implementation-notes.html">Implementation notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="miscellaneous-notes.html">Miscellaneous notes</a></li>
</ul>

          <div role="search">
            <h3 style="margin-top: 1.5em;">Search</h3>
            <form class="search" action="search.html" method="get">
                <input type="text" name="q" />
                <input type="submit" value="Go" />
            </form>
          </div>
        </div>
        <div class="clearer"></div>
      </div>
    </div>

    <div class="footer-wrapper">
      <div class="footer">
        <div class="left">
          <div role="navigation" aria-label="related navigaton">
            <a href="integration.html" title="Integrating with Breezy"
              >previous</a> |
            <a href="specifications.html" title="Specifications"
              >next</a>
          </div>
          <div role="note" aria-label="source link">
              <br/>
              <a href="_sources/principles.txt"
                rel="nofollow">Show Source</a>
          </div>
        </div>

        <div class="right">
          
    <div class="footer" role="contentinfo">
        &#169; Copyright 2009-2011 Canonical Ltd, 2017-2018 Breezy Developers.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 2.2.1.
    </div>
        </div>
        <div class="clearer"></div>
      </div>
    </div>

  </body>
</html>