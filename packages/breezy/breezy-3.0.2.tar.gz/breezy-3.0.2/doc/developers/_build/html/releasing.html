
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>Releasing Breezy &#8212; Breezy 3.0.2dev documentation</title>
    <link rel="stylesheet" href="_static/agogo.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>

    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Managing the Breezy PPA" href="ppa.html" />
    <link rel="prev" title="Interacting with the user" href="ui.html" />
<link rel="stylesheet" href="_static/brz-doc.css" type="text/css" />
 
  </head><body>
    <div class="header-wrapper" role="banner">
      <div class="header">
        <div class="headertitle"><a
          href="index.html">Developer Document Catalog (3.0.2dev)</a></div>
        <div class="rel" role="navigation" aria-label="related navigation">
          <a href="ui.html" title="Interacting with the user"
             accesskey="P">previous</a> |
          <a href="ppa.html" title="Managing the Breezy PPA"
             accesskey="N">next</a>
        </div>
       </div>
    </div>

    <div class="content-wrapper">
      <div class="content">
        <div class="document">
            
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="releasing-breezy">
<h1><a class="toc-backref" href="#id3">Releasing Breezy</a><a class="headerlink" href="#releasing-breezy" title="Permalink to this headline">¶</a></h1>
<p>This document describes the processes for making and announcing a Breezy
release, and managing the release process.  This is just one phase of the
<a class="reference external" href="https://www.breezy-vcs.org/developers/cycle.html">overall development cycle</a>, (go re-read this
document to ensure it hasn’t been updated since you last read it) but it’s
the most complex part.</p>
<p>If you’re doing your first release you can follow this document and read
each step explanation. It’s also a good practice to read it for any release
to ensure you don’t miss a step and to update it as the release process
evolves.</p>
<p>If you’re helping the Release Manager (RM) for one reason or another, you
may notice that he didn’t follow that document scrupulously. He may have
good reasons to do that but he may also have missed some parts.</p>
<div class="contents topic" id="contents">
<p class="topic-title first">Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#releasing-breezy" id="id3">Releasing Breezy</a></p>
<ul>
<li><p><a class="reference internal" href="#preconditions" id="id4">Preconditions</a></p></li>
<li><p><a class="reference internal" href="#what-do-we-release" id="id5">What do we release</a></p></li>
<li><p><a class="reference internal" href="#when-do-we-relase" id="id6">When do we relase ?</a></p></li>
<li><p><a class="reference internal" href="#at-the-start-of-a-series-cycle" id="id7">At the start of a series cycle</a></p></li>
<li><p><a class="reference internal" href="#at-the-start-of-a-release-cycle" id="id8">At the start of a release cycle</a></p></li>
<li><p><a class="reference internal" href="#doing-a-particular-release" id="id9">Doing a particular release</a></p>
<ul>
<li><p><a class="reference internal" href="#alpha-releases" id="id10">alpha releases</a></p></li>
<li><p><a class="reference internal" href="#update-the-source-code" id="id11">Update the source code</a></p></li>
<li><p><a class="reference internal" href="#making-the-source-tarball" id="id12">Making the source tarball</a></p></li>
<li><p><a class="reference internal" href="#publishing-the-source-tarball" id="id13">Publishing the source tarball</a></p></li>
<li><p><a class="reference internal" href="#kick-off-the-next-cycle" id="id14">Kick off the next cycle</a></p></li>
<li><p><a class="reference internal" href="#the-final-beta-branching-and-translations" id="id15">The final beta - branching and translations</a></p></li>
<li><p><a class="reference internal" href="#announcing-the-source-freeze" id="id16">Announcing the source freeze</a></p></li>
<li><p><a class="reference internal" href="#publishing-the-release" id="id17">Publishing the release</a></p></li>
<li><p><a class="reference internal" href="#announcing-the-release" id="id18">Announcing the release</a></p></li>
<li><p><a class="reference internal" href="#merging-the-released-code-back-to-trunk" id="id19">Merging the released code back to trunk</a></p></li>
<li><p><a class="reference internal" href="#releases-until-the-final-one" id="id20">Releases until the final one</a></p></li>
<li><p><a class="reference internal" href="#getting-the-release-into-ubuntu" id="id21">Getting the release into Ubuntu</a></p></li>
<li><p><a class="reference internal" href="#see-also" id="id22">See also</a></p></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="section" id="preconditions">
<h2><a class="toc-backref" href="#id4">Preconditions</a><a class="headerlink" href="#preconditions" title="Permalink to this headline">¶</a></h2>
<ol class="arabic simple">
<li><p>Be a member of <a class="reference external" href="https://launchpad.net/~brz">https://launchpad.net/~brz</a> (or you won’t be able to land
any change)</p></li>
</ol>
</div>
<div class="section" id="what-do-we-release">
<h2><a class="toc-backref" href="#id5">What do we release</a><a class="headerlink" href="#what-do-we-release" title="Permalink to this headline">¶</a></h2>
<p>In this document, we’re talking about source releases only, packages and
installers are built from this but we won’t talk about them here.</p>
<p>Every release is part of a series, <code class="docutils literal notranslate"><span class="pre">brz-3.0.0</span></code> is part of series <code class="docutils literal notranslate"><span class="pre">3.0</span></code>.</p>
<p>We do two different kind of releases: the betas releases and the stable
releases for a given series.</p>
<p>For a given series, releases will be done to deliver new versions of brz to
different kinds of users:</p>
<ol class="arabic simple">
<li><p>beta releases: named <code class="docutils literal notranslate"><span class="pre">x.ybn</span></code> where <code class="docutils literal notranslate"><span class="pre">x.y</span></code> is the series and <code class="docutils literal notranslate"><span class="pre">n</span></code>
starts at 1 and is incremented. These releases are targeted to beta
testers who don’t want to run from source but are interested in features
or improvements.</p></li>
<li><p>stable releases: name <code class="docutils literal notranslate"><span class="pre">x.y.z</span></code> where <code class="docutils literal notranslate"><span class="pre">x.y.</span></code> is the series and <code class="docutils literal notranslate"><span class="pre">z</span></code>
starts at 0 and is incremented. These releases are targeted at people
that want bugfixes only and no new features.</p></li>
</ol>
<p>Differences in the release process between beta and stable release will be
mentioned when needed.</p>
</div>
<div class="section" id="when-do-we-relase">
<h2><a class="toc-backref" href="#id6">When do we relase ?</a><a class="headerlink" href="#when-do-we-relase" title="Permalink to this headline">¶</a></h2>
<p>As of September 2018, we maintain a single series: 3.0.</p>
<ol class="arabic simple">
<li><p>as much as possible releases should not disturb development, and
ongoing development should not disturb releases,</p></li>
<li><p>the most recent development series should release once a month during
the beta period (see <a class="reference external" href="cycle.html">Development cycles</a> for more
details),</p></li>
<li><p>the most recent stable series should release every other month (based
on the amount of bug fixes, this can be shorter or longer depending on
the bugs importance),</p></li>
<li><p>previous series should release on a regular basis without interfering
with the most recent series with a decreasing order of priority (again
this should be based on bugs importance and user feedback),</p></li>
<li><p>the death of a series should be planned ahead of time. 6 months should
give enough time to our users to migrate to a more recent series. This
doesn’t mean we will make a release at the end of the series, just that
before the end date we <em>could</em> possibly put out another release if
there was a sufficiently important fix.  Beyond that date, we won’t
even land changes on that branch (unless something causes a miraculous
resurrection.)</p></li>
<li><p>there should not be more than 2 releases in the same week (but the
Release Manager is free to ignore this (get in touch with packagers
though),</p></li>
</ol>
</div>
<div class="section" id="at-the-start-of-a-series-cycle">
<h2><a class="toc-backref" href="#id7">At the start of a series cycle</a><a class="headerlink" href="#at-the-start-of-a-series-cycle" title="Permalink to this headline">¶</a></h2>
<p>To start a new series cycle:</p>
<ol class="arabic">
<li><p>Create a new series <code class="docutils literal notranslate"><span class="pre">x.y</span></code> at &lt;<a class="reference external" href="https://launchpad.net/brz/+addseries">https://launchpad.net/brz/+addseries</a>&gt;.</p></li>
<li><p>Add milestones at &lt;<a class="reference external" href="https://launchpad.net/brz/x.y/+addmilestone">https://launchpad.net/brz/x.y/+addmilestone</a>&gt; to that
series for the beta releases and the stable series mentioning their
expected dates. Only the milestone associated to the next release in
this series should be left active to avoid clutter when targeting bugs.</p></li>
<li><p>If you made a new series, you will need to create a new branch for this
release series. This branch will be used only from the first non-beta
release onwards. It needs to be created by a <a class="reference external" href="https://launchpad.net/~brz">https://launchpad.net/~brz</a>
member (ask the core devs for instructions or to do it for you).</p></li>
<li><p>Start a new release-notes file:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cd</span> <span class="n">doc</span><span class="o">/</span><span class="n">en</span><span class="o">/</span><span class="n">release</span><span class="o">-</span><span class="n">notes</span>
<span class="n">cp</span> <span class="n">series</span><span class="o">-</span><span class="n">template</span><span class="o">.</span><span class="n">txt</span> <span class="n">brz</span><span class="o">-</span><span class="n">x</span><span class="o">.</span><span class="n">y</span><span class="o">.</span><span class="n">txt</span>  <span class="c1"># e.g. brz-3.1.txt</span>
<span class="n">brz</span> <span class="n">add</span> <span class="n">brz</span><span class="o">-</span><span class="mf">3.1</span><span class="o">.</span><span class="n">txt</span>
</pre></div>
</div>
</li>
<li><p>Start a new whats-new file:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cd</span> <span class="n">doc</span><span class="o">/</span><span class="n">en</span><span class="o">/</span><span class="n">whats</span><span class="o">-</span><span class="n">new</span>
<span class="n">cp</span> <span class="n">template</span><span class="o">.</span><span class="n">txt</span> <span class="n">brz</span><span class="o">-</span><span class="n">x</span><span class="o">.</span><span class="n">y</span><span class="o">.</span><span class="n">txt</span>  <span class="c1"># e.g. brz-3.1.txt</span>
<span class="n">brz</span> <span class="n">add</span> <span class="n">brz</span><span class="o">-</span><span class="n">x</span><span class="o">.</span><span class="n">y</span><span class="o">.</span><span class="n">txt</span>
</pre></div>
</div>
</li>
<li><p>Update <code class="docutils literal notranslate"><span class="pre">doc/en/index.txt</span></code> to point to the new whats-new file.</p></li>
</ol>
</div>
<div class="section" id="at-the-start-of-a-release-cycle">
<h2><a class="toc-backref" href="#id8">At the start of a release cycle</a><a class="headerlink" href="#at-the-start-of-a-release-cycle" title="Permalink to this headline">¶</a></h2>
<p>To start a new release cycle:</p>
<ol class="arabic">
<li><p>Send mail to the list with the key dates, who will be the release
manager, and the main themes or targeted bugs.  Ask people to nominate
objectives, or point out any high-risk things that are best done early,
or that interact with other changes. This is called the metronome mail
and is described in <a class="reference external" href="cycle.html">Development cycles</a>.</p></li>
<li><p>Make a local branch to prepare the release:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">brz</span> <span class="n">branch</span> <span class="n">lp</span><span class="p">:</span><span class="n">brz</span><span class="o">/</span><span class="n">x</span><span class="o">.</span><span class="n">y</span> <span class="n">x</span><span class="o">.</span><span class="n">y</span><span class="o">-</span><span class="n">dev</span>
</pre></div>
</div>
<p>If you’re doing your first beta release, branch from trunk:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">brz</span> <span class="n">branch</span> <span class="n">lp</span><span class="p">:</span><span class="n">brz</span> <span class="n">x</span><span class="o">.</span><span class="n">y</span><span class="o">-</span><span class="n">dev</span>
</pre></div>
</div>
<p>Note that you will generally reuse the same branch for all releases in a
given series.</p>
</li>
<li><p>Add a landing job for the release branch at <a class="reference external" href="https://ci.breezy-vcs.org/">https://ci.breezy-vcs.org/</a></p></li>
<li><p>Update the version number in the <code class="docutils literal notranslate"><span class="pre">brz</span></code> script, and the
<code class="docutils literal notranslate"><span class="pre">breezy/__init__.py</span></code> file:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">version_info</span> <span class="o">=</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span><span class="p">,</span> <span class="s1">&#39;dev&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
</li>
<li><p>Add a new section at the top of the current release notes (in
<code class="docutils literal notranslate"><span class="pre">doc/en/release-notes</span></code>) about the new release, including its version
number and the headings from <code class="docutils literal notranslate"><span class="pre">release-template.txt</span></code>.</p></li>
<li><p>Update the “What’s New” documents in <code class="docutils literal notranslate"><span class="pre">doc/en/whats-new</span></code>.</p></li>
<li><p>Make sure a milestone exists for your release and that it is active,
&lt;<a class="reference external" href="https://launchpad.net/brz/x.y">https://launchpad.net/brz/x.y</a>&gt; lists the existing milestones,
&lt;<a class="reference external" href="https://launchpad.net/brz/x.y/x.y.z/+edit">https://launchpad.net/brz/x.y/x.y.z/+edit</a>&gt; allows you to toggle the
active flag.</p></li>
<li><p>Commit this and make a proposal against the release branch. Self approve
it (you’re the release manager).</p></li>
</ol>
</div>
<div class="section" id="doing-a-particular-release">
<h2><a class="toc-backref" href="#id9">Doing a particular release</a><a class="headerlink" href="#doing-a-particular-release" title="Permalink to this headline">¶</a></h2>
<div class="section" id="alpha-releases">
<h3><a class="toc-backref" href="#id10">alpha releases</a><a class="headerlink" href="#alpha-releases" title="Permalink to this headline">¶</a></h3>
<p>3.0.0 will start to be released as alpha as integrating plugins and porting
to python3 (while maintaining python2 compatiblity) desserve to be testing
in the wild by people understanding the risks.</p>
<p>That being said, the whole test suite has been preserved and enriched in the
process.</p>
<p>Alpha releases will happen as source only (tarballs) and the process is
simplified.</p>
<p>Note that the intent is to come back to beta releases as soon as possible so
the alpha releases won’t happen again.</p>
<p>The process for releasing an alpha release is therefore:
- upload a tarball to launchpad,
- upload a tarball to pypi,
- mail <a class="reference external" href="mailto:bazaar&#37;&#52;&#48;lists&#46;ubuntu&#46;com">bazaar<span>&#64;</span>lists<span>&#46;</span>ubuntu<span>&#46;</span>com</a>,
- post an announcement on the home page.</p>
<p>Uploading tarballs are described below, just use alpha versions (3, 0, 0,
‘alpha’, 1) in <code class="docutils literal notranslate"><span class="pre">./breezy/__init__.py</span></code></p>
</div>
<div class="section" id="update-the-source-code">
<h3><a class="toc-backref" href="#id11">Update the source code</a><a class="headerlink" href="#update-the-source-code" title="Permalink to this headline">¶</a></h3>
<ol class="arabic">
<li><p>Check that there is a milestone for the release you’re doing. If there
is no milestone it indicates a process problem - make the milestone but
also mail the list to raise this issue in our process. Milestones are
found at &lt;<a class="reference external" href="https://launchpad.net/brz/+milestone/x.y.z">https://launchpad.net/brz/+milestone/x.y.z</a>&gt;.</p></li>
<li><p>Merge into your branch all previous stable series fixes that haven’t been
merged yet. For example, if you’re releasing 3.2.x, make sure the fixes
on 3.1, 3.0 have already been merged up:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">brz</span> <span class="n">merge</span> <span class="n">lp</span><span class="p">:</span><span class="n">brz</span><span class="o">/</span><span class="mf">3.1</span>
</pre></div>
</div>
<p>and commit that merge in its own commit. This should happen only if the
devs landing changes in previous releases forgot to merge them up. Since
this can slow down the freeze, feel free to gently remind them about
their duties ;) If you feel unsafe resolving the conflicts or it’s too
time consuming, contact the related devs and skip this merge.</p>
<p>Alternatively, think about automating these merges.</p>
</li>
<li><p>In the release branch, update  <code class="docutils literal notranslate"><span class="pre">version_info</span></code> in <code class="docutils literal notranslate"><span class="pre">./breezy/__init__.py</span></code>.
Make sure the corresponding milestone exists.
Double check that ./brz <code class="docutils literal notranslate"><span class="pre">_script_version</span></code> matches <code class="docutils literal notranslate"><span class="pre">version_info</span></code>. Check
the output of <code class="docutils literal notranslate"><span class="pre">./brz</span> <span class="pre">--version</span></code>.</p>
<p>For beta releases use:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">version_info</span> <span class="o">=</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;beta&#39;</span><span class="p">,</span> <span class="n">SERIAL</span><span class="p">)</span>
</pre></div>
</div>
<p>For instance 3.0b1:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">version_info</span> <span class="o">=</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;beta&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
<p>For stable releases use:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">version_info</span> <span class="o">=</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;final&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
</li>
<li><p>Update the <code class="docutils literal notranslate"><span class="pre">./doc/en/release-notes/</span></code> section for this release.</p>
<p>Check that all news entries related to this release have been added in
the right section. For example, if you’re releasing 3.0b3, the following
command should display a a single chuk diff for the 3.0b3 release:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">brz</span> <span class="n">diff</span> <span class="o">-</span><span class="n">rbrz</span><span class="o">-</span><span class="mf">3.0</span><span class="n">b2</span><span class="o">..</span> <span class="n">doc</span><span class="o">/</span><span class="n">en</span><span class="o">/</span><span class="n">release</span><span class="o">-</span><span class="n">notes</span><span class="o">/</span><span class="n">brz</span><span class="o">-</span><span class="mf">3.0</span><span class="o">.</span><span class="n">txt</span>
</pre></div>
</div>
<p>Fill out the date and a description of the release under the existing
header (the diff above will help you summarizing). If there isn’t one,
follow the instructions above for using the <code class="docutils literal notranslate"><span class="pre">release-template.txt</span></code> file
and remind people that they should document their changes there ;)</p>
<p>See <em>3.0b1</em> or similar for an example of what this looks like.</p>
</li>
<li><p>Add or check the summary of the release into the “What’s New” document.</p></li>
</ol>
<blockquote>
<div><p>If this is the first release in a new series make sure to update the
introduction mentioning:</p>
<ul class="simple">
<li><p>the date of this first release,</p></li>
<li><p>until when the series is expected to be supported.</p></li>
</ul>
<p>Looking at <code class="docutils literal notranslate"><span class="pre">brz</span> <span class="pre">annotate</span></code> for previous series should give you the right
hints. The <code class="docutils literal notranslate"><span class="pre">doc/en/_templates/index.html</span></code> file should also be updated.</p>
</div></blockquote>
<ol class="arabic">
<li><p>To check that all bugs mentioned in the release notes are actually
marked as closed in Launchpad, you can run
<code class="docutils literal notranslate"><span class="pre">tools/check-newsbugs.py</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">./</span><span class="n">tools</span><span class="o">/</span><span class="n">check</span><span class="o">-</span><span class="n">newsbugs</span><span class="o">.</span><span class="n">py</span> <span class="n">doc</span><span class="o">/</span><span class="n">en</span><span class="o">/</span><span class="n">release</span><span class="o">-</span><span class="n">notes</span><span class="o">/</span><span class="n">brz</span><span class="o">-</span><span class="n">x</span><span class="o">.</span><span class="n">y</span><span class="o">.</span><span class="n">txt</span>
</pre></div>
</div>
<p>As of 2011-07-18, all bugs mentioned in the output of the script requires
some sort of intervention (either changing the status if it’s not ‘Fix
Released’ or setting a different milestone if the bug hasn’t been
fixed). A few false positives may remain in the older series, don’t let
this slow you down too much. This script accepts options you may find
useful, use <code class="docutils literal notranslate"><span class="pre">./tools/check-newsbugs.py</span></code> to display its usage (<code class="docutils literal notranslate"><span class="pre">-w</span></code>
will open each bug in your browser for example).</p>
</li>
<li><p>For beta releases update the translation template:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">BRZ_PLUGIN_PATH</span><span class="o">=-</span><span class="n">site</span> <span class="n">make</span> <span class="n">po</span><span class="o">/</span><span class="n">brz</span><span class="o">.</span><span class="n">pot</span>
</pre></div>
</div>
<p>This is especially important for the final beta release which is when
translations are frozen and translators are requested (see <a class="reference internal" href="#the-final-beta-branching-and-translations">The final
beta - branching and translations</a>) to make the translations.</p>
</li>
<li><p>For stable releases update the translations:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">brz</span> <span class="n">merge</span> <span class="n">lp</span><span class="p">:</span><span class="o">~</span><span class="n">brz</span><span class="o">-</span><span class="n">core</span><span class="o">/</span><span class="n">brz</span><span class="o">/</span><span class="n">brz</span><span class="o">-</span><span class="n">translations</span><span class="o">-</span><span class="n">export</span><span class="o">-</span><span class="n">x</span><span class="o">.</span><span class="n">y</span>
</pre></div>
</div>
</li>
<li><p>Commit these changes to the release branch, using a command like:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">brz</span> <span class="n">commit</span> <span class="o">-</span><span class="n">m</span> <span class="s2">&quot;Release 3.0.0&quot;</span>
</pre></div>
</div>
<p>The diff before you commit will be something like:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>=== modified file &#39;breezy/__init__.py&#39;
--- breezy/__init__.py    2011-02-09 06:35:00 +0000
+++ breezy/__init__.py    2011-03-10 10:24:47 +0000
@@ -52,7 +52,7 @@
 # Python version 2.0 is (2, 0, 0, &#39;final&#39;, 0).&quot;  Additionally we use a
 # releaselevel of &#39;dev&#39; for unreleased under-development code.

-version_info = (2, 3, 1, &#39;dev&#39;, 0)
+version_info = (2, 3, 1, &#39;final&#39;, 0)

 # API compatibility version
 api_minimum_version = (2, 3, 0)

=== modified file &#39;doc/en/release-notes/brz-2.3.txt&#39;
--- doc/en/release-notes/brz-2.3.txt      2011-03-09 08:30:16 +0000
+++ doc/en/release-notes/brz-2.3.txt      2011-03-10 10:40:47 +0000
@@ -8,23 +8,10 @@
 brz 2.3.1
 #########

-:2.3.1: NOT RELEASED YET
-
-External Compatibility Breaks
-*****************************
-
-.. These may require users to change the way they use Breezy.
-
-New Features
-************
-
-.. New commands, options, etc that users may wish to try out.
-
-Improvements
-************
-
-.. Improvements to existing commands, especially improved performance
-   or memory usage, or better results.
+:2.3.1: 2011-03-10
+
+This is a bugfix release. Upgrading is recommended for all users of earlier
+2.3 releases.

 Bug Fixes
 *********

=== modified file &#39;doc/en/whats-new/whats-new-in-2.3.txt&#39;
--- doc/en/whats-new/whats-new-in-2.3.txt 2011-02-03 16:29:18 +0000
+++ doc/en/whats-new/whats-new-in-2.3.txt 2011-03-10 11:10:36 +0000
@@ -17,8 +17,13 @@
 improvements made to the core product, it highlights enhancements within the
 broader Breezy world of potential interest to those upgrading.

-Breezy 2.3.0 is fully compatible both locally and on the network with 2.0 2.1,
-and 2.2, and can read and write repositories generated by all previous
+Breezy 2.3.1 includes all the fixes in the un-released 2.0.7, 2.1.4 and 2.2.5
+versions that weren&#39;t included in 2.3.0 and fixes some bugs on its own.
+
+See the :doc:`../release-notes/index` for details.
+
+Breezy 2.3 is fully compatible both locally and on the network with 2.0, 2.1,
+and 2.2. It can read and write repositories generated by all previous
 versions.

 Changed Behaviour
</pre></div>
</div>
</li>
<li><p>Tag the new release:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">brz</span> <span class="n">tag</span> <span class="n">brz</span><span class="o">-</span><span class="mf">3.0</span><span class="o">.</span><span class="mi">0</span>
</pre></div>
</div>
</li>
<li><p>Push those changes to a brz branch and make a merge proposal:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">brz</span> <span class="n">push</span>
</pre></div>
</div>
<p>Use a commit message formatted like:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Release</span> <span class="mf">3.0</span><span class="o">.</span><span class="mi">0</span>
</pre></div>
</div>
<p>Note that <code class="docutils literal notranslate"><span class="pre">brz</span> <span class="pre">push</span></code> should mention updating one tag (which you just
created). If it doesn’t, double-check that you created (and pushed) this
tag.</p>
</li>
<li><p>Once the merge proposal has landed, pull down the master release branch.</p></li>
</ol>
</div>
<div class="section" id="making-the-source-tarball">
<h3><a class="toc-backref" href="#id12">Making the source tarball</a><a class="headerlink" href="#making-the-source-tarball" title="Permalink to this headline">¶</a></h3>
<ol class="arabic">
<li><p>Change into the source directory and run</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">make</span> <span class="n">dist</span>
</pre></div>
</div>
</li>
<li><p>Now we’ll try expanding this tarball and running the test suite
to check for packaging problems:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">make</span> <span class="n">check</span><span class="o">-</span><span class="n">dist</span><span class="o">-</span><span class="n">tarball</span> <span class="o">|</span> <span class="n">subunit2pyunit</span>
</pre></div>
</div>
<p>You may encounter failures while running the test suite caused by your
locally installed plugins. Use your own judgment to decide if you can
release with these failures. When in doubt, disable the faulty plugins
one by one until you get no more failures. Alternatively, you can use
<code class="docutils literal notranslate"><span class="pre">BRZ_DISABLE_PLUGINS</span></code> or <code class="docutils literal notranslate"><span class="pre">BRZ_PLUGIN_PATH=-site</span></code> to disable one or
all plugins.</p>
<p>Remember that this branch has already been tested on
<a class="reference external" href="https://ci.breezy-vcs.org">https://ci.breezy-vcs.org</a>, this step is particularly testing that the
cython extensions, which are updated by your local cython version when
you run make dist, are in good shape.</p>
</li>
</ol>
</div>
<div class="section" id="publishing-the-source-tarball">
<h3><a class="toc-backref" href="#id13">Publishing the source tarball</a><a class="headerlink" href="#publishing-the-source-tarball" title="Permalink to this headline">¶</a></h3>
<ol class="arabic simple">
<li><p>Go to the relevant &lt;<a class="reference external" href="https://launchpad.net/brz/x.y">https://launchpad.net/brz/x.y</a>&gt; series page in Launchpad.</p></li>
<li><p>Create a release of the milestone, and upload the source tarball and
the GPG signature.  Or, if you prefer, use the
<code class="docutils literal notranslate"><span class="pre">tools/packaging/lp-upload-release</span></code> script to do this. Note that
this changes what the download widget on the Launchpad brz home
page shows, so don’t stop the release process yet, or platform binary
installers won’t be made and the download list will stay very small!
&lt;<a class="reference external" href="https://bugs.launchpad.net/launchpad/+bug/586445">https://bugs.launchpad.net/launchpad/+bug/586445</a>&gt;</p></li>
</ol>
</div>
<div class="section" id="kick-off-the-next-cycle">
<h3><a class="toc-backref" href="#id14">Kick off the next cycle</a><a class="headerlink" href="#kick-off-the-next-cycle" title="Permalink to this headline">¶</a></h3>
<p>From that point, there is no possible return, the tarball has been uploaded
so you can relax a bit.</p>
<p>You’re still holding a “social” lock on the launchpad branch though. Until
your start the next cycle, nobody should land anything on this branch. If
they do, they either targeted the wrong branch or didn’t update the news
file correctly, so the sooner the branch is opened again, the better.</p>
<p>This matters more for <code class="docutils literal notranslate"><span class="pre">lp:brz</span></code> than for <code class="docutils literal notranslate"><span class="pre">lp:brz/x.y</span></code>, <code class="docutils literal notranslate"><span class="pre">lp:brz</span></code> should
always be open for landing, so you should do <a class="reference internal" href="#at-the-start-of-a-release-cycle">At the start of a release
cycle</a> as soon as possible (i.e. update the version number in <code class="docutils literal notranslate"><span class="pre">brz</span></code> and
<code class="docutils literal notranslate"><span class="pre">breezy/__init__</span></code>, create/update the news files and create/update the
milestone for the next relase).</p>
<p>You may also need to do <a class="reference internal" href="#at-the-start-of-a-series-cycle">At the start of a series cycle</a> if you’re starting
a new series.</p>
</div>
<div class="section" id="the-final-beta-branching-and-translations">
<h3><a class="toc-backref" href="#id15">The final beta - branching and translations</a><a class="headerlink" href="#the-final-beta-branching-and-translations" title="Permalink to this headline">¶</a></h3>
<p>A word of caution: the instructions above works well for all releases but
there is one special case that requires a bit more care: when you release
the <em>last</em> beta for a given <code class="docutils literal notranslate"><span class="pre">x.y</span></code> series (from trunk aka lp:brz), you need
to setup <em>two</em> branches for the next cycle:</p>
<ol class="arabic simple">
<li><p><code class="docutils literal notranslate"><span class="pre">lp:brz</span></code> needs to be opened for the next <em>series</em> <code class="docutils literal notranslate"><span class="pre">x.(y+1)</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">lp:brz/x.y</span></code> needs to be opened for the next <em>release</em> <code class="docutils literal notranslate"><span class="pre">x.y.0</span></code> in the
series. Since this is first real use of <code class="docutils literal notranslate"><span class="pre">lp:brz/x.y</span></code>, this is also the
deadline for the <a class="reference external" href="https://ci.breezy-vcs.org/">https://ci.breezy-vcs.org/</a> landing job to be created.</p></li>
</ol>
<p>Both are important as <code class="docutils literal notranslate"><span class="pre">lp:brz</span></code> should remain open so any change can be
landed, <code class="docutils literal notranslate"><span class="pre">lp:brz/x.y</span></code> on the other hand should be ready to receive bug
fixes.</p>
<p><code class="docutils literal notranslate"><span class="pre">lp:brz</span></code> is generally more important as the bug fixes on <code class="docutils literal notranslate"><span class="pre">lp:brz/x.y</span></code>
won’t be released sooner than a month from now whereas people may already
been waiting to land on <code class="docutils literal notranslate"><span class="pre">lp:brz</span></code>.</p>
<p>In a nutshell:</p>
<ol class="arabic simple">
<li><p>Open <code class="docutils literal notranslate"><span class="pre">lp:brz</span></code> for <code class="docutils literal notranslate"><span class="pre">x.(y+1)</span></code></p></li>
<li><p>Create <a class="reference external" href="https://ci.breezy-vcs.org/">https://ci.breezy-vcs.org/</a> landing job and/or update the
<code class="docutils literal notranslate"><span class="pre">lp:brz/x.y</span></code> branch based on whatever revision you want to release.</p></li>
<li><p>Release <code class="docutils literal notranslate"><span class="pre">x.y.0</span></code> from <code class="docutils literal notranslate"><span class="pre">lp:brz/x.y</span></code></p></li>
<li><p>Open <code class="docutils literal notranslate"><span class="pre">lp:brz/x.y</span></code> for bug fixes</p></li>
</ol>
<p>You also need to ensure Launchpad is set up to import/export translations
for the new branch and inform translators.</p>
<ol class="arabic">
<li><p>Push the last beta release to a new branch:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">brz</span> <span class="n">push</span> <span class="n">lp</span><span class="p">:</span><span class="o">~</span><span class="n">brz</span><span class="o">-</span><span class="n">core</span><span class="o">/</span><span class="n">brz</span><span class="o">/</span><span class="n">brz</span><span class="o">-</span><span class="n">translations</span><span class="o">-</span><span class="n">export</span><span class="o">-</span><span class="n">x</span><span class="o">.</span><span class="n">y</span>
</pre></div>
</div>
</li>
<li><p>On the translations series synchronization settings page
&lt;<a class="reference external" href="https://translations.launchpad.net/brz/x.y/+translations-settings">https://translations.launchpad.net/brz/x.y/+translations-settings</a>&gt;
turn on <code class="docutils literal notranslate"><span class="pre">Import</span> <span class="pre">template</span> <span class="pre">files</span></code> then for exports click <code class="docutils literal notranslate"><span class="pre">Choose</span> <span class="pre">a</span>
<span class="pre">target</span> <span class="pre">branch</span></code> and point it at the branch you just pushed.</p></li>
<li><p>E-mail translators to announce that the forthcoming stable release of brz
is ready for translations.  Send to
<code class="docutils literal notranslate"><span class="pre">launchpad-translators&#64;lists.launchpad.net</span></code> and
<code class="docutils literal notranslate"><span class="pre">ubuntu-translators&#64;lists.ubuntu.com</span></code>.</p></li>
<li><p>The series is now frozen for strings and API, see below for adding
that to the announcement.</p></li>
</ol>
</div>
<div class="section" id="announcing-the-source-freeze">
<h3><a class="toc-backref" href="#id16">Announcing the source freeze</a><a class="headerlink" href="#announcing-the-source-freeze" title="Permalink to this headline">¶</a></h3>
<ol class="arabic">
<li><p>Post to the <code class="docutils literal notranslate"><span class="pre">bazaar&#64;lists.ubuntu.com</span></code> list and
<code class="docutils literal notranslate"><span class="pre">breezy-vcs&#64;googlegroups.com</span></code> , saying that the source has been
frozen. Be extra clear that this is only a <em>source</em> release targeted at
packagers and installer builders (see
&lt;<a class="reference external" href="https://bugs.launchpad.net/launchpad/+bug/645084">https://bugs.launchpad.net/launchpad/+bug/645084</a>&gt;).  This is the cue for
platform maintainers and plugin authors to update their code.  This is
done before the general public announcement of the release.</p>
<p>The freeze announcement generally guess the date of the official public
announcement, for the most recent stable series (the one supported by the
installers and most of the distributions) it’s generally a few days after
the freeze. For older series supported only via SRUs for Ubuntu, we don’t
control the process as tightly so guessing the date is not appropriate.</p>
<p>For the final beta release include in your announcement a notice of
API and translation freezes noting that public methods should not
be removed or changed and strings should not be added or changed.</p>
</li>
<li><p>Pause for a few days.</p></li>
</ol>
</div>
<div class="section" id="publishing-the-release">
<h3><a class="toc-backref" href="#id17">Publishing the release</a><a class="headerlink" href="#publishing-the-release" title="Permalink to this headline">¶</a></h3>
<p>There is normally a delay of a few days after the source freeze to allow
for binaries to be built for various platforms. Once they have been built,
we have a releasable product.  The next step is to make it generally
available to the world.</p>
<ol class="arabic">
<li><p>Go to the release web page at &lt;<a class="reference external" href="https://launchpad.net/brz/x.y/x.y.z">https://launchpad.net/brz/x.y/x.y.z</a>&gt;</p></li>
<li><p>Announce on the Breezy website.</p></li>
<li><p>Check that the documentation for this release is available in
&lt;<a class="reference external" href="https://www.breezy-vcs.org/doc/en/">https://www.breezy-vcs.org/doc/en/</a>&gt;.  It should be automatically build when
the branch is created, by a cron script <code class="docutils literal notranslate"><span class="pre">update-brz-docs</span></code> on
<code class="docutils literal notranslate"><span class="pre">escudero</span></code>. When the first release is created in a new series, a branch
needs to be created on <code class="docutils literal notranslate"><span class="pre">escudero</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ssh</span> <span class="n">escudero</span><span class="o">.</span><span class="n">canonical</span><span class="o">.</span><span class="n">com</span>
<span class="n">sudo</span> <span class="o">-</span><span class="n">u</span> <span class="n">brz</span><span class="o">-</span><span class="n">web</span> <span class="o">-</span><span class="n">s</span>
<span class="n">cd</span> <span class="o">/</span><span class="n">srv</span><span class="o">/</span><span class="n">doc</span><span class="o">.</span><span class="n">bazaar</span><span class="o">.</span><span class="n">canonical</span><span class="o">.</span><span class="n">com</span><span class="o">/</span>
<span class="n">brz</span> <span class="n">branch</span> <span class="n">lp</span><span class="p">:</span><span class="n">brz</span><span class="o">/</span><span class="mf">2.7</span> <span class="n">brz</span><span class="o">/</span><span class="n">brz</span><span class="o">.</span><span class="mf">2.7</span>
</pre></div>
</div>
<p>And the <code class="docutils literal notranslate"><span class="pre">brz/bin/update-brz-docs</span></code> script needs to refer to it.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">lp:brz-alldocs</span></code> branch also needs to be updated when a new series
is introduced, see the <code class="docutils literal notranslate"><span class="pre">README</span></code> file there for more instructions
(looking at the branch history is also a good way to understand what
needs to be done and to document any policy changes).</p>
</li>
</ol>
</div>
<div class="section" id="announcing-the-release">
<h3><a class="toc-backref" href="#id18">Announcing the release</a><a class="headerlink" href="#announcing-the-release" title="Permalink to this headline">¶</a></h3>
<p>Now that the release is publicly available, tell people about it.</p>
<ol class="arabic">
<li><p>Make an announcement mail.</p>
<p>For beta releases, this is sent to the <code class="docutils literal notranslate"><span class="pre">bazaar&#64;lists.ubuntu.com</span></code> and
<code class="docutils literal notranslate"><span class="pre">bazaar-announce&#64;lists.ubuntu.com</span></code> lists.</p>
<p>For stable releases (excluding SRUs which are for older stable releases),
it should also be cc’d to <code class="docutils literal notranslate"><span class="pre">info-gnu&#64;gnu.org</span></code>,
<code class="docutils literal notranslate"><span class="pre">python-announce-list&#64;python.org</span></code>, <code class="docutils literal notranslate"><span class="pre">bug-directory&#64;gnu.org</span></code>.</p>
<p>In all cases, it is good to set <code class="docutils literal notranslate"><span class="pre">Reply-To:</span> <span class="pre">bazaar&#64;lists.ubuntu.com</span></code>,
so that people who reply to the announcement don’t spam other lists.</p>
<p>The announce mail will look something like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>Subject: brz x.y.z released!

The Breezy team is happy to announce availability of a new
release of the brz adaptive version control system.

Breezy is a fork of the Bazaar version control system.

&lt;&lt;Summary paragraph from news&gt;&gt;

Thanks to everyone who contributed patches, suggestions, and
feedback.

Breezy is now available for download from
https://launchpad.net/brz/x.y/x.y.z/ as a source tarball; packages
for various systems will be available soon.

&lt;&lt;release notes from this release back to the last major release&gt;&gt;
</pre></div>
</div>
<p>Feel free to tweak this to your taste.</p>
</li>
<li><p>Make an announcement through &lt;<a class="reference external" href="https://launchpad.net/brz/+announce">https://launchpad.net/brz/+announce</a>&gt;
mentioning the milestone URL &lt;<a class="reference external" href="https://launchpad.net/brz/+milestone/x.y.z">https://launchpad.net/brz/+milestone/x.y.z</a>&gt;
so people get an easy access to details.</p></li>
<li><p>Update <a class="reference external" href="http://en.wikipedia.org/wiki/Breezy_(software)">http://en.wikipedia.org/wiki/Breezy_(software)</a> – this should
be done for the stable and beta releases.</p></li>
<li><p>Update the python package index: &lt;<a class="reference external" href="http://pypi.python.org/pypi/breezy">http://pypi.python.org/pypi/breezy</a>&gt;</p>
<p>From the tarball created and tested earlier</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">twine</span> <span class="n">upload</span> <span class="o">../</span><span class="n">breezy</span><span class="o">-</span><span class="mf">3.0</span><span class="o">.</span><span class="mf">0.</span><span class="n">tar</span><span class="o">.</span><span class="n">gz</span> <span class="o">../</span><span class="n">breezy</span><span class="o">-</span><span class="mf">3.0</span><span class="o">.</span><span class="mf">0.</span><span class="n">tar</span><span class="o">.</span><span class="n">gz</span><span class="o">.</span><span class="n">asc</span>
</pre></div>
</div>
<p>Remember to check the results afterward – this should be done for
stable releases but not for beta releases nor SRUs.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">twine</span></code> command is provided by the <code class="docutils literal notranslate"><span class="pre">twine</span></code> package on Debian and
Ubuntu. Beware that you need at least <code class="docutils literal notranslate"><span class="pre">twine-1.10</span></code>.</p>
<p>If in doubt, you can test with &lt;<a class="reference external" href="https://testpypi.python.org/pypi">https://testpypi.python.org/pypi</a>&gt; where
you can register yourself, register the brz project and upload (and then
remove the upload and delete the project so a new release manager can
enjoy the same facilities). If the project already exists, have one of
the existing owners of the project add you to the group.</p>
<p>To use the pypi test site, you need to record your credentials for an
existing user (the registration process is manual and starts at
&lt;<a class="reference external" href="https://testpypi.python.org/pypi?%3Aaction=register_form">https://testpypi.python.org/pypi?%3Aaction=register_form</a>&gt;.</p>
<p>Once registered, you can record your crdentials in your <code class="docutils literal notranslate"><span class="pre">~/pypirc</span></code> file
with</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">testpypi</span><span class="p">]</span>
<span class="n">username</span><span class="p">:</span><span class="o">&lt;</span><span class="n">login</span> <span class="n">on</span> <span class="n">testpypi</span><span class="o">&gt;</span>
<span class="n">password</span><span class="p">:</span><span class="o">&lt;</span><span class="n">password</span> <span class="n">on</span> <span class="n">testpypi</span><span class="o">&gt;</span>
<span class="n">repository</span> <span class="o">=</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">testpypi</span><span class="o">.</span><span class="n">python</span><span class="o">.</span><span class="n">org</span><span class="o">/</span><span class="n">pypi</span>
</pre></div>
</div>
<p>Registering the breezy project if doesn’t exist is achieved with:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">python</span> <span class="n">setup</span><span class="o">.</span><span class="n">py</span> <span class="o">-</span><span class="n">r</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">testpypi</span><span class="o">.</span><span class="n">python</span><span class="o">.</span><span class="n">org</span><span class="o">/</span><span class="n">pypi</span> <span class="n">register</span>
</pre></div>
</div>
</li>
</ol>
<blockquote>
<div><p>Uploading is done with:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span> twine upload -r testpypi ../breezy-3.0.0.tar.gz ../breezy-3.0.0.tar.gz.asc

To be able to upload the release you must create an account on
&lt;http://pypi.python.org/pypi&gt; and have one of the existing owners of the
project add you to the group and update your ``[pypi]`` section in your
``~/.pypirc`` file.
</pre></div>
</div>
</div></blockquote>
</div>
<div class="section" id="merging-the-released-code-back-to-trunk">
<h3><a class="toc-backref" href="#id19">Merging the released code back to trunk</a><a class="headerlink" href="#merging-the-released-code-back-to-trunk" title="Permalink to this headline">¶</a></h3>
<p>Merge the release branch back into the trunk.  The <code class="docutils literal notranslate"><span class="pre">doc/en/release-notes</span></code>
changes should be merged into the right place because each release series
has its own release-notes file, but double-check.</p>
<p>If it’s not already done, advance the version number in <code class="docutils literal notranslate"><span class="pre">brz</span></code> and
<code class="docutils literal notranslate"><span class="pre">breezy/__init__.py</span></code>. File a merge proposal against <code class="docutils literal notranslate"><span class="pre">lp:brz</span></code>.</p>
<p>As soon as you change the version number in trunk, make sure you have
created the corresponding milestone to ensure the continuity in bug
targeting or nominating. Depending on the change, you may even have to
create a new series (if your change the major or minor release number), in
that case go to <a class="reference internal" href="#at-the-start-of-a-series-cycle">At the start of a series cycle</a> and follow the
instructions from there.</p>
</div>
<div class="section" id="releases-until-the-final-one">
<h3><a class="toc-backref" href="#id20">Releases until the final one</a><a class="headerlink" href="#releases-until-the-final-one" title="Permalink to this headline">¶</a></h3>
<p>Congratulations - you have made your first release.  Have a beer or fruit
juice - it’s on the house! If it was a beta, you’re not finished
yet. Another beta or hopefully a stable release is still to come.</p>
<p>The process is the same as for the first release. Goto <a class="reference internal" href="#doing-a-particular-release">Doing a particular
release</a> and follow the instructions again. Some details change between
beta and stable releases, but they should be documented. If the instructions
aren’t clear enough, please fix them.</p>
</div>
<div class="section" id="getting-the-release-into-ubuntu">
<h3><a class="toc-backref" href="#id21">Getting the release into Ubuntu</a><a class="headerlink" href="#getting-the-release-into-ubuntu" title="Permalink to this headline">¶</a></h3>
<p>/!Nothing in this section has been validated for breezy yet.</p>
<p>(Feel free to propose or add new sections here about what we should do to
get brz into other places.)</p>
<p>For the currently-under-development release of Ubuntu, no special action
is needed: the release should be picked by Debian and synced from there into
Ubuntu.</p>
<p>Releases off stable brz branches should go in to the <code class="docutils literal notranslate"><span class="pre">-updates</span></code> of the
Ubuntu release that originally contained that branch.  (Ubuntu Lucid had
brz 2.2.0, so should get every 2.2.x update.)  This means going through
the <a class="reference external" href="https://wiki.ubuntu.com/StableReleaseUpdates">SRU (Stable Release Updates)</a> process.</p>
<p>Since September 2010, brz has received approval by the technical
board for the <a class="reference external" href="https://wiki.ubuntu.com/StableReleaseUpdates/MicroReleaseExceptions">MicroReleaseExceptions</a>
category so that whole bugfix releases can more easily be
approved.</p>
<p>Progress on these realeases is tracked on the <a class="reference external" href="http://wiki.bazaar.canonical.com/UbuntuStableReleaseUpdates">SRU wiki</a>
page.</p>
<p><strong>After making a brz stable-release release, nominate the most serious bug
for the appropriate Ubuntu release and subscribe the `ubuntu-sru` team.</strong></p>
<p>This requires a couple of tricks (please reconsider and tweak as things
evolves from one release to the other):</p>
<blockquote>
<div><ul class="simple">
<li><p>create a distro task with the <code class="docutils literal notranslate"><span class="pre">Also</span> <span class="pre">affects</span> <span class="pre">distribution</span></code> button and
select <code class="docutils literal notranslate"><span class="pre">brz</span> <span class="pre">(Ubuntu)</span></code>.</p></li>
<li><p>change the <em>URL</em> to point to <code class="docutils literal notranslate"><span class="pre">ubuntu/+source/brz</span></code> instead of <code class="docutils literal notranslate"><span class="pre">brz</span></code>
(this is needed if you create the distro task but not if it exists
already). You should now be able to click the <code class="docutils literal notranslate"><span class="pre">Nominate</span> <span class="pre">for</span> <span class="pre">release</span></code>
button and select the right Ubuntu release. As of September 2010, this
means:</p></li>
</ul>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">quantal</span></code> for the 2.6 series,</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">precise</span></code> for the 2.5 series,</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">oneiric</span></code> for the 2.4 series,</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">natty</span></code> for the 2.3 series,</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">maverick</span></code> for the 2.2 series,</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">lucid</span></code> for the 2.1 series,</p></li>
</ul>
</div></blockquote>
<ul class="simple">
<li><p>Subscribe the <code class="docutils literal notranslate"><span class="pre">~ubuntu-sru</span></code> team to the bug.</p></li>
<li><p>Add a comment targeted to <code class="docutils literal notranslate"><span class="pre">~ubuntu-sru</span></code> explaining the expectations
(we are targeting running the test suite during the build which, as of
September 2010, fails for known reasons that are currently addressed).
Search for bugs tagged with <code class="docutils literal notranslate"><span class="pre">sru</span></code> for examples and don’t forget to tag
the bug you selected.</p></li>
</ul>
</div></blockquote>
</div>
<div class="section" id="see-also">
<h3><a class="toc-backref" href="#id22">See also</a><a class="headerlink" href="#see-also" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p><a class="reference external" href="ppa.html">Packaging into the brz PPA</a> to make and publish Ubuntu
packages.</p></li>
<li><p><a class="reference external" href="index.html">Breezy Developer Document Catalog</a></p></li>
<li><p><a class="reference external" href="cycle.html">Development cycles</a>: things that happen during the cycle
before the actual release.</p></li>
</ul>
</div>
</div>
</div>


          </div>
        </div>
      </div>
        </div>
        <div class="sidebar">
          <h3>Table of Contents</h3>
          <ul>
<li class="toctree-l1"><a class="reference internal" href="contribution-quickstart.html">Contributing to Breezy</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="profiling.html">Profiling</a></li>
<li class="toctree-l1"><a class="reference internal" href="bug-handling.html">Tracking Bugs in Breezy</a></li>
<li class="toctree-l1"><a class="reference internal" href="HACKING.html">Breezy Developer Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="testing.html">Breezy Testing Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="code-review.html">Reviewing proposed changes to Breezy</a></li>
<li class="toctree-l1"><a class="reference internal" href="code-style.html">Breezy Code Style Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="documenting-changes.html">Documenting Changes</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="configuration.html">Configuring Breezy</a></li>
<li class="toctree-l1"><a class="reference internal" href="configuration.html#breezy-conf">breezy.conf</a></li>
<li class="toctree-l1"><a class="reference internal" href="configuration.html#location-conf">location.conf</a></li>
<li class="toctree-l1"><a class="reference internal" href="configuration.html#branch-conf">branch.conf</a></li>
<li class="toctree-l1"><a class="reference internal" href="fetch.html">Fetching data</a></li>
<li class="toctree-l1"><a class="reference internal" href="transports.html">Developer guide to breezy transports</a></li>
<li class="toctree-l1"><a class="reference internal" href="ui.html">Interacting with the user</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Releasing Breezy</a></li>
<li class="toctree-l1"><a class="reference internal" href="ppa.html">Managing the Breezy PPA</a></li>
<li class="toctree-l1"><a class="reference internal" href="ec2.html">Breezy Windows EC2 Server</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="overview.html">Breezy Architectural Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="integration.html">Integrating with Breezy</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="principles.html">Breezy Design Principles</a></li>
<li class="toctree-l1"><a class="reference internal" href="specifications.html">Specifications</a></li>
<li class="toctree-l1"><a class="reference internal" href="implementation-notes.html">Implementation notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="miscellaneous-notes.html">Miscellaneous notes</a></li>
</ul>

          <div role="search">
            <h3 style="margin-top: 1.5em;">Search</h3>
            <form class="search" action="search.html" method="get">
                <input type="text" name="q" />
                <input type="submit" value="Go" />
            </form>
          </div>
        </div>
        <div class="clearer"></div>
      </div>
    </div>

    <div class="footer-wrapper">
      <div class="footer">
        <div class="left">
          <div role="navigation" aria-label="related navigaton">
            <a href="ui.html" title="Interacting with the user"
              >previous</a> |
            <a href="ppa.html" title="Managing the Breezy PPA"
              >next</a>
          </div>
          <div role="note" aria-label="source link">
              <br/>
              <a href="_sources/releasing.txt"
                rel="nofollow">Show Source</a>
          </div>
        </div>

        <div class="right">
          
    <div class="footer" role="contentinfo">
        &#169; Copyright 2009-2011 Canonical Ltd, 2017-2018 Breezy Developers.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 2.2.1.
    </div>
        </div>
        <div class="clearer"></div>
      </div>
    </div>

  </body>
</html>