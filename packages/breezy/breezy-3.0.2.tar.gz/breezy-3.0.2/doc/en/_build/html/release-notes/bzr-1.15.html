
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>Bazaar Release Notes &#8212; Breezy 3.0.2dev documentation</title>
    <link rel="stylesheet" href="../_static/agogo.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/language_data.js"></script>
    <link rel="search" title="Search" href="../search.html" /> 
  </head><body>
    <div class="header-wrapper" role="banner">
      <div class="header">
        <div class="headertitle"><a
          href="../index.html">Table of Contents (3.0.2dev)</a></div>
        <div class="rel" role="navigation" aria-label="related navigation">
        </div>
       </div>
    </div>

    <div class="content-wrapper">
      <div class="content">
        <div class="document">
            
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="bazaar-release-notes">
<h1>Bazaar Release Notes<a class="headerlink" href="#bazaar-release-notes" title="Permalink to this headline">¶</a></h1>
<div class="toctree-wrapper compound">
</div>
<div class="section" id="bzr-1-15">
<h2>bzr 1.15<a class="headerlink" href="#bzr-1-15" title="Permalink to this headline">¶</a></h2>
<dl class="field-list simple">
<dt class="field-odd">1.15rc1</dt>
<dd class="field-odd"><p>2009-05-16</p>
</dd>
<dt class="field-even">1.15</dt>
<dd class="field-even"><p>2009-05-22</p>
</dd>
<dt class="field-odd">1.15.1</dt>
<dd class="field-odd"><p>2009-06-09</p>
</dd>
</dl>
<p>The smart server will no longer raise ‘NoSuchRevision’ when streaming content
with a size mismatch in a reconstructed graph search. New command <code class="docutils literal notranslate"><span class="pre">bzr</span>
<span class="pre">dpush</span></code>. Plugins can now define their own annotation tie-breaker when two
revisions introduce the exact same line.</p>
<div class="section" id="changes-from-1-15-1-to-1-15-2">
<h3>Changes from 1.15.1 to 1.15.2<a class="headerlink" href="#changes-from-1-15-1-to-1-15-2" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Use zdll on Windows to build <code class="docutils literal notranslate"><span class="pre">_chk_map_pyx</span></code> extension.
(Alexander Belchenko)</p></li>
</ul>
</div>
<div class="section" id="changes-from-1-15final-to-1-15-1">
<h3>Changes from 1.15final to 1.15.1<a class="headerlink" href="#changes-from-1-15final-to-1-15-1" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Translate errors received from a smart server in response to a
<code class="docutils literal notranslate"><span class="pre">BzrDirFormat.initialize</span></code> or <code class="docutils literal notranslate"><span class="pre">BzrDirFormat.initialize_ex</span></code> request.
This was causing tracebacks even for mundane errors like
<code class="docutils literal notranslate"><span class="pre">PermissionDenied</span></code>.  (Andrew Bennetts, #381329)</p></li>
</ul>
</div>
<div class="section" id="changes-from-1-15rc1-to-1-15final">
<h3>Changes from 1.15rc1 to 1.15final<a class="headerlink" href="#changes-from-1-15rc1-to-1-15final" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>No changes</p></li>
</ul>
</div>
<div class="section" id="compatibility-breaks">
<h3>Compatibility Breaks<a class="headerlink" href="#compatibility-breaks" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">bzr</span> <span class="pre">ls</span></code> is no longer recursive by default. To recurse, use the
new <code class="docutils literal notranslate"><span class="pre">-R</span></code> option. The old <code class="docutils literal notranslate"><span class="pre">--non-recursive</span></code> option has been removed.
If you alias <code class="docutils literal notranslate"><span class="pre">ls</span></code> to <code class="docutils literal notranslate"><span class="pre">ls</span> <span class="pre">-R</span></code>, you can disable recursion using
<code class="docutils literal notranslate"><span class="pre">--no-recursive</span></code> instead.  (Ian Clatworthy)</p></li>
</ul>
</div>
<div class="section" id="new-features">
<h3>New Features<a class="headerlink" href="#new-features" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>New command <code class="docutils literal notranslate"><span class="pre">bzr</span> <span class="pre">dpush</span></code> that can push changes to foreign
branches (svn, git) without setting custom bzr-specific metadata.
(Jelmer Vernooij)</p></li>
<li><p>The new development format <code class="docutils literal notranslate"><span class="pre">--development6-rich-root</span></code> now supports
stacking. We chose not to use a new format marker, since old clients
will just fail to open stacked branches, the same as if we used a new
format flag. (John Arbash Meinel, #373455)</p></li>
<li><p>Plugins can now define their own annotation tie-breaker when two revisions
introduce the exact same line. See <code class="docutils literal notranslate"><span class="pre">bzrlib.annotate._break_annotation_tie</span></code>
Be aware though that this is temporary, private (as indicated by the leading
‘_’) and a first step to address the problem. (Vincent Ladeuil, #348459)</p></li>
<li><p>New command <code class="docutils literal notranslate"><span class="pre">bzr</span> <span class="pre">dpush</span></code> that can push changes to foreign
branches (svn, git) without setting custom bzr-specific metadata.
(Jelmer Vernooij)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">bzr</span> <span class="pre">send</span></code> will now check the <code class="docutils literal notranslate"><span class="pre">child_submit_format</span></code> setting in
the submit branch to determine what format to use, if none was
specified on the command-line.  (Jelmer Vernooij)</p></li>
</ul>
</div>
<div class="section" id="improvements">
<h3>Improvements<a class="headerlink" href="#improvements" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>-Dhpss output now includes the number of VFS calls made to the remote
server. (Jonathan Lange)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">--coverage</span></code> works for code running in threads too.
(Andrew Bennets, Vincent Ladeuil)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">bzr</span> <span class="pre">pull</span></code> now has a <code class="docutils literal notranslate"><span class="pre">--local</span></code> option to only make changes to the
local branch, and not the bound master branch.
(Gary van der Merwe, #194716)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">bzr</span> <span class="pre">rm</span> <span class="pre">*</span></code> is now as fast as <code class="docutils literal notranslate"><span class="pre">bzr</span> <span class="pre">rm</span> <span class="pre">*</span> <span class="pre">--keep</span></code>. (Johan Walles, #180116)</p></li>
</ul>
</div>
<div class="section" id="bug-fixes">
<h3>Bug Fixes<a class="headerlink" href="#bug-fixes" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Adding now works properly when path contains a symbolic link.
(Geoff Bache, #183831)</p></li>
<li><p>An error is now raised for unknown eol values. (Brian de Alwis, #358199)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">bzr</span> <span class="pre">merge</span> <span class="pre">--weave</span></code> will now generate a conflict if one side deletes a
line, and the other side modifies the line. (John Arbash Meinel, #328171)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">bzr</span> <span class="pre">reconfigure</span> <span class="pre">--standalone</span></code> no longer raises IncompatibleRepositories.
(Martin von Gagern, #248932)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">bzr</span> <span class="pre">send</span></code> works to send emails again using MAPI.
(Neil Martinsen-Burrell, #346998)</p></li>
<li><p>Check for missing parent inventories in StreamSink.  This prevents
incomplete stacked branches being created by 1.13 bzr:// and
bzr+ssh:// clients (which have bug #354036).  Instead, the server now
causes those clients to send the missing records.  (Andrew Bennetts)</p></li>
<li><p>Correctly handle HTTP servers proposing multiple authentication schemes.
(Vincent Ladeuil, #366107)</p></li>
<li><p>End-Of-Line content filters are now loaded correctly.
(Ian Clatworthy, Brian de Alwis, #355280)</p></li>
<li><p>Fix a bug in the pure-python <code class="docutils literal notranslate"><span class="pre">GroupCompress</span></code> code when handling copies
longer than 64KiB. (John Arbash Meinel, #364900)</p></li>
<li><p>Fix TypeError in running <code class="docutils literal notranslate"><span class="pre">bzr</span> <span class="pre">break-lock</span></code> on some URLs.
(Alexander Belchenko, Martin Pool, #365891)</p></li>
<li><p>Non-recursive <code class="docutils literal notranslate"><span class="pre">bzr</span> <span class="pre">ls</span></code> now works properly when a path is specified.
(Jelmer Vernooij, #357863)</p></li>
<li><p>SSH usernames (defined in ~/.ssh/config) are honoured for bzr+ssh connections.
(Vincent Ladeuil, #367726)</p></li>
<li><p>Several bugs related to unicode symlinks have been fixed and the test suite
enhanced to better catch regressions for them. (Vincent Ladeuil)</p></li>
<li><p>The smart server will no longer raise ‘NoSuchRevision’ when streaming
content with a size mismatch in a reconstructed graph search: it assumes
that the client will make sure it is happy with what it got, and this
sort of mismatch is normal for stacked environments.
bzr 1.13.0/1 will stream from unstacked branches only - in that case not
getting all the content expected would be a bug. However the graph
search is how we figured out what we wanted, so a mismatch is both odd
and unrecoverable without starting over, and starting over will end up
with the same data as if we just permitted the mismatch. If data is
gc’d, doing a new search will find only the truncated data, so sending
only the truncated data seems reasonable. bzr versions newer than this
will stream from stacked branches and check the stream to find missing
content in the stacked-on branch, and thus will handle the situation
implicitly.  (Robert Collins, #360791)</p></li>
<li><p>Upgrading to, or fetching into a ‘rich-root’ format will now correctly
set the root data the same way that reconcile does.
(Robert Collins, #368921)</p></li>
<li><p>Using unicode Windows API to obtain command-line arguments.
(Alexander Belchenko, #375934)</p></li>
</ul>
</div>
<div class="section" id="documentation">
<h3>Documentation<a class="headerlink" href="#documentation" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="api-changes">
<h3>API Changes<a class="headerlink" href="#api-changes" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">InterPackRepo.fetch</span></code> and <code class="docutils literal notranslate"><span class="pre">RepoFetcher</span></code> now raise <code class="docutils literal notranslate"><span class="pre">NoSuchRevision</span></code>
instead of <code class="docutils literal notranslate"><span class="pre">InstallFailed</span></code> when they detect a missing revision.
<code class="docutils literal notranslate"><span class="pre">InstallFailed</span></code> itself has been deleted. (Jonathan Lange)</p></li>
<li><p>Not passing arguments to <code class="docutils literal notranslate"><span class="pre">bzrlib.commands.main()</span></code> will now grab the
arguments from <code class="docutils literal notranslate"><span class="pre">osutils.get_unicode_argv()</span></code> which has proper support
for unicode arguments on windows. Further, the supplied arguments are now
required to be unicode strings, rather than user_encoded strings.
(Alexander Belchenko)</p></li>
</ul>
</div>
<div class="section" id="internals">
<h3>Internals<a class="headerlink" href="#internals" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">bzrlib.branch.Branch.set_parent</span></code> is now present on the base branch
class and will call <code class="docutils literal notranslate"><span class="pre">_set_parent_location</span></code> after doing unicode
encoding. (Robert Collins)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">bzrlib.remote.RemoteBranch._set_parent_location</span></code> will use a new verb
<code class="docutils literal notranslate"><span class="pre">Branch.set_parent_location</span></code> removing further VFS operations.
(Robert Collins)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">bzrlib.bzrdir.BzrDir._get_config</span></code> now returns a <code class="docutils literal notranslate"><span class="pre">TransportConfig</span></code>
or similar when the dir supports configuration settings. The base class
defaults to None. There is a matching new server verb
<code class="docutils literal notranslate"><span class="pre">BzrDir.get-config_file</span></code> to reduce roundtrips for getting BzrDir
configuration. (Robert Collins)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">bzrlib.tests.ExtendedTestResult</span></code> has new methods <code class="docutils literal notranslate"><span class="pre">startTests</span></code>
called before the first test is started, <code class="docutils literal notranslate"><span class="pre">done</span></code> called after the last
test completes, and a new parameter <code class="docutils literal notranslate"><span class="pre">strict</span></code>. (Robert Collins)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">-Dhpss</span></code> when passed to bzr will cause a backtrace to be printed when
VFS operations are started on a smart server repository. This should not
occur on regular push and pull operations, and is a key indicator for
performance regressions. (Robert Collins)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">-Dlock</span></code> when passed to the selftest (e.g. <code class="docutils literal notranslate"><span class="pre">bzr</span> <span class="pre">-Dlock</span> <span class="pre">selftest</span></code>) will
cause mismatched physical locks to cause test errors rather than just
reporting to the screen. (Robert Collins)</p></li>
<li><p>-Dprogress will cause pdb to start up if a progress view jumps
backwards. (Robert Collins)</p></li>
<li><p>Fallback <code class="docutils literal notranslate"><span class="pre">CredentialStore</span></code> instances registered with <code class="docutils literal notranslate"><span class="pre">fallback=True</span></code>
are now be able to provide credentials if obtaining credentials
via ~/.bazaar/authentication.conf fails. (Jelmer Vernooij,
Vincent Ladeuil, #321918)</p></li>
<li><p>New hook <code class="docutils literal notranslate"><span class="pre">Lock.lock_broken</span></code> which runs when a lock is
broken. This is mainly for testing that lock/unlock are
balanced in tests. (Vincent Ladeuil)</p></li>
<li><p>New MergeDirective hook ‘merge_request_body’ allows hooks to supply or
alter a body for the message produced by <code class="docutils literal notranslate"><span class="pre">bzr</span> <span class="pre">send</span></code>.</p></li>
<li><p>New smart server verb <code class="docutils literal notranslate"><span class="pre">BzrDir.initialize_ex</span></code> which implements a
refactoring to the core of clone allowing less round trips on new
branches. (Robert Collins)</p></li>
<li><p>New method <code class="docutils literal notranslate"><span class="pre">Tags.rename_revisions</span></code> that can rename revision ids tags
are pointing at. (Jelmer Vernooij)</p></li>
<li><p>Updated the bundled <code class="docutils literal notranslate"><span class="pre">ConfigObj</span></code> library to 4.6.0 (Matt Nordhoff)</p></li>
</ul>
</div>
<div class="section" id="testing">
<h3>Testing<a class="headerlink" href="#testing" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">bzr</span> <span class="pre">selftest</span></code> will now fail if lock/unlock are not correctly balanced in
tests. Using <code class="docutils literal notranslate"><span class="pre">-Dlock</span></code> will turn the related failures into warnings.
(Vincent Ladeuil, Robert Collins)</p></li>
</ul>
</div>
</div>
</div>


          </div>
        </div>
      </div>
        </div>
        <div class="sidebar">
          <h3>Table of Contents</h3>
          <ul>
<li class="toctree-l1"><a class="reference internal" href="../whats-new/whats-new-in-3.0.html">What’s New in Breezy 3.0?</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user-guide/index.html">Breezy User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/index.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../quick-reference/index.html">Quick Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html">Breezy Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../upgrade-guide/index.html">Breezy Upgrade Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user-reference/index.html">Breezy User Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../admin-guide/index.html">Breezy System Administrator’s Guide</a></li>
</ul>

          <div role="search">
            <h3 style="margin-top: 1.5em;">Search</h3>
            <form class="search" action="../search.html" method="get">
                <input type="text" name="q" />
                <input type="submit" value="Go" />
            </form>
          </div>
        </div>
        <div class="clearer"></div>
      </div>
    </div>

    <div class="footer-wrapper">
      <div class="footer">
        <div class="left">
          <div role="navigation" aria-label="related navigaton">
          </div>
          <div role="note" aria-label="source link">
              <br/>
              <a href="../_sources/release-notes/bzr-1.15.txt"
                rel="nofollow">Show Source</a>
          </div>
        </div>

        <div class="right">
          
    <div class="footer" role="contentinfo">
        &#169; Copyright 2009-2011 Canonical Ltd, 2017-2018 Breezy Developers.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 2.2.1.
    </div>
        </div>
        <div class="clearer"></div>
      </div>
    </div>

  </body>
</html>