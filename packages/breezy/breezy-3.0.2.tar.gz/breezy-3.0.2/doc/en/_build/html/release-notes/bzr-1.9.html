
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>Bazaar Release Notes &#8212; Breezy 3.0.2dev documentation</title>
    <link rel="stylesheet" href="../_static/agogo.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/language_data.js"></script>
    <link rel="search" title="Search" href="../search.html" /> 
  </head><body>
    <div class="header-wrapper" role="banner">
      <div class="header">
        <div class="headertitle"><a
          href="../index.html">Table of Contents (3.0.2dev)</a></div>
        <div class="rel" role="navigation" aria-label="related navigation">
        </div>
       </div>
    </div>

    <div class="content-wrapper">
      <div class="content">
        <div class="document">
            
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="bazaar-release-notes">
<h1>Bazaar Release Notes<a class="headerlink" href="#bazaar-release-notes" title="Permalink to this headline">¶</a></h1>
<div class="toctree-wrapper compound">
</div>
<div class="section" id="bzr-1-9">
<h2>bzr 1.9<a class="headerlink" href="#bzr-1-9" title="Permalink to this headline">¶</a></h2>
<dl class="field-list simple">
<dt class="field-odd">Released</dt>
<dd class="field-odd"><p>2008-11-07</p>
</dd>
</dl>
<p>This release of Bazaar adds a new repository format, <code class="docutils literal notranslate"><span class="pre">1.9</span></code>, with smaller
and more efficient index files.  This format can be specified when
creating a new repository, or used to losslessly upgrade an existing
repository.  bzr 1.9 also speeds most operations over the smart server
protocol, makes annotate faster, and uses less memory when making
checkouts or pulling large amounts of data.</p>
<div class="section" id="bug-fixes">
<h3>Bug Fixes<a class="headerlink" href="#bug-fixes" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Fix “invalid property value ‘branch-nick’ for None” regression with
branches bound to svn branches.  (Martin Pool, #293440)</p></li>
<li><p>Fix SSL/https on Python2.6.  (Vincent Ladeuil, #293054)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">SFTPTransport.readv()</span></code> had a bug when requests were out-of-order.
This only triggers some-of-the-time on Knit format repositories.
(John Arbash Meinel, #293746)</p></li>
</ul>
</div>
</div>
<div class="section" id="bzr-1-9rc1">
<h2>bzr 1.9rc1<a class="headerlink" href="#bzr-1-9rc1" title="Permalink to this headline">¶</a></h2>
<dl class="field-list simple">
<dt class="field-odd">Released</dt>
<dd class="field-odd"><p>2008-10-31</p>
</dd>
</dl>
<div class="section" id="new-features">
<h3>New Features<a class="headerlink" href="#new-features" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>New Branch hook <code class="docutils literal notranslate"><span class="pre">transform_fallback_location</span></code> allows a function to
be called when looking up the stacked source. (Michael Hudson)</p></li>
<li><p>New repository formats <code class="docutils literal notranslate"><span class="pre">1.9</span></code> and <code class="docutils literal notranslate"><span class="pre">1.9-rich-root</span></code>. These have all
the functionality of <code class="docutils literal notranslate"><span class="pre">1.6</span></code>, but use the new btree indexes.
These indexes are both smaller and faster for access to historical
information.  (John Arbash Meinel)</p></li>
</ul>
</div>
<div class="section" id="improvements">
<h3>Improvements<a class="headerlink" href="#improvements" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">BTreeIndex</span></code> code now is able to prefetch extra pages to help tune
the tradeoff between bandwidth and latency. Should be tuned
appropriately to not impact commands which need minimal information,
but provide a significant boost to ones that need more context. Only
has a direct impact on the <code class="docutils literal notranslate"><span class="pre">--development2</span></code> format which uses
btree’s for the indexes. (John Arbash Meinel)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">bzr</span> <span class="pre">dump-btree</span></code> is a hidden command introduced to allow dumping
the contents of a compressed btree file.  (John Arbash Meinel)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">bzr</span> <span class="pre">pack</span></code> now tells the index builders to optimize for size. For
btree index repositories, this can save 25% of the index size
(mostly in the text indexes). (John Arbash Meinel)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">bzr</span> <span class="pre">push</span></code> to an existing branch or repository on a smart server
is faster, due to Bazaar making more use of the <code class="docutils literal notranslate"><span class="pre">get_parent_map</span></code>
RPC when querying the remote branch’s revision graph.
(Andrew Bennetts)</p></li>
<li><p>default username for bzr+ssh:// and sftp:// can be configured in
authentication.conf. (Aaron Bentley)</p></li>
<li><p>launchpad-login now provides a default username for bzr+ssh and SFTP
URLs, allowing username-free URLs to work for everyone. (Aaron Bentley)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">lp:</span></code> lookups no longer include usernames, making them shareable and
shorter. (Aaron Bentley)</p></li>
<li><p>New <code class="docutils literal notranslate"><span class="pre">PackRepository.autopack</span></code> smart server RPC, which does
autopacking entirely on the server.  This is much faster than
autopacking via plain file methods, which downloads a large amount
of pack data and then re-uploads the same pack data into a single
file.  This fixes a major (although infrequent) cause of lengthy
delays when using a smart server.  For example, pushing the 10th
revision to a repository with 9 packs now takes 44 RPCs rather than
179, and much less bandwidth too.  This requires Bazaar 1.9 on both
the client and the server, otherwise the client will fallback to the
slower method.  (Andrew Bennetts)</p></li>
</ul>
</div>
<div class="section" id="id1">
<h3>Bug Fixes<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>A failure to load a plugin due to an IncompatibleAPI exception is
now correctly reported. (Robert Collins, #279451)</p></li>
<li><p>API versioning support now has a multiple-version checking api
<code class="docutils literal notranslate"><span class="pre">require_any_api</span></code>. (Robert Collins, #279447)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">bzr</span> <span class="pre">branch</span> <span class="pre">--stacked</span></code> from a smart server to a standalone branch
works again.  This fixes a regression in 1.7 and 1.8.
(Andrew Bennetts, #270397)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">bzr</span> <span class="pre">co</span></code> uses less memory. It used to unpack the entire WT into
memory before writing it to disk. This was a little bit faster, but
consumed lots of memory. (John Arbash Meinel, #269456)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">bzr</span> <span class="pre">missing</span> <span class="pre">--quiet</span></code> no longer prints messages about whether
there are missing revisions.  The exit code indicates whether there
were or not.  (Martin Pool, #284748)</p></li>
<li><p>Fixes to the <code class="docutils literal notranslate"><span class="pre">annotate</span></code> code. The fast-path which re-used the
stored deltas was accidentally disabled all the time, instead of
only when a branch was stacked. Second, the code would accidentally
re-use a delta even if it wasn’t against the left-parent, this
could only happen if <code class="docutils literal notranslate"><span class="pre">bzr</span> <span class="pre">reconcile</span></code> decided that the parent
ordering was incorrect in the file graph.  (John Arbash Meinel)</p></li>
<li><p>“Permission denied” errors that occur when pushing a new branch to a
smart server no longer cause tracebacks.  (Andrew Bennetts, #278673)</p></li>
<li><p>Some compatibility fixes for building the extensions with MSVC and
for python2.4. (John Arbash Meinel, #277484)</p></li>
<li><p>The index logic is now able to reload the list of pack files if and
index ends up disappearing. We still don’t reload if the pack data
itself goes missing after checking the index. This bug appears as a
transient failure (file not found) when another process is writing
to the repository.  (John Arbash Meinel, #153786)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">bzr</span> <span class="pre">switch</span></code> and <code class="docutils literal notranslate"><span class="pre">bzr</span> <span class="pre">bind</span></code> will now update the branch nickname if
it was previously set. All checkouts will now refer to the bound branch
for a nickname if one was not explicitly set.
(Marius Kruger, #230903)</p></li>
</ul>
</div>
<div class="section" id="documentation">
<h3>Documentation<a class="headerlink" href="#documentation" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Improved hook documentation. (Michael Ernst)</p></li>
</ul>
</div>
<div class="section" id="api-changes">
<h3>API Changes<a class="headerlink" href="#api-changes" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>commands.plugins_cmds is now a CommandRegistry, not a dict.</p></li>
</ul>
</div>
<div class="section" id="internals">
<h3>Internals<a class="headerlink" href="#internals" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>New AuthenticationConfig.set_credentials method allows easy programmatic
configuration of authetication credentials.</p></li>
</ul>
</div>
</div>
</div>


          </div>
        </div>
      </div>
        </div>
        <div class="sidebar">
          <h3>Table of Contents</h3>
          <ul>
<li class="toctree-l1"><a class="reference internal" href="../whats-new/whats-new-in-3.0.html">What’s New in Breezy 3.0?</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user-guide/index.html">Breezy User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/index.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../quick-reference/index.html">Quick Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html">Breezy Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../upgrade-guide/index.html">Breezy Upgrade Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user-reference/index.html">Breezy User Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../admin-guide/index.html">Breezy System Administrator’s Guide</a></li>
</ul>

          <div role="search">
            <h3 style="margin-top: 1.5em;">Search</h3>
            <form class="search" action="../search.html" method="get">
                <input type="text" name="q" />
                <input type="submit" value="Go" />
            </form>
          </div>
        </div>
        <div class="clearer"></div>
      </div>
    </div>

    <div class="footer-wrapper">
      <div class="footer">
        <div class="left">
          <div role="navigation" aria-label="related navigaton">
          </div>
          <div role="note" aria-label="source link">
              <br/>
              <a href="../_sources/release-notes/bzr-1.9.txt"
                rel="nofollow">Show Source</a>
          </div>
        </div>

        <div class="right">
          
    <div class="footer" role="contentinfo">
        &#169; Copyright 2009-2011 Canonical Ltd, 2017-2018 Breezy Developers.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 2.2.1.
    </div>
        </div>
        <div class="clearer"></div>
      </div>
    </div>

  </body>
</html>