
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>What’s New in Bazaar 2.3? &#8212; Breezy 3.0.2dev documentation</title>
    <link rel="stylesheet" href="../_static/agogo.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/language_data.js"></script>
    <link rel="search" title="Search" href="../search.html" /> 
  </head><body>
    <div class="header-wrapper" role="banner">
      <div class="header">
        <div class="headertitle"><a
          href="../index.html">Table of Contents (3.0.2dev)</a></div>
        <div class="rel" role="navigation" aria-label="related navigation">
        </div>
       </div>
    </div>

    <div class="content-wrapper">
      <div class="content">
        <div class="document">
            
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="what-s-new-in-bazaar-2-3">
<h1>What’s New in Bazaar 2.3?<a class="headerlink" href="#what-s-new-in-bazaar-2-3" title="Permalink to this headline">¶</a></h1>
<p>Bazaar 2.3 has been released on the 3rd of February 2011 and marks the start
of another long-term-stable series. From here, we will only make bugfix
releases on the 2.3 series (2.3.1, etc), while 2.4 will become our new
development series. The 2.1 and 2.2 series will also continue to get
bugfixes. (Currently 2.0 is planned to be EOLed circa September 2011.)</p>
<p>This document accumulates a high level summary of what’s changed.
See the
<a class="reference internal" href="../release-notes/index.html"><span class="doc">Breezy Release Notes</span></a> for a full list.</p>
<p>Users are encouraged to upgrade from the other stable series.  This document
outlines the improvements in Bazaar 2.3 vs Bazaar 2.2. As well as summarizing
improvements made to the core product, it highlights enhancements within the
broader Bazaar world of potential interest to those upgrading.</p>
<p>Bazaar 2.3.1 includes all the fixes in the un-released 2.0.7, 2.1.4 and 2.2.5
versions that weren’t included in 2.3.0 and fixes some bugs on its own.</p>
<p>Bazaar 2.3.2 is a bugfix release that was never released.</p>
<p>Bazaar 2.3.3 is a bugfix release including the fixes in 2.3.2 and
fixing the test helpers deprecated by python-2.7.</p>
<p>Bazaar 2.3.4 is a bugfix release.</p>
<p>See the <a class="reference internal" href="../release-notes/index.html"><span class="doc">Breezy Release Notes</span></a> for details.</p>
<p>Bazaar 2.3 is fully compatible both locally and on the network with 2.0, 2.1,
and 2.2. It can read and write repositories generated by all previous
versions.</p>
<div class="section" id="changed-behaviour">
<h2>Changed Behaviour<a class="headerlink" href="#changed-behaviour" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>Committing a new revision in a stacked branch is now supported, as long as
you are using the current repository format (2a). It will preserve the
stacking invariants, etc, so that fetching after commit is guaranteed to
work. (John Arbash Meinel, #375013)</p></li>
<li><p>Support for some old development formats have been removed:
<code class="docutils literal notranslate"><span class="pre">development-rich-root</span></code>, <code class="docutils literal notranslate"><span class="pre">development6-rich-root</span></code>, and
<code class="docutils literal notranslate"><span class="pre">development7-rich-root</span></code>.  These formats were always labelled experimental
and not used unless the user specifically asked for them.  If you have
repositories using these old formats you should upgrade them to <code class="docutils literal notranslate"><span class="pre">2a</span></code> using
Bazaar 2.2.  (Andrew Bennetts)</p></li>
<li><p>The default <code class="docutils literal notranslate"><span class="pre">ignore</span></code> file created by Bazaar will contain <code class="docutils literal notranslate"><span class="pre">__pycache__</span></code>,
which is the name of the directory that will be used by Python to store
bytecode files.
(Andrea Corbellini, #626687)</p></li>
<li><p>The default sort order for the <code class="docutils literal notranslate"><span class="pre">bzr</span> <span class="pre">tags</span></code> command now uses a natural sort
where numeric substrings are sorted numerically.  The previous default was
“asciibetical” where tags were sorted by the characters they contained.  To
get the old behavior, one can use <code class="docutils literal notranslate"><span class="pre">bzr</span> <span class="pre">tags</span> <span class="pre">--sort=alpha</span></code>.
(Neil Martinsen-Burrell, #640760)</p></li>
<li><p>On platforms other than Windows and Mac OS X, Bazaar will use configuration
files that live in $XDG_CONFIG_HOME/bazaar if that directory exists.  This
allows interested individuals to conform to the XDG Base Directory
specification.  The plugin location has not changed and is still
~/.bazaar/plugins.  To use a different directory for plugins, use the
environment variable BZR_PLUGIN_PATH.  (Neil Martinsen-Burrell, #195397)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">bzr</span> <span class="pre">upgrade</span></code> now operates recursively when run on a shared
repository, automatically upgrading the branches within it, and has
grown additional options for showing what it will do and cleaning up
after itself.  (Ian Clatworthy, Matthew Fuller, #89830, #374734, #422450)</p></li>
</ul>
</div>
<div class="section" id="launchpad-integration">
<h2>Launchpad integration<a class="headerlink" href="#launchpad-integration" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>The <code class="docutils literal notranslate"><span class="pre">lp:</span></code> prefix will now use your known username (from
<code class="docutils literal notranslate"><span class="pre">bzr</span> <span class="pre">launchpad-login</span></code>) to expand <code class="docutils literal notranslate"><span class="pre">~</span></code> to your username.  For example:
<code class="docutils literal notranslate"><span class="pre">bzr</span> <span class="pre">launchpad-login</span> <span class="pre">user</span> <span class="pre">&amp;&amp;</span> <span class="pre">bzr</span> <span class="pre">push</span> <span class="pre">lp:~/project/branch</span></code> will now
push to <code class="docutils literal notranslate"><span class="pre">lp:~user/project/branch</span></code>.  (John Arbash Meinel)</p></li>
<li><p>Launchpad has announced that the <code class="docutils literal notranslate"><span class="pre">edge.launchpad.net</span></code> instance is
deprecated and may be shut down in the future
&lt;<a class="reference external" href="http://blog.launchpad.net/general/edge-is-deprecated">http://blog.launchpad.net/general/edge-is-deprecated</a>&gt;.  Bazaar has therefore
been updated in this release to talk to the main (<code class="docutils literal notranslate"><span class="pre">launchpad.net</span></code>) servers,
rather than the <code class="docutils literal notranslate"><span class="pre">edge</span></code> ones.</p></li>
</ul>
</div>
<div class="section" id="performance-improvements">
<h2>Performance improvements<a class="headerlink" href="#performance-improvements" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">bzr</span> <span class="pre">revert</span></code> and <code class="docutils literal notranslate"><span class="pre">bzr</span> <span class="pre">status</span></code> are up to 15% faster on large trees
with many changes by not repeatedly building a list of all file-ids.
(Andrew Bennetts)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">bzr</span> <span class="pre">send</span></code> uses less memory.
(John Arbash Meinel, #614576)</p></li>
<li><p>Fetches involving stacked branches and branches with tags now do slightly less
I/O, and so does branching from an existing branch.  This also improves the
network performance of these operations.  (Andrew Bennetts)</p></li>
<li><p>Inventory entries now consume less memory (on 32-bit Ubuntu file entries
have dropped from 68 bytes to 40, and directory entries from 120 bytes
to 48).  This affects most operations, and depending on the size of the
tree may substantially improve the speed of operations like <code class="docutils literal notranslate"><span class="pre">bzr</span>
<span class="pre">commit</span></code>.  (Andrew Bennetts)</p></li>
<li><p>Lower memory consumption when reading many chk index pages. Helpful for
things like <code class="docutils literal notranslate"><span class="pre">bzr</span> <span class="pre">co</span></code> or <code class="docutils literal notranslate"><span class="pre">bzr</span> <span class="pre">ls</span> <span class="pre">-R</span></code> on large trees.
(John Arbash Meinel)</p></li>
<li><p>When building new working trees, default to reading from the repository
rather than the source tree unless explicitly requested. (via
<code class="docutils literal notranslate"><span class="pre">--files-from</span></code> and <code class="docutils literal notranslate"><span class="pre">--hardlink</span></code> for <code class="docutils literal notranslate"><span class="pre">bzr</span> <span class="pre">branch</span></code> and
<code class="docutils literal notranslate"><span class="pre">bzr</span> <span class="pre">checkout</span></code>. Generally, 2a format repositories extract
content faster than seeking and reading content from another tree,
especially in cold-cache situations. (John Arbash Meinel, #607298)</p></li>
</ul>
</div>
<div class="section" id="new-revision-specifiers">
<h2>New revision specifiers<a class="headerlink" href="#new-revision-specifiers" title="Permalink to this headline">¶</a></h2>
<ul>
<li><p>The <code class="docutils literal notranslate"><span class="pre">mainline</span></code> revision specifier has been added.  It takes another revision
spec as its input, and selects the revision which merged that revision into
the mainline.</p>
<p>For example, <code class="docutils literal notranslate"><span class="pre">bzr</span> <span class="pre">log</span> <span class="pre">-vp</span> <span class="pre">-r</span> <span class="pre">mainline:1.2.3</span></code> will show the log of the
revision that merged revision 1.2.3 into mainline, along with its status
output and diff.  (Aaron Bentley)</p>
</li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">annotate</span></code> revision specifier has been added.  It takes a path and a
line as its input (in the form <code class="docutils literal notranslate"><span class="pre">path:line</span></code>), and selects the revision which
introduced that line of that file.</p>
<p>For example: <code class="docutils literal notranslate"><span class="pre">bzr</span> <span class="pre">log</span> <span class="pre">-vp</span> <span class="pre">-r</span> <span class="pre">annotate:bzrlib/transform.py:500</span></code> will select
the revision that introduced line 500 of transform.py, and display its log,
status output and diff.</p>
<p>It can be combined with <code class="docutils literal notranslate"><span class="pre">mainline</span></code> to select the revision that landed this
line into trunk, like so:
<code class="docutils literal notranslate"><span class="pre">bzr</span> <span class="pre">log</span> <span class="pre">-vp</span> <span class="pre">-r</span> <span class="pre">mainline:annotate:bzrlib/transform.py:500</span></code>
(Aaron Bentley)</p>
</li>
</ul>
</div>
<div class="section" id="testing-bug-reporting">
<h2>Testing/Bug reporting<a class="headerlink" href="#testing-bug-reporting" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>Shell-like scripts can now be run directly from the command line without
writing a python test. This should help users adding reproducing recipes
to bug reports. (Vincent Ladeuil)</p></li>
</ul>
</div>
<div class="section" id="improved-conflict-handling">
<h2>Improved conflict handling<a class="headerlink" href="#improved-conflict-handling" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">pull</span></code>, <code class="docutils literal notranslate"><span class="pre">merge</span></code> or <code class="docutils literal notranslate"><span class="pre">switch</span></code> can lead to conflicts when deleting a
versioned directory contains unversioned files. The cause of the conflict
is that deleting the directory will orphan the unversioned files so the
user needs to instruct <code class="docutils literal notranslate"><span class="pre">bzr</span></code> what do to do about these orpahns. This is
controlled by setting the <code class="docutils literal notranslate"><span class="pre">bzr.transform.orphan_policy</span></code> configuration
variable with a value of <code class="docutils literal notranslate"><span class="pre">move</span></code>. In this case the unversioned files are
moved to a <code class="docutils literal notranslate"><span class="pre">bzr-orphans</span></code> directory at the root of the working tree. The
default behaviour is specified (if needed) by setting the variable to
<code class="docutils literal notranslate"><span class="pre">conflict</span></code>.  (Vincent Ladeuil, #323111)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">bzr</span> <span class="pre">resolve</span> <span class="pre">--take-this</span></code> and <code class="docutils literal notranslate"><span class="pre">bzr</span> <span class="pre">resolve</span> <span class="pre">--take-other</span></code> can now be
used for text conflicts. This will ignore the differences that were merged
cleanly and replace the file with its content in the current branch
(<code class="docutils literal notranslate"><span class="pre">--take-this</span></code>) or with its content in the merged branch
(<code class="docutils literal notranslate"><span class="pre">--take-other</span></code>). (Vincent Ladeuil, #638451)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">bzr</span> <span class="pre">resolve</span></code> now provides more feedback about the conflicts just
resolved and the remaining ones. (Vincent Ladeuil)</p></li>
</ul>
</div>
<div class="section" id="documentation">
<h2>Documentation<a class="headerlink" href="#documentation" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>A beta version of the documentation is now available in GNU TexInfo
format, used by emacs and the standalone <code class="docutils literal notranslate"><span class="pre">info</span></code> reader.
(Vincent Ladeuil, #219334)</p></li>
</ul>
</div>
<div class="section" id="configuration">
<h2>Configuration<a class="headerlink" href="#configuration" title="Permalink to this headline">¶</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">bzr</span></code> can be configured via environment variables, command-line options
and configurations files. We’ve started working on unifying this and give
access to more options. The first step is a new <code class="docutils literal notranslate"><span class="pre">bzr</span> <span class="pre">config</span></code> command that
can be used to display the active configuration options in the current
working tree or branch as well as the ability to set or remove an
option. Scripts can also use it to get only the value for a given option.</p>
</div>
<div class="section" id="further-information">
<h2>Further information<a class="headerlink" href="#further-information" title="Permalink to this headline">¶</a></h2>
<p>For more detailed information on the changes made, see the
the <a class="reference internal" href="../release-notes/index.html"><span class="doc">Breezy Release Notes</span></a> for:</p>
<ul class="simple">
<li><p>the interim bzr <a class="reference external" href="https://launchpad.net/bzr/2.3">milestones</a></p></li>
<li><p>the plugins you use.</p></li>
</ul>
<p>For a summary of changes made in earlier releases, see:</p>
<ul class="simple">
<li><p><a class="reference internal" href="whats-new-in-2.1.html"><span class="doc">What’s New in Bazaar 2.1?</span></a></p></li>
<li><p><a class="reference internal" href="whats-new-in-2.2.html"><span class="doc">What’s New in Bazaar 2.2?</span></a></p></li>
</ul>
</div>
</div>


          </div>
        </div>
      </div>
        </div>
        <div class="sidebar">
          <h3>Table of Contents</h3>
          <ul>
<li class="toctree-l1"><a class="reference internal" href="whats-new-in-3.0.html">What’s New in Breezy 3.0?</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user-guide/index.html">Breezy User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/index.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../quick-reference/index.html">Quick Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../release-notes/index.html">Breezy Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../upgrade-guide/index.html">Breezy Upgrade Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user-reference/index.html">Breezy User Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../admin-guide/index.html">Breezy System Administrator’s Guide</a></li>
</ul>

          <div role="search">
            <h3 style="margin-top: 1.5em;">Search</h3>
            <form class="search" action="../search.html" method="get">
                <input type="text" name="q" />
                <input type="submit" value="Go" />
            </form>
          </div>
        </div>
        <div class="clearer"></div>
      </div>
    </div>

    <div class="footer-wrapper">
      <div class="footer">
        <div class="left">
          <div role="navigation" aria-label="related navigaton">
          </div>
          <div role="note" aria-label="source link">
              <br/>
              <a href="../_sources/whats-new/whats-new-in-2.3.txt"
                rel="nofollow">Show Source</a>
          </div>
        </div>

        <div class="right">
          
    <div class="footer" role="contentinfo">
        &#169; Copyright 2009-2011 Canonical Ltd, 2017-2018 Breezy Developers.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 2.2.1.
    </div>
        </div>
        <div class="clearer"></div>
      </div>
    </div>

  </body>
</html>