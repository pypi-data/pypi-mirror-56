
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>Bazaar Release Notes &#8212; Breezy 3.0.2dev documentation</title>
    <link rel="stylesheet" href="../_static/agogo.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/language_data.js"></script>
    <link rel="search" title="Search" href="../search.html" /> 
  </head><body>
    <div class="header-wrapper" role="banner">
      <div class="header">
        <div class="headertitle"><a
          href="../index.html">Table of Contents (3.0.2dev)</a></div>
        <div class="rel" role="navigation" aria-label="related navigation">
        </div>
       </div>
    </div>

    <div class="content-wrapper">
      <div class="content">
        <div class="document">
            
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="bazaar-release-notes">
<h1>Bazaar Release Notes<a class="headerlink" href="#bazaar-release-notes" title="Permalink to this headline">¶</a></h1>
<div class="toctree-wrapper compound">
</div>
<div class="section" id="bzr-0-8-2">
<h2>bzr 0.8.2<a class="headerlink" href="#bzr-0-8-2" title="Permalink to this headline">¶</a></h2>
<dl class="field-list simple">
<dt class="field-odd">Released</dt>
<dd class="field-odd"><p>2006-05-17</p>
</dd>
</dl>
<div class="section" id="bug-fixes">
<h3>Bug Fixes<a class="headerlink" href="#bug-fixes" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>setup.py failed to install launchpad plugin.  (Martin Pool)</p></li>
</ul>
</div>
</div>
<div class="section" id="bzr-0-8-1">
<h2>bzr 0.8.1<a class="headerlink" href="#bzr-0-8-1" title="Permalink to this headline">¶</a></h2>
<dl class="field-list simple">
<dt class="field-odd">Released</dt>
<dd class="field-odd"><p>2006-05-16</p>
</dd>
</dl>
<div class="section" id="id1">
<h3>Bug Fixes<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Fix failure to commit a merge in a checkout.  (Martin Pool,
Robert Collins, Erik Bågfors, #43959)</p></li>
<li><p>Nicer messages from ‘commit’ in the case of renames, and correct
messages when a merge has occured. (Robert Collins, Martin Pool)</p></li>
<li><p>Separate functionality from assert statements as they are skipped in
optimized mode of python. Add the same check to pending merges.
(Olaf Conradi, #44443)</p></li>
</ul>
</div>
<div class="section" id="changes">
<h3>Changes<a class="headerlink" href="#changes" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Do not show the None revision in output of bzr ancestry. (Olaf Conradi)</p></li>
<li><p>Add info on standalone branches without a working tree.
(Olaf Conradi, #44155)</p></li>
<li><p>Fix bug in knits when raising InvalidRevisionId. (Olaf Conradi, #44284)</p></li>
</ul>
</div>
<div class="section" id="id2">
<h3>Changes<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Make editor invocation comply with Debian Policy. First check
environment variables VISUAL and EDITOR, then try editor from
alternatives system. If that all fails, fall back to the pre-defined
list of editors. (Olaf Conradi, #42904)</p></li>
</ul>
</div>
<div class="section" id="new-features">
<h3>New Features<a class="headerlink" href="#new-features" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>New ‘register-branch’ command registers a public branch into
Launchpad.net, where it can be associated with bugs, etc.
(Martin Pool, Bjorn Tillenius, Robert Collins)</p></li>
</ul>
</div>
<div class="section" id="internals">
<h3>Internals<a class="headerlink" href="#internals" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>New public api in InventoryEntry - <code class="docutils literal notranslate"><span class="pre">describe_change(old,</span> <span class="pre">new)</span></code> which
provides a human description of the changes between two old and
new. (Robert Collins, Martin Pool)</p></li>
</ul>
</div>
<div class="section" id="testing">
<h3>Testing<a class="headerlink" href="#testing" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Fix test case for bzr info in upgrading a standalone branch to metadir,
uses bzrlib api now. (Olaf Conradi)</p></li>
</ul>
</div>
</div>
<div class="section" id="bzr-0-8">
<h2>bzr 0.8<a class="headerlink" href="#bzr-0-8" title="Permalink to this headline">¶</a></h2>
<dl class="field-list simple">
<dt class="field-odd">Released</dt>
<dd class="field-odd"><p>2006-05-08</p>
</dd>
</dl>
<div class="section" id="notes-when-upgrading">
<h3>Notes When Upgrading<a class="headerlink" href="#notes-when-upgrading" title="Permalink to this headline">¶</a></h3>
<p>Release 0.8 of bzr introduces a new format for history storage, called
‘knit’, as an evolution of to the ‘weave’ format used in 0.7.  Local
and remote operations are faster using knits than weaves.  Several
operations including ‘init’, ‘init-repo’, and ‘upgrade’ take a
–format option that controls this.  Branching from an existing branch
will keep the same format.</p>
<p>It is possible to merge, pull and push between branches of different
formats but this is slower than moving data between homogenous
branches.  It is therefore recommended (but not required) that you
upgrade all branches for a project at the same time.  Information on
formats is shown by ‘bzr info’.</p>
<p>bzr 0.8 now allows creation of ‘repositories’, which hold the history
of files and revisions for several branches.  Previously bzr kept all
the history for a branch within the .bzr directory at the root of the
branch, and this is still the default.  To create a repository, use
the new ‘bzr init-repo’ command.  Branches exist as directories under
the repository and contain just a small amount of information
indicating the current revision of the branch.</p>
<p>bzr 0.8 also supports ‘checkouts’, which are similar to in cvs and
subversion.  Checkouts are associated with a branch (optionally in a
repository), which contains all the historical information.  The
result is that a checkout can be deleted without losing any
already-committed revisions.  A new ‘update’ command is also available.</p>
<p>Repositories and checkouts are not supported with the 0.7 storage
format.  To use them you must upgrad to either knits, or to the
‘metaweave’ format, which uses weaves but changes the .bzr directory
arrangement.</p>
</div>
<div class="section" id="improvements">
<h3>Improvements<a class="headerlink" href="#improvements" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p>SFTP paths can now be relative, or local, according to the lftp
convention. Paths now take the form:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sftp</span><span class="p">:</span><span class="o">//</span><span class="n">user</span><span class="p">:</span><span class="k">pass</span><span class="nd">@host</span><span class="p">:</span><span class="n">port</span><span class="o">/~/</span><span class="n">relative</span><span class="o">/</span><span class="n">path</span>
<span class="ow">or</span>
<span class="n">sftp</span><span class="p">:</span><span class="o">//</span><span class="n">user</span><span class="p">:</span><span class="k">pass</span><span class="nd">@host</span><span class="p">:</span><span class="n">port</span><span class="o">/</span><span class="n">absolute</span><span class="o">/</span><span class="n">path</span>
</pre></div>
</div>
</li>
<li><p>The FTP transport now tries to reconnect after a temporary
failure. FTP put is made atomic. (Matthieu Moy)</p></li>
<li><p>The FTP transport now maintains a pool of connections, and
reuses them to avoid multiple connections to the same host (like
SFTP did). (Daniel Silverstone)</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">bzr_man.py</span></code> file has been removed. To create the man page now,
use <code class="docutils literal notranslate"><span class="pre">./generate_docs.py</span> <span class="pre">man</span></code>. The new program can also create other files.
Run <code class="docutils literal notranslate"><span class="pre">python</span> <span class="pre">generate_docs.py</span> <span class="pre">--help</span></code> for usage information.
(Hans Ulrich Niedermann &amp; James Blackwell).</p></li>
<li><p>Man Page now gives full help (James Blackwell).
Help also updated to reflect user config now being stored in .bazaar
(Hans Ulrich Niedermann)</p></li>
<li><p>It’s now possible to set aliases in bazaar.conf (Erik Bågfors)</p></li>
<li><p>Pull now accepts a –revision argument (Erik Bågfors)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">bzr</span> <span class="pre">re-sign</span></code> now allows multiple revisions to be supplied on the command
line. You can now use the following command to sign all of your old
commits:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">find</span> <span class="o">.</span><span class="n">bzr</span><span class="o">/</span><span class="n">revision</span><span class="o">-</span><span class="n">store</span><span class="o">//</span> <span class="o">-</span><span class="n">name</span> <span class="n">my</span><span class="nd">@email</span><span class="o">-*</span> \
  <span class="o">|</span> <span class="n">sed</span> <span class="s1">&#39;s/.*\/\/..\///&#39;</span> \
  <span class="o">|</span> <span class="n">xargs</span> <span class="n">bzr</span> <span class="n">re</span><span class="o">-</span><span class="n">sign</span>
</pre></div>
</div>
</li>
<li><p>Upgrade can now upgrade over the network. (Robert Collins)</p></li>
<li><p>Two new commands ‘bzr checkout’ and ‘bzr update’ allow for CVS/SVN-alike
behaviour.  By default they will cache history in the checkout, but
with –lightweight almost all data is kept in the master branch.
(Robert Collins)</p></li>
<li><p>‘revert’ unversions newly-versioned files, instead of deleting them.</p></li>
<li><p>‘merge’ is more robust.  Conflict messages have changed.</p></li>
<li><p>‘merge’ and ‘revert’ no longer clobber existing files that end in ‘~’ or
‘.moved’.</p></li>
<li><p>Default log format can be set in configuration and plugins can register
their own formatters. (Erik Bågfors)</p></li>
<li><p>New ‘reconcile’ command will check branch consistency and repair indexes
that can become out of sync in pre 0.8 formats. (Robert Collins,
Daniel Silverstone)</p></li>
<li><p>New ‘bzr init –format’ and ‘bzr upgrade –format’ option to control
what storage format is created or produced.  (Robert Collins,
Martin Pool)</p></li>
<li><p>Add parent location to ‘bzr info’, if there is one.  (Olaf Conradi)</p></li>
<li><p>New developer commands ‘weave-list’ and ‘weave-join’.  (Martin Pool)</p></li>
<li><p>New ‘init-repository’ command, plus support for repositories in ‘init’
and ‘branch’ (Aaron Bentley, Erik Bågfors, Robert Collins)</p></li>
<li><p>Improve output of ‘info’ command. Show all relevant locations related to
working tree, branch and repository. Use kibibytes for binary quantities.
Fix off-by-one error in missing revisions of working tree.  Make ‘info’
work on branches, repositories and remote locations.  Show locations
relative to the shared repository, if applicable.  Show locking status
of locations.  (Olaf Conradi)</p></li>
<li><p>Diff and merge now safely handle binary files. (Aaron Bentley)</p></li>
<li><p>‘pull’ and ‘push’ now normalise the revision history, so that any two
branches with the same tip revision will have the same output from ‘log’.
(Robert Collins)</p></li>
<li><p>‘merge’ accepts –remember option to store parent location, like ‘push’
and ‘pull’. (Olaf Conradi)</p></li>
<li><p>bzr status and diff when files given as arguments do not exist
in the relevant trees.  (Martin Pool, #3619)</p></li>
<li><p>Add ‘.hg’ to the default ignore list.  (Martin Pool)</p></li>
<li><p>‘knit’ is now the default disk format. This improves disk performance and
utilization, increases incremental pull performance, robustness with SFTP
and allows checkouts over SFTP to perform acceptably.
The initial Knit code was contributed by Johan Rydberg based on a
specification by Martin Pool.
(Robert Collins, Aaron Bentley, Johan Rydberg, Martin Pool).</p></li>
<li><p>New tool to generate all-in-one html version of the manual.  (Alexander
Belchenko)</p></li>
<li><p>Hitting CTRL-C while doing an SFTP push will no longer cause stale locks
to be left in the SFTP repository. (Robert Collins, Martin Pool).</p></li>
<li><p>New option ‘diff –prefix’ to control how files are named in diff
output, with shortcuts ‘-p0’ and ‘-p1’ corresponding to the options for
GNU patch.  (Alexander Belchenko, Goffredo Baroncelli, Martin Pool)</p></li>
<li><p>Add –revision option to ‘annotate’ command.  (Olaf Conradi)</p></li>
<li><p>If bzr shows an unexpected revision-history after pulling (perhaps due
to a reweave) it can now be corrected by ‘bzr reconcile’.
(Robert Collins)</p></li>
</ul>
</div>
<div class="section" id="id3">
<h3>Changes<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Commit is now verbose by default, and shows changed filenames and the
new revision number.  (Robert Collins, Martin Pool)</p></li>
<li><p>Unify ‘mv’, ‘move’, ‘rename’.  (Matthew Fuller, #5379)</p></li>
<li><p>‘bzr -h’ shows help.  (Martin Pool, Ian Bicking, #35940)</p></li>
<li><p>Make ‘pull’ and ‘push’ remember location on failure using –remember.
(Olaf Conradi)</p></li>
<li><p>For compatibility, make old format for using weaves inside metadir
available as ‘metaweave’ format.  Rename format ‘metadir’ to ‘default’.
Clean up help for option –format in commands ‘init’, ‘init-repo’ and
‘upgrade’.  (Olaf Conradi)</p></li>
</ul>
</div>
<div class="section" id="id4">
<h3>Internals<a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>The internal storage of history, and logical branch identity have now
been split into Branch, and Repository. The common locking and file
management routines are now in bzrlib.lockablefiles.
(Aaron Bentley, Robert Collins, Martin Pool)</p></li>
<li><p>Transports can now raise DependencyNotPresent if they need a library
which is not installed, and then another implementation will be
tried.  (Martin Pool)</p></li>
<li><p>Remove obsolete (and no-op) <cite>decode</cite> parameter to <cite>Transport.get</cite>.
(Martin Pool)</p></li>
<li><p>Using Tree Transform for merge, revert, tree-building</p></li>
<li><p>WorkingTree.create, Branch.create, <code class="docutils literal notranslate"><span class="pre">WorkingTree.create_standalone</span></code>,
Branch.initialize are now deprecated. Please see <code class="docutils literal notranslate"><span class="pre">BzrDir.create_*</span></code> for
replacement API’s. (Robert Collins)</p></li>
<li><p>New BzrDir class represents the .bzr control directory and manages
formatting issues. (Robert Collins)</p></li>
<li><p>New repository.InterRepository class encapsulates Repository to
Repository actions and allows for clean selection of optimised code
paths. (Robert Collins)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">bzrlib.fetch.fetch</span></code> and <code class="docutils literal notranslate"><span class="pre">bzrlib.fetch.greedy_fetch</span></code> are now
deprecated, please use <code class="docutils literal notranslate"><span class="pre">branch.fetch</span></code> or <code class="docutils literal notranslate"><span class="pre">repository.fetch</span></code>
depending on your needs. (Robert Collins)</p></li>
<li><p>deprecated methods now have a <code class="docutils literal notranslate"><span class="pre">is_deprecated</span></code> flag on them that can
be checked, if you need to determine whether a given callable is
deprecated at runtime. (Robert Collins)</p></li>
<li><p>Progress bars are now nested - see
<code class="docutils literal notranslate"><span class="pre">bzrlib.ui.ui_factory.nested_progress_bar</span></code>.
(Robert Collins, Robey Pointer)</p></li>
<li><p>New API call <code class="docutils literal notranslate"><span class="pre">get_format_description()</span></code> for each type of format.
(Olaf Conradi)</p></li>
<li><p>Changed <code class="docutils literal notranslate"><span class="pre">branch.set_parent()</span></code> to accept None to remove parent.
(Olaf Conradi)</p></li>
<li><p>Deprecated BzrError AmbiguousBase.  (Olaf Conradi)</p></li>
<li><p>WorkingTree.branch is now a read only property.  (Robert Collins)</p></li>
<li><p>bzrlib.ui.text.TextUIFactory now accepts a <code class="docutils literal notranslate"><span class="pre">bar_type</span></code> parameter which
can be None or a factory that will create a progress bar. This is
useful for testing or for overriding the bzrlib.progress heuristic.
(Robert Collins)</p></li>
<li><p>New API method <code class="docutils literal notranslate"><span class="pre">get_physical_lock_status()</span></code> to query locks present on a
transport.  (Olaf Conradi)</p></li>
<li><p>Repository.reconcile now takes a thorough keyword parameter to allow
requesting an indepth reconciliation, rather than just a data-loss
check. (Robert Collins)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">bzrlib.ui.ui_factory</span> <span class="pre">protocol</span></code> now supports <code class="docutils literal notranslate"><span class="pre">get_boolean</span></code> to prompt
the user for yes/no style input. (Robert Collins)</p></li>
</ul>
</div>
<div class="section" id="id5">
<h3>Testing<a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>SFTP tests now shortcut the SSH negotiation, reducing test overhead
for testing SFTP protocol support. (Robey Pointer)</p></li>
<li><p>Branch formats are now tested once per implementation (see <code class="docutils literal notranslate"><span class="pre">bzrlib.</span>
<span class="pre">tests.branch_implementations</span></code>. This is analagous to the transport
interface tests, and has been followed up with working tree,
repository and BzrDir tests. (Robert Collins)</p></li>
<li><p>New test base class TestCaseWithTransport provides a transport aware
test environment, useful for testing any transport-interface using
code. The test suite option –transport controls the transport used
by this class (when its not being used as part of implementation
contract testing). (Robert Collins)</p></li>
<li><p>Close logging handler on disabling the test log. This will remove the
handler from the internal list inside python’s logging module,
preventing shutdown from closing it twice.  (Olaf Conradi)</p></li>
<li><p>Move test case for uncommit to blackbox tests.  (Olaf Conradi)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">run_bzr</span></code> and <code class="docutils literal notranslate"><span class="pre">run_bzr_captured</span></code> now accept a ‘stdin=”foo”’
parameter which will provide String(“foo”) to the command as its stdin.</p></li>
</ul>
</div>
</div>
</div>


          </div>
        </div>
      </div>
        </div>
        <div class="sidebar">
          <h3>Table of Contents</h3>
          <ul>
<li class="toctree-l1"><a class="reference internal" href="../whats-new/whats-new-in-3.0.html">What’s New in Breezy 3.0?</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user-guide/index.html">Breezy User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/index.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../quick-reference/index.html">Quick Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html">Breezy Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../upgrade-guide/index.html">Breezy Upgrade Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user-reference/index.html">Breezy User Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../admin-guide/index.html">Breezy System Administrator’s Guide</a></li>
</ul>

          <div role="search">
            <h3 style="margin-top: 1.5em;">Search</h3>
            <form class="search" action="../search.html" method="get">
                <input type="text" name="q" />
                <input type="submit" value="Go" />
            </form>
          </div>
        </div>
        <div class="clearer"></div>
      </div>
    </div>

    <div class="footer-wrapper">
      <div class="footer">
        <div class="left">
          <div role="navigation" aria-label="related navigaton">
          </div>
          <div role="note" aria-label="source link">
              <br/>
              <a href="../_sources/release-notes/bzr-0.8.txt"
                rel="nofollow">Show Source</a>
          </div>
        </div>

        <div class="right">
          
    <div class="footer" role="contentinfo">
        &#169; Copyright 2009-2011 Canonical Ltd, 2017-2018 Breezy Developers.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 2.2.1.
    </div>
        </div>
        <div class="clearer"></div>
      </div>
    </div>

  </body>
</html>