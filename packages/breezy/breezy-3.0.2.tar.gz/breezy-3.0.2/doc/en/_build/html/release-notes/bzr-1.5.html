
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>Bazaar Release Notes &#8212; Breezy 3.0.2dev documentation</title>
    <link rel="stylesheet" href="../_static/agogo.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/language_data.js"></script>
    <link rel="search" title="Search" href="../search.html" /> 
  </head><body>
    <div class="header-wrapper" role="banner">
      <div class="header">
        <div class="headertitle"><a
          href="../index.html">Table of Contents (3.0.2dev)</a></div>
        <div class="rel" role="navigation" aria-label="related navigation">
        </div>
       </div>
    </div>

    <div class="content-wrapper">
      <div class="content">
        <div class="document">
            
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="bazaar-release-notes">
<h1>Bazaar Release Notes<a class="headerlink" href="#bazaar-release-notes" title="Permalink to this headline">¶</a></h1>
<div class="toctree-wrapper compound">
</div>
<div class="section" id="bzr-1-5">
<h2>bzr 1.5<a class="headerlink" href="#bzr-1-5" title="Permalink to this headline">¶</a></h2>
<dl class="field-list simple">
<dt class="field-odd">Released</dt>
<dd class="field-odd"><p>2008-05-16</p>
</dd>
</dl>
<p>This release of Bazaar includes several updates to the documentation, and fixes
to prepare for making rich root support the default format. Many bugs have been
squashed, including fixes to log, bzr+ssh inter-operation with older servers.</p>
<div class="section" id="changes">
<h3>Changes<a class="headerlink" href="#changes" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Suppress deprecation warnings when bzrlib is a ‘final’ release. This way
users of packaged software won’t be bothered with DeprecationWarnings,
but developers and testers will still see them. (John Arbash Meinel)</p></li>
</ul>
</div>
<div class="section" id="documentation">
<h3>Documentation<a class="headerlink" href="#documentation" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Incorporate feedback from Jelmer Vernooij and Neil Martinsen-Burrell
on the plugin and integration chapters of the User Guide.
(Ian Clatworthy)</p></li>
</ul>
</div>
</div>
<div class="section" id="bzr-1-5rc1">
<h2>bzr 1.5rc1<a class="headerlink" href="#bzr-1-5rc1" title="Permalink to this headline">¶</a></h2>
<dl class="field-list simple">
<dt class="field-odd">Released</dt>
<dd class="field-odd"><p>2008-05-09</p>
</dd>
</dl>
<div class="section" id="id1">
<h3>Changes<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Broader support of GNU Emacs mail clients. Set
<code class="docutils literal notranslate"><span class="pre">mail_client=emacsclient</span></code> in your bazaar.conf and <code class="docutils literal notranslate"><span class="pre">send</span></code> will pop the
bundle in a mail buffer according to the value of <code class="docutils literal notranslate"><span class="pre">mail-user-agent</span></code>
variable. (Xavier Maillard)</p></li>
</ul>
</div>
<div class="section" id="improvements">
<h3>Improvements<a class="headerlink" href="#improvements" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Diff now handles revision specs like “branch:” and “submit:” more
efficiently.  (Aaron Bentley, #202928)</p></li>
<li><p>More friendly error given when attempt to start the smart server
on an address already in use. (Andrea Corbellini, #200575)</p></li>
<li><p>Pull completes much faster when there is nothing to pull.
(Aaron Bentley)</p></li>
</ul>
</div>
<div class="section" id="bugfixes">
<h3>Bugfixes<a class="headerlink" href="#bugfixes" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Authentication.conf can define sections without password.
(Vincent Ladeuil, #199440)</p></li>
<li><p>Avoid muttering every time a child update does not cause a progress bar
update. (John Arbash Meinel, #213771)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Branch.reconcile()</span></code> is now implemented. This allows <code class="docutils literal notranslate"><span class="pre">bzr</span> <span class="pre">reconcile</span></code>
to fix when a Branch has a non-canonical mainline history. <code class="docutils literal notranslate"><span class="pre">bzr</span> <span class="pre">check</span></code>
also detects this condition. (John Arbash Meinel, #177855)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">bzr</span> <span class="pre">log</span> <span class="pre">-r</span> <span class="pre">..X</span> <span class="pre">bzr://</span></code> was failing, because it was getting a request
for <code class="docutils literal notranslate"><span class="pre">revision_id=None</span></code> which was not a string.
(John Arbash Meinel, #211661)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">bzr</span> <span class="pre">commit</span></code> now works with Microsoft’s FTP service.
(Andreas Deininger)</p></li>
<li><p>Catch definitions outside sections in authentication.conf.
(Vincent Ladeuil, #217650)</p></li>
<li><p>Conversion from non-rich-root to rich-root(-pack) updates inventory
sha1s, even when bundles are used.  (Aaron Bentley, #181391)</p></li>
<li><p>Conversion from non-rich-root to rich-root(-pack) works correctly even
though search keys are not topologically sorted.  (Aaron Bentley)</p></li>
<li><p>Conversion from non-rich-root to rich-root(-pack) works even when a
parent revision has a different root id.  (Aaron Bentley, #177874)</p></li>
<li><p>Disable strace testing until strace is fixed (see bug #103133) and emit a
warning when selftest ends to remind us of leaking tests.
(Vincent Ladeuil, #226769)</p></li>
<li><p>Fetching all revisions from a repository does not cause pack collisions.
(Robert Collins, Aaron Bentley, #212908)</p></li>
<li><p>Fix error about “attempt to add line-delta in non-delta knit”.
(Andrew Bennetts, #217701)</p></li>
<li><p>Pushing a branch in “dirstate” format (Branch5) over bzr+ssh would break
if the remote server was &lt; version 1.2. This was due to a bug in the
RemoteRepository.get_parent_map() fallback code.
(John Arbash Meinel, #214894)</p></li>
<li><p>Remove leftover code in <code class="docutils literal notranslate"><span class="pre">bzr_branch</span></code> that inappropriately creates
a <code class="docutils literal notranslate"><span class="pre">branch-name</span></code> file in the branch control directory.
(Martin Pool)</p></li>
<li><p>Set SO_REUSEADDR on server sockets of <code class="docutils literal notranslate"><span class="pre">bzr</span> <span class="pre">serve</span></code> to avoid problems
rebinding the socket when starting the server a second time.
(John Arbash Meinel, Martin Pool, #164288)</p></li>
<li><p>Severe performance degradation in fetching from knit repositories to
knits and packs due to parsing the entire revisions.kndx on every graph
walk iteration fixed by using the Repository.get_graph API.  There was
another regression in knit =&gt; knit fetching which re-read the index for
every revision each side had in common.
(Robert Collins, John Arbash Meinel)</p></li>
<li><p>When logging the changes to a particular file, there was a bug if there
were ghosts in the revision ancestry. (John Arbash Meinel, #209948)</p></li>
<li><p>xs4all’s FTP server returns a temporary error when trying to list an
empty directory, rather than returning an empty list. Adding a
workaround so that we don’t get spurious failures.
(John Arbash Meinel, #215522)</p></li>
</ul>
</div>
<div class="section" id="id2">
<h3>Documentation<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Expanded the User Guide to include new chapters on popular plugins and
integrating Bazaar into your environment. The <em>Best practices</em> chapter
was renamed to <em>Miscellaneous topics</em> as suggested by community
feedback as well. (Ian Clatworthy)</p></li>
<li><p>Document outlining strategies for TortoiseBzr. (Mark Hammond)</p></li>
<li><p>Improved the documentation on hooks. (Ian Clatworthy)</p></li>
<li><p>Update authentication docs regarding SSH agents.
(Vincent Ladeuil, #183705)</p></li>
</ul>
</div>
<div class="section" id="testing">
<h3>Testing<a class="headerlink" href="#testing" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Add <code class="docutils literal notranslate"><span class="pre">thread_name_suffix</span></code> parameter to SmartTCPServer_for_testing, to
make it easy to identify which test spawned a thread with an unhandled
exception. (Andrew Bennetts)</p></li>
<li><p>New <code class="docutils literal notranslate"><span class="pre">--debugflag</span></code>/<code class="docutils literal notranslate"><span class="pre">-E</span></code> option to <code class="docutils literal notranslate"><span class="pre">bzr</span> <span class="pre">selftest</span></code> for setting
options for debugging tests, these are complementary to the -D
options.  The <code class="docutils literal notranslate"><span class="pre">-Dselftest_debug</span></code> global option has been replaced by the
<code class="docutils literal notranslate"><span class="pre">-E=allow_debug</span></code> option for selftest. (Andrew Bennetts)</p></li>
<li><p>Parameterised test ids are preserved correctly to aid diagnosis of test
failures. (Robert Collins, Andrew Bennetts)</p></li>
<li><p>selftest now accepts –starting-with &lt;id&gt; to load only the tests whose id
starts with the one specified. This greatly speeds up running the test
suite on a limited set of tests and can be used to run the tests for a
single module, a single class or even a single test.  (Vincent Ladeuil)</p></li>
<li><p>The test suite modules have been modified to define load_tests() instead
of test_suite(). That speeds up selective loading (via –load-list)
significantly and provides many examples on how to migrate (grep for
load_tests).  (Vincent Ladeuil)</p></li>
</ul>
</div>
<div class="section" id="internals">
<h3>Internals<a class="headerlink" href="#internals" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">Hooks.install_hook</span></code> is now deprecated in favour of
<code class="docutils literal notranslate"><span class="pre">Hooks.install_named_hook</span></code> which adds a required <code class="docutils literal notranslate"><span class="pre">name</span></code> parameter, to
avoid having to call <code class="docutils literal notranslate"><span class="pre">Hooks.name_hook</span></code>. (Daniel Watkins)</p></li>
<li><p>Implement xml8 serializer.  (Aaron Bentley)</p></li>
<li><p>New form <code class="docutils literal notranslate"><span class="pre">&#64;deprecated_method(deprecated_in(1,</span> <span class="pre">5,</span> <span class="pre">0))</span></code> for making
deprecation wrappers.  (Martin Pool)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Repository.revision_parents</span></code> is now deprecated in favour of
<code class="docutils literal notranslate"><span class="pre">Repository.get_parent_map([revid])[revid]</span></code>. (Jelmer Vernooij)</p></li>
<li><p>The Python <code class="docutils literal notranslate"><span class="pre">assert</span></code> statement is no longer used in Bazaar source, and
a test checks this.  (Martin Pool)</p></li>
</ul>
</div>
<div class="section" id="api-changes">
<h3>API Changes<a class="headerlink" href="#api-changes" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">bzrlib.status.show_pending_merges</span></code> requires the repository to be
locked by the caller. Callers should have been doing it anyway, but it
will now raise an exception if they do not. (John Arbash Meinel)</p></li>
<li><p>Repository.get_data_stream, Repository.get_data_stream_for_search(),
Repository.get_deltas_for_revsions(), Repository.revision_trees(),
Repository.item_keys_introduced_by() no longer take read locks.
(Aaron Bentley)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">LockableFiles.get_utf8</span></code> and <code class="docutils literal notranslate"><span class="pre">.get</span></code> are deprecated, as a start
towards removing LockableFiles and <code class="docutils literal notranslate"><span class="pre">.control_files</span></code> entirely.
(Martin Pool)</p></li>
<li><p>Methods deprecated prior to 1.1 have been removed.
(Martin Pool)</p></li>
</ul>
</div>
</div>
</div>


          </div>
        </div>
      </div>
        </div>
        <div class="sidebar">
          <h3>Table of Contents</h3>
          <ul>
<li class="toctree-l1"><a class="reference internal" href="../whats-new/whats-new-in-3.0.html">What’s New in Breezy 3.0?</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user-guide/index.html">Breezy User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/index.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../quick-reference/index.html">Quick Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html">Breezy Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../upgrade-guide/index.html">Breezy Upgrade Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user-reference/index.html">Breezy User Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../admin-guide/index.html">Breezy System Administrator’s Guide</a></li>
</ul>

          <div role="search">
            <h3 style="margin-top: 1.5em;">Search</h3>
            <form class="search" action="../search.html" method="get">
                <input type="text" name="q" />
                <input type="submit" value="Go" />
            </form>
          </div>
        </div>
        <div class="clearer"></div>
      </div>
    </div>

    <div class="footer-wrapper">
      <div class="footer">
        <div class="left">
          <div role="navigation" aria-label="related navigaton">
          </div>
          <div role="note" aria-label="source link">
              <br/>
              <a href="../_sources/release-notes/bzr-1.5.txt"
                rel="nofollow">Show Source</a>
          </div>
        </div>

        <div class="right">
          
    <div class="footer" role="contentinfo">
        &#169; Copyright 2009-2011 Canonical Ltd, 2017-2018 Breezy Developers.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 2.2.1.
    </div>
        </div>
        <div class="clearer"></div>
      </div>
    </div>

  </body>
</html>