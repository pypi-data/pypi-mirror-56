
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>Revision Identifiers &#8212; Breezy 3.0.2dev documentation</title>
    <link rel="stylesheet" href="../_static/agogo.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/language_data.js"></script>
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Standard Options" href="standard-options-help.html" />
    <link rel="prev" title="Other Storage Formats" href="other-formats-help.html" /> 
  </head><body>
    <div class="header-wrapper" role="banner">
      <div class="header">
        <div class="headertitle"><a
          href="../index.html">Table of Contents (3.0.2dev)</a></div>
        <div class="rel" role="navigation" aria-label="related navigation">
          <a href="other-formats-help.html" title="Other Storage Formats"
             accesskey="P">previous</a> |
          <a href="standard-options-help.html" title="Standard Options"
             accesskey="N">next</a>
        </div>
       </div>
    </div>

    <div class="content-wrapper">
      <div class="content">
        <div class="document">
            
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="revision-identifiers">
<h1>Revision Identifiers<a class="headerlink" href="#revision-identifiers" title="Permalink to this headline">¶</a></h1>
<p>A revision identifier refers to a specific state of a branch’s history.  It
can be expressed in several ways.  It can begin with a keyword to
unambiguously specify a given lookup type; some examples are ‘last:1’,
‘before:yesterday’ and ‘submit:’.</p>
<p>Alternately, it can be given without a keyword, in which case it will be
checked as a revision number, a tag, a revision id, a date specification, or a
branch specification, in that order.  For example, ‘date:today’ could be
written as simply ‘today’, though if you have a tag called ‘today’ that will
be found first.</p>
<p>If ‘REV1’ and ‘REV2’ are revision identifiers, then ‘REV1..REV2’ denotes a
revision range. Examples: ‘3647..3649’, ‘date:yesterday..-1’ and
‘branch:/path/to/branch1/..branch:/branch2’ (note that there are no quotes or
spaces around the ‘..’).</p>
<p>Ranges are interpreted differently by different commands. To the “log” command,
a range is a sequence of log messages, but to the “diff” command, the range
denotes a change between revisions (and not a sequence of changes).  In
addition, “log” considers a closed range whereas “diff” and “merge” consider it
to be open-ended, that is, they include one end but not the other.  For example:
“brz log -r 3647..3649” shows the messages of revisions 3647, 3648 and 3649,
while “brz diff -r 3647..3649” includes the changes done in revisions 3648 and
3649, but not 3647.</p>
<p>The keywords used as revision selection methods are the following:</p>
<dl class="field-list simple">
<dt class="field-odd">revid</dt>
<dd class="field-odd"><p>Selects a revision using the revision id.</p>
</dd>
<dt class="field-even">submit</dt>
<dd class="field-even"><p>Selects a common ancestor with the submit branch.</p>
</dd>
<dt class="field-odd">ancestor</dt>
<dd class="field-odd"><p>Selects a common ancestor with a second branch.</p>
</dd>
<dt class="field-even">date</dt>
<dd class="field-even"><p>Selects a revision on the basis of a datestamp.</p>
</dd>
<dt class="field-odd">branch</dt>
<dd class="field-odd"><p>Selects the last revision of a specified branch.</p>
</dd>
<dt class="field-even">tag</dt>
<dd class="field-even"><p>Selects a revision identified by a tag name.</p>
</dd>
<dt class="field-odd">revno</dt>
<dd class="field-odd"><p>Selects a revision using a number.</p>
</dd>
<dt class="field-even">before</dt>
<dd class="field-even"><p>Selects the parent of the revision specified.</p>
</dd>
<dt class="field-odd">annotate</dt>
<dd class="field-odd"><p>Select the revision that last modified the specified line.</p>
</dd>
<dt class="field-even">mainline</dt>
<dd class="field-even"><p>Select mainline revision that merged the specified revision.</p>
</dd>
<dt class="field-odd">last</dt>
<dd class="field-odd"><p>Selects the nth revision from the end.</p>
</dd>
</dl>
<p>In addition, plugins can provide other keywords.</p>
<p>A detailed description of each keyword is given below.</p>
<dl class="field-list">
<dt class="field-odd">revid</dt>
<dd class="field-odd"><p>Supply a specific revision id, that can be used to specify any
revision id in the ancestry of the branch.
Including merges, and pending merges.
Examples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">revid</span><span class="p">:</span><span class="n">aaaa</span><span class="nd">@bbbb</span><span class="o">-</span><span class="mi">123456789</span> <span class="o">-&gt;</span> <span class="n">Select</span> <span class="n">revision</span> <span class="s1">&#39;aaaa@bbbb-123456789&#39;</span>
</pre></div>
</div>
</dd>
<dt class="field-even">submit</dt>
<dd class="field-even"><p>Diffing against this shows all the changes that were made in this branch,
and is a good predictor of what merge will do.  The submit branch is
used by the bundle and merge directive commands.  If no submit branch
is specified, the parent branch is used instead.</p>
<p>The common ancestor is the last revision that existed in both
branches. Usually this is the branch point, but it could also be
a revision that was merged.</p>
<p>Examples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ bzr diff -r submit:
</pre></div>
</div>
</dd>
<dt class="field-odd">ancestor</dt>
<dd class="field-odd"><p>Supply the path to a branch to select the common ancestor.</p>
<p>The common ancestor is the last revision that existed in both
branches. Usually this is the branch point, but it could also be
a revision that was merged.</p>
<p>This is frequently used with ‘diff’ to return all of the changes
that your branch introduces, while excluding the changes that you
have not merged from the remote branch.</p>
<p>Examples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>ancestor:/path/to/branch
$ bzr diff -r ancestor:../../mainline/branch
</pre></div>
</div>
</dd>
<dt class="field-even">date</dt>
<dd class="field-even"><p>Supply a datestamp to select the first revision that matches the date.
Date can be ‘yesterday’, ‘today’, ‘tomorrow’ or a YYYY-MM-DD string.
Matches the first entry after a given date (either at midnight or
at a specified time).</p>
<p>One way to display all the changes since yesterday would be:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">brz</span> <span class="n">log</span> <span class="o">-</span><span class="n">r</span> <span class="n">date</span><span class="p">:</span><span class="n">yesterday</span><span class="o">..</span>
</pre></div>
</div>
<p>Examples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">date</span><span class="p">:</span><span class="n">yesterday</span>            <span class="o">-&gt;</span> <span class="n">select</span> <span class="n">the</span> <span class="n">first</span> <span class="n">revision</span> <span class="n">since</span> <span class="n">yesterday</span>
<span class="n">date</span><span class="p">:</span><span class="mi">2006</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">14</span><span class="p">,</span><span class="mi">17</span><span class="p">:</span><span class="mi">10</span><span class="p">:</span><span class="mi">14</span>  <span class="o">-&gt;</span> <span class="n">select</span> <span class="n">the</span> <span class="n">first</span> <span class="n">revision</span> <span class="n">after</span>
                             <span class="n">August</span> <span class="mi">14</span><span class="n">th</span><span class="p">,</span> <span class="mi">2006</span> <span class="n">at</span> <span class="mi">5</span><span class="p">:</span><span class="mi">10</span><span class="n">pm</span><span class="o">.</span>
</pre></div>
</div>
</dd>
<dt class="field-odd">branch</dt>
<dd class="field-odd"><p>Supply the path to a branch to select its last revision.</p>
<p>Examples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">branch</span><span class="p">:</span><span class="o">/</span><span class="n">path</span><span class="o">/</span><span class="n">to</span><span class="o">/</span><span class="n">branch</span>
</pre></div>
</div>
</dd>
<dt class="field-even">tag</dt>
<dd class="field-even"><p>Tags are stored in the branch and created by the ‘tag’ command.</p>
</dd>
<dt class="field-odd">revno</dt>
<dd class="field-odd"><p>Use an integer to specify a revision in the history of the branch.
Optionally a branch can be specified.  A negative number will count
from the end of the branch (-1 is the last revision, -2 the previous
one). If the negative number is larger than the branch’s history, the
first revision is returned.
Examples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">revno</span><span class="p">:</span><span class="mi">1</span>                   <span class="o">-&gt;</span> <span class="k">return</span> <span class="n">the</span> <span class="n">first</span> <span class="n">revision</span> <span class="n">of</span> <span class="n">this</span> <span class="n">branch</span>
<span class="n">revno</span><span class="p">:</span><span class="mi">3</span><span class="p">:</span><span class="o">/</span><span class="n">path</span><span class="o">/</span><span class="n">to</span><span class="o">/</span><span class="n">branch</span>   <span class="o">-&gt;</span> <span class="k">return</span> <span class="n">the</span> <span class="mi">3</span><span class="n">rd</span> <span class="n">revision</span> <span class="n">of</span>
                             <span class="n">the</span> <span class="n">branch</span> <span class="s1">&#39;/path/to/branch&#39;</span>
<span class="n">revno</span><span class="p">:</span><span class="o">-</span><span class="mi">1</span>                  <span class="o">-&gt;</span> <span class="n">The</span> <span class="n">last</span> <span class="n">revision</span> <span class="ow">in</span> <span class="n">a</span> <span class="n">branch</span><span class="o">.</span>
<span class="o">-</span><span class="mi">2</span><span class="p">:</span><span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">other</span><span class="o">/</span><span class="n">branch</span>    <span class="o">-&gt;</span> <span class="n">The</span> <span class="n">second</span> <span class="n">to</span> <span class="n">last</span> <span class="n">revision</span> <span class="ow">in</span> <span class="n">the</span>
                             <span class="n">remote</span> <span class="n">branch</span><span class="o">.</span>
<span class="o">-</span><span class="mi">1000000</span>                  <span class="o">-&gt;</span> <span class="n">Most</span> <span class="n">likely</span> <span class="n">the</span> <span class="n">first</span> <span class="n">revision</span><span class="p">,</span> <span class="n">unless</span>
                             <span class="n">your</span> <span class="n">history</span> <span class="ow">is</span> <span class="n">very</span> <span class="n">long</span><span class="o">.</span>
</pre></div>
</div>
</dd>
<dt class="field-even">before</dt>
<dd class="field-even"><p>Supply any revision spec to return the parent of that revision.  This is
mostly useful when inspecting revisions that are not in the revision history
of a branch.</p>
<p>It is an error to request the parent of the null revision (before:0).</p>
<p>Examples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">before</span><span class="p">:</span><span class="mi">1913</span>    <span class="o">-&gt;</span> <span class="n">Return</span> <span class="n">the</span> <span class="n">parent</span> <span class="n">of</span> <span class="n">revno</span> <span class="mi">1913</span> <span class="p">(</span><span class="n">revno</span> <span class="mi">1912</span><span class="p">)</span>
<span class="n">before</span><span class="p">:</span><span class="n">revid</span><span class="p">:</span><span class="n">aaaa</span><span class="nd">@bbbb</span><span class="o">-</span><span class="mi">1234567890</span>  <span class="o">-&gt;</span> <span class="k">return</span> <span class="n">the</span> <span class="n">parent</span> <span class="n">of</span> <span class="n">revision</span>
                                      <span class="n">aaaa</span><span class="nd">@bbbb</span><span class="o">-</span><span class="mi">1234567890</span>
<span class="n">bzr</span> <span class="n">diff</span> <span class="o">-</span><span class="n">r</span> <span class="n">before</span><span class="p">:</span><span class="mf">1913.</span><span class="o">.</span><span class="mi">1913</span>
      <span class="o">-&gt;</span> <span class="n">Find</span> <span class="n">the</span> <span class="n">changes</span> <span class="n">between</span> <span class="n">revision</span> <span class="mi">1913</span> <span class="ow">and</span> <span class="n">its</span> <span class="n">parent</span> <span class="p">(</span><span class="mi">1912</span><span class="p">)</span><span class="o">.</span>
         <span class="p">(</span><span class="n">What</span> <span class="n">changes</span> <span class="n">did</span> <span class="n">revision</span> <span class="mi">1913</span> <span class="n">introduce</span><span class="p">)</span><span class="o">.</span>
         <span class="n">This</span> <span class="ow">is</span> <span class="n">equivalent</span> <span class="n">to</span><span class="p">:</span>  <span class="n">bzr</span> <span class="n">diff</span> <span class="o">-</span><span class="n">c</span> <span class="mi">1913</span>
</pre></div>
</div>
</dd>
<dt class="field-odd">annotate</dt>
<dd class="field-odd"><p>Select the revision that last modified the specified line.  Line is
specified as path:number.  Path is a relative path to the file.  Numbers
start at 1, and are relative to the current version, not the last-
committed version of the file.</p>
</dd>
<dt class="field-even">mainline</dt>
<dd class="field-even"><p>Select the revision that merged the specified revision into mainline.</p>
</dd>
<dt class="field-odd">last</dt>
<dd class="field-odd"><p>Supply a positive number to get the nth revision from the end.
This is the same as supplying negative numbers to the ‘revno:’ spec.
Examples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">last</span><span class="p">:</span><span class="mi">1</span>        <span class="o">-&gt;</span> <span class="k">return</span> <span class="n">the</span> <span class="n">last</span> <span class="n">revision</span>
<span class="n">last</span><span class="p">:</span><span class="mi">3</span>        <span class="o">-&gt;</span> <span class="k">return</span> <span class="n">the</span> <span class="n">revision</span> <span class="mi">2</span> <span class="n">before</span> <span class="n">the</span> <span class="n">end</span><span class="o">.</span>
</pre></div>
</div>
</dd>
</dl>
</div>


          </div>
        </div>
      </div>
        </div>
        <div class="sidebar">
          <h3>Table of Contents</h3>
          <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../whats-new/whats-new-in-3.0.html">What’s New in Breezy 3.0?</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user-guide/index.html">Breezy User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/index.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../quick-reference/index.html">Quick Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../release-notes/index.html">Breezy Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../upgrade-guide/index.html">Breezy Upgrade Guide</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Breezy User Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../admin-guide/index.html">Breezy System Administrator’s Guide</a></li>
</ul>

          <div role="search">
            <h3 style="margin-top: 1.5em;">Search</h3>
            <form class="search" action="../search.html" method="get">
                <input type="text" name="q" />
                <input type="submit" value="Go" />
            </form>
          </div>
        </div>
        <div class="clearer"></div>
      </div>
    </div>

    <div class="footer-wrapper">
      <div class="footer">
        <div class="left">
          <div role="navigation" aria-label="related navigaton">
            <a href="other-formats-help.html" title="Other Storage Formats"
              >previous</a> |
            <a href="standard-options-help.html" title="Standard Options"
              >next</a>
          </div>
          <div role="note" aria-label="source link">
              <br/>
              <a href="../_sources/user-reference/revisionspec-help.txt"
                rel="nofollow">Show Source</a>
          </div>
        </div>

        <div class="right">
          
    <div class="footer" role="contentinfo">
        &#169; Copyright 2009-2011 Canonical Ltd, 2017-2018 Breezy Developers.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 2.2.1.
    </div>
        </div>
        <div class="clearer"></div>
      </div>
    </div>

  </body>
</html>