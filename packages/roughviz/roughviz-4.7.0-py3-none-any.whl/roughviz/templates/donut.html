<html>
<body>

<div id={{id_name|tojson}}></div>

<script src="https://requirejs.org/docs/release/2.3.6/minified/require.js"></script>
<script>
require.config({paths: {roughViz: "https://unpkg.com/rough-viz@1.0.5/dist/roughviz.min"}});
require(["roughViz"], function(roughViz) {

new roughViz.Donut(
  {
    element: "#".concat({{id_name|tojson}}),
    data: {
      labels: {{labels}},
      values: {{values}}
    },
	bowing: {{kwargs.bowing|default(0)}},
	fillStyle: {{kwargs.fillStyle|default("cross-hatch")|tojson}},
	fillWeight: {{kwargs.fillWeight|default(0)}},
	font: {{kwargs.font|default(0)}},
	highlight: {{kwargs.highlight|default("green")|tojson}},
	innerStrokeWidth: {{kwargs.innerStrokeWidth|default(0)}},
	roughness: {{kwargs.roughness|default(1)}},
	simplification: {{kwargs.simplification|default(0.2)}},
	strokeWidth: {{kwargs.strokeWidth|default(1)}},
	title: {{kwargs.title|default("")|tojson}},
	titleFontSize: {{kwargs.titleFontSize|default("3rem")|tojson}},
	tooltipFontSize: {{kwargs.tooltipFontSize|default("3rem")|tojson}},
	interactive: {{kwargs.interactive|default(true)|tojson}}
  }
);
	var text = document.querySelectorAll(".xAxis{{id_name}} .tick text");
	var i;
	for (i = 0; i < text.length; i++) {
		text[i].setAttribute("transform", "rotate(0)");
		text[i].style.textAnchor="middle";
	}
	document.getElementById("{{id_name}}").style.height = "{{kwargs.height|default(400)|int - 20}}px";
	document.querySelector("#{{id_name}} svg").style.height = "{{kwargs.height|default(400)|int - 20}}px";
});
</script>

</body>
</html>
