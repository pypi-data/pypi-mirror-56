

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Raspberry Pi 3 Tutorial &mdash; KA Lite 0.17.6b10 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="System requirements" href="system_requirements.html" />
    <link rel="prev" title="Other options" href="advanced.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> KA Lite
          

          
          </a>

          
            
            
              <div class="version">
                0.17
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="install_main.html">Installation Guide</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="install_all.html">Windows</a></li>
<li class="toctree-l2"><a class="reference internal" href="install_all.html#mac-os-x">Mac OS X</a></li>
<li class="toctree-l2"><a class="reference internal" href="install_all.html#linux">Linux</a></li>
<li class="toctree-l2"><a class="reference internal" href="advanced.html">Advanced Installation</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Raspberry Pi Tutorial</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#overview">Overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="#step-1-install-raspbian">Step 1: Install Raspbian</a></li>
<li class="toctree-l3"><a class="reference internal" href="#step-2-install-ka-lite">Step 2: Install KA Lite</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#upgrades">Upgrades</a></li>
<li class="toctree-l4"><a class="reference internal" href="#configuration-during-installation-or-update">Configuration during installation or update</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="system_requirements.html">System Requirements</a></li>
<li class="toctree-l2"><a class="reference internal" href="uninstall.html">Uninstalling</a></li>
<li class="toctree-l2"><a class="reference internal" href="release_notes.html">Release Notes</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../usermanual/userman_main.html">User Manual</a></li>
<li class="toctree-l1"><a class="reference internal" href="../faq.html">FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developer_docs/index.html">Developer Docs</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">KA Lite</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Docs</a> &raquo;</li>
      
          <li><a href="install_main.html">KA Lite Installation Guides</a> &raquo;</li>
      
    <li>Raspberry Pi 3 Tutorial</li>
      <li class="wy-breadcrumbs-aside">
        
          
        
        
      </li>
  </ul>
  <hr/>
</div>
<style>
  /* Style the literal block because it's missing styling */
  pre.literal-block
  {
    padding: 12px 12px !important;
    font-family: Consolas,"Andale Mono WT","Andale Mono","Lucida Console","Lucida Sans Typewriter","DejaVu Sans Mono","Bitstream Vera Sans Mono","Liberation Mono","Nimbus Mono L",Monaco,"Courier New",Courier,monospace;
    font-size: 12px;
    line-height: 1.5;
    color: #404040;
    overflow: auto;
  }
</style>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="raspberry-pi-3-tutorial">
<span id="raspberry-pi-tutorial"></span><h1>Raspberry Pi 3 Tutorial<a class="headerlink" href="#raspberry-pi-3-tutorial" title="Permalink to this headline">¶</a></h1>
<p>Raspberry Pi has many versions and the latest one is Pi 3, which this guide is
based on. It also works for other editions of The Pi - RPi1, 2, Nano, Zero etc.
In order to have complete ka-lite installation one would need a 64GB MicroSD Card
(earlier version may need a SD Card) as the reduced size video are currently
34GB in size (see <a class="reference internal" href="system_requirements.html#system-requirements"><span class="std std-ref">System requirements</span></a>).</p>
<div class="section" id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h2>
<p>Installing KA Lite on a Raspberry Pi by using the specialized
<code class="docutils literal notranslate"><span class="pre">ka-lite-raspberry-pi</span></code> package will install a couple of dependencies for
Raspbian. One of them is Nginx, a web server.</p>
<p>The main benefit of this setup is that static files are handled by Nginx,
meaning all images, javascript files and videos are served by a more efficient
application. In older more limited versions of Raspberry Pi, this was critical
because of limited hardware.</p>
</div>
<div class="section" id="step-1-install-raspbian">
<h2>Step 1: Install Raspbian<a class="headerlink" href="#step-1-install-raspbian" title="Permalink to this headline">¶</a></h2>
<p>First step is to get Raspbian OS installed on Raspberry Pi. There are guides available on their website. Easy way
is to format the MicroSD Card as FAT32 and then download <code class="docutils literal notranslate"><span class="pre">NOOBS</span></code> (<a class="reference external" href="https://www.raspberrypi.org/downloads/noobs/">https://www.raspberrypi.org/downloads/noobs/</a>)
Once downloaded extract and copy it on the MicroSD Card. Pi 3 has a inbuilt WiFi, hence put the Micro SD card and once
booted it will ask to connnect to your WiFi. If WiFi isn’t available make sure the ethernet port is connected and internet is
accessible. This is required to download the Raspbian OS.</p>
<p>After Raspbian is installed and booted, please upgrade the OS before installing the dependencies:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Upgrade Raspbian OS</span>
<span class="n">sudo</span> <span class="n">apt</span><span class="o">-</span><span class="n">get</span> <span class="n">update</span>
<span class="n">sudo</span> <span class="n">apt</span><span class="o">-</span><span class="n">get</span> <span class="n">upgrade</span>
</pre></div>
</div>
</div>
<div class="section" id="step-2-install-ka-lite">
<h2>Step 2: Install KA Lite<a class="headerlink" href="#step-2-install-ka-lite" title="Permalink to this headline">¶</a></h2>
<p>You will need the customized package <code class="docutils literal notranslate"><span class="pre">ka-lite-raspberry-pi</span></code>. To get the latest
version, see <a class="reference internal" href="install_all.html#raspberry-pi-install"><span class="std std-ref">Raspberry Pi</span></a>.</p>
<p>You can also add the PPA, see <a class="reference internal" href="advanced.html#ppa-installation"><span class="std std-ref">Debian/Ubuntu: Subscribe to updates through a PPA</span></a>, and then
run <code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">apt-get</span> <span class="pre">install</span> <span class="pre">ka-lite-raspberry-pi</span></code>.</p>
<div class="section" id="upgrades">
<h3>Upgrades<a class="headerlink" href="#upgrades" title="Permalink to this headline">¶</a></h3>
<p>To upgrade KA Lite on Linux, simply download the latest deb file and install it on top of the old one (following the same installation instructions). If you use a PPA, you can run <code class="docutils literal notranslate"><span class="pre">apt-get</span> <span class="pre">update</span> <span class="pre">&amp;&amp;</span> <span class="pre">apt-get</span> <span class="pre">upgrade</span></code>.</p>
<p>Your existing data will be preserved by default.</p>
<p>See the <a class="reference internal" href="release_notes.html"><span class="doc">release notes</span></a> for critical upgrade information for specific versions.</p>
</div>
<div class="section" id="configuration-during-installation-or-update">
<h3>Configuration during installation or update<a class="headerlink" href="#configuration-during-installation-or-update" title="Permalink to this headline">¶</a></h3>
<p>Some explanation:</p>
<p>1. Choose weather you want to run KA Lite on boot or not. We recommend choosing yes, as it simplifies data management.
If you choose not to, you must manually start KA lite every time.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Running KA Lite as different users creates different sets of data files, so it’s recommended that you run KA Lite as the same user every time.</p>
</div>
<img alt="../_images/linux-install-startup.png" class="screenshot" src="../_images/linux-install-startup.png" />
<p>2. If you chose to start on boot in the previous step, you will be prompted to choose the owner for the KA Lite server
process. Generally the default value is ok.</p>
<img alt="../_images/linux-install-owner.png" class="screenshot" src="../_images/linux-install-owner.png" />
<ol class="arabic simple" start="3">
<li>You will be asked to review your choices, and finally KA Lite will start automatically when installation is complete.</li>
</ol>
<div class="admonition tip">
<p class="first admonition-title">Tip</p>
<p class="last">If you want to receive automatic updates from online sources, you can
also use <a class="reference internal" href="advanced.html#ppa-installation"><span class="std std-ref">Debian/Ubuntu: Subscribe to updates through a PPA</span></a>.</p>
</div>
<p>During the setup it will ask to download the English content pack that has all exercises. It is also fundamental to all other language contents, and thus mandatory to run any kind of installation. This file is around 800MB and it will take time to download depending on the internet connection.</p>
<div class="section" id="step-3-usage">
<h4>Step 3: Usage<a class="headerlink" href="#step-3-usage" title="Permalink to this headline">¶</a></h4>
<p>You will probably have chosen to start KA Lite automatically, and if that’s the
case, it will already be running. Use following command to start/stop KA Lite:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Starting KA Lite</span>
<span class="n">sudo</span> <span class="n">service</span> <span class="n">ka</span><span class="o">-</span><span class="n">lite</span> <span class="n">start</span>
<span class="c1"># Stopping KA Lite</span>
<span class="n">sudo</span> <span class="n">service</span> <span class="n">ka</span><span class="o">-</span><span class="n">lite</span> <span class="n">stop</span>
</pre></div>
</div>
<p>After starting KA Lite, point your browser to <code class="docutils literal notranslate"><span class="pre">http://127.0.0.1:8008</span></code> and you
should see a screen where you can type in your administrator’s password.</p>
</div>
<div class="section" id="step-4-downloading-the-videos">
<h4>Step 4: Downloading the videos<a class="headerlink" href="#step-4-downloading-the-videos" title="Permalink to this headline">¶</a></h4>
<p>If videos are downloaded in bulk, then they need to be moved to the folder <code class="docutils literal notranslate"><span class="pre">/home/pi/.kalite/content</span></code>. After copying the files, use the <em>Scan content folder for videos</em>. The tree will turn green for all the videos that are available in the content folder. Time taken for the scan to complete depends on the number of videos in the content folder. For the complete set of downloaded videos (<code class="docutils literal notranslate"><span class="pre">34</span> <span class="pre">GB</span></code>), it can take more than 2 hours on Raspberry Pi 3. It may take longer for older versions of Raspberry Pi.</p>
<img alt="../_images/After_Video_Scan.png" class="screenshot" src="../_images/After_Video_Scan.png" />
<p>Please make sure that all these files once copied, they have permissions to be viewed by everyone (or at least the user account you know is running the KA Lite service, typically the <code class="docutils literal notranslate"><span class="pre">pi</span></code> user). If correct permissions are not given, videos will not play.</p>
<img alt="../_images/File_Permission.png" class="screenshot" src="../_images/File_Permission.png" />
</div>
<div class="section" id="step-5-replication-to-other-devices">
<h4>Step 5: Replication to other devices<a class="headerlink" href="#step-5-replication-to-other-devices" title="Permalink to this headline">¶</a></h4>
<p>Here are the basic steps to manually replicate from one KA Lite device to
another. We advice you to write your own scripts to automate this process if you
are deploying to more than just a couple of devices.</p>
<blockquote>
<div><ol class="arabic">
<li><p class="first">Prepare the seed device, your prototype using the above steps. Then:</p>
<blockquote>
<div><ol class="arabic">
<li><p class="first">Download and install all desired videos and content packs.</p>
</li>
<li><p class="first">To remove the data that should NOT be replicated to other devices, run:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">kalite</span> <span class="n">manage</span> <span class="n">clearuserdata</span>
</pre></div>
</div>
<p>To run the same command as a different user:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">su</span> <span class="o">-</span><span class="n">l</span> <span class="n">USERNAME</span> <span class="o">-</span><span class="n">c</span> <span class="n">kalite</span> <span class="n">manage</span> <span class="n">clearuserdata</span>
</pre></div>
</div>
</li>
<li><p class="first">Copy the <code class="docutils literal notranslate"><span class="pre">~/.kalite</span></code> folder to a removable device. It’s likely NOT going to save you time to compress it to .zip or .gz.</p>
</li>
</ol>
</div></blockquote>
</li>
<li><p class="first">On the target device:</p>
<blockquote>
<div><ol class="arabic simple">
<li>Install KA Lite using the steps above.</li>
<li>Stop kalite: <code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">service</span> <span class="pre">ka-lite</span> <span class="pre">stop</span></code></li>
<li>Remove the whole <code class="docutils literal notranslate"><span class="pre">~/.kalite</span></code> folder</li>
<li>Copy in the <code class="docutils literal notranslate"><span class="pre">.kalite</span></code> from your seed device to your target device’s HOME (<code class="docutils literal notranslate"><span class="pre">~/</span></code>) folder.</li>
<li>Make sure permissions are given to the <code class="docutils literal notranslate"><span class="pre">pi</span></code> user (or other configured user)</li>
<li>Start kalite: <code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">service</span> <span class="pre">ka-lite</span> <span class="pre">start</span></code></li>
</ol>
</div></blockquote>
</li>
</ol>
</div></blockquote>
<p>After this, the target device should have the same content packs, videos etc. But it will be unregistered. Depending on your deployments internet connectivity, you may want to register it before deploying it.</p>
<p>In any case, you should always manually test a device before deploying it.</p>
</div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="system_requirements.html" class="btn btn-neutral float-right" title="System requirements" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="advanced.html" class="btn btn-neutral float-left" title="Other options" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, Learning Equality, licensed under a Creative Commons Attribution-ShareAlike 4.0 International License
      <span class="lastupdated">
        Last updated on Mon, 25 Nov 2019 22:06:29 %z.
      </span>

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>