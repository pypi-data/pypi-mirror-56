{% load l10n sniplates rijkshuisstijl %}{% singleline %}

    {% comment %}

    class: Sets additional wrapper classes.
    id: Sets the select id.
    form_id: Sets the form attribute.
    name: Sets the select name.
    placeholder: Sets the placeholder label.
    value: Sets the select value.
    type: Sets the select type.
    size: Sets the select size.
    disabled: Makes the select disabled.
    min: Sets the select mininum value.
    max: Sets the select maximum value.
    required: Makes the select required.

    {% endcomment %}

    <select class="select{% if errors %} select--error{% endif %}{% if class %} {{ class }}{% endif %}"
            {% if id %} id="{{ id }}"{% endif %}
            {% if form_id %} form="{{ form_id }}"{% endif %}
            {% if multiple %} multiple{% endif %}
            {% if name %} name="{{ name }}"{% endif %}
            {% if placeholder %} placeholder="{{ placeholder }}"{% endif %}
            {% if value %} value="{{ value|unlocalize }}"{% endif %}
            {% if type %} type="{{ type }}"{% endif %}
            {% if size %} size={{ size }}{% endif %}
            {% if disabled %} disabled{% endif %}
            {% if required %} required{% endif %}
            {% if onchange %} onchange="{{ onchange }}"{% endif %}
            {% if widget.attrs %} {{ widget.attrs|flatattrs }}{% endif %}>


        {% if multiple %}
            {% for val, display in choices %}
                <option class="select__option" value="{{ val|unlocalize }}"{% if val in value %} selected{% endif %}>{{ display }}</option>
            {% endfor %}
        {% else %}
            {% for choice in choices %}
                {% if choice.is_group %}
                    <optgroup label="{{ choice.value }}">
                        {% for val, display in choice.display %}
                            <option class="select__option" value="{{ val|unlocalize }}" {% if val|unlocalize == value|default:None|unlocalize %}selected{% endif %}>{{ display }}</option>
                        {% endfor %}
                    </optgroup>
                {% else %}
                    {% if choice.display %}
                        <option class="select__option" value="{{ choice.value }}" {% if choice.value|unlocalize == value|default:None|unlocalize %}selected{% endif %}>{{ choice.display }}</option>
                    {% else %}
                        {% firstof choice.0 choice.pk as choice_value %}
                        <option value="{{ choice_value|unlocalize }}"{% if choice_value|unlocalize == value %} selected{% endif %}>{% firstof choice.1 choice %}</option>
                    {% endif %}
                {% endif %}
            {% endfor %}

        {% endif %}
    </select>
{% endsingleline %}
