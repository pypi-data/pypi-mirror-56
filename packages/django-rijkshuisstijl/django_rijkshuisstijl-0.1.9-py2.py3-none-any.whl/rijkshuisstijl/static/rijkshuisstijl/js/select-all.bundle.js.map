{"version":3,"sources":["webpack:///./rijkshuisstijl/js/components/toggle/select-all.js"],"names":["SelectAll","node","this","bindEvents","addEventListener","onClick","bind","e","stopPropagation","preventDefault","setTimeout","toggle","exp","getState","getTargets","forEach","target","event","document","createEvent","initEvent","dispatchEvent","checked","targets","dataset","selectAll","split","filter","selector","length","querySelectorAll","SELECT_ALLS"],"mappings":"ipBASO,IAAMA,EAAb,WAKI,WAAYC,I,4FAAO,CAAD,QAEdC,KAAKD,KAAOA,EAEZC,KAAKC,a,UATb,O,EAAA,G,EAAA,oCAgBQD,KAAKD,KAAKG,iBAAiB,QAASF,KAAKG,QAAQC,KAAKJ,SAhB9D,8BAuBYK,GACJA,EAAEC,kBACFD,EAAEE,iBACFC,WAAWR,KAAKS,OAAOL,KAAKJ,SA1BpC,+BAiCoC,IAAzBU,EAAwB,wDAAjBV,KAAKW,WACfX,KAAKY,aACAC,QAAQ,SAAAC,GACL,IAAIC,EAAQC,SAASC,YAAY,SACjCF,EAAMG,UAAU,UAAU,GAAM,GAChCV,WAAW,kBAAMM,EAAOK,cAAcJ,KACtCD,EAAOM,QAAUV,IAEzBV,KAAKD,KAAKqB,QAAUV,IAzC5B,iCAiDQ,OAAOV,KAAKD,KAAKqB,UAjDzB,mCAyDQ,IAAIC,EAAU,GAKd,OAJerB,KAAKD,KAAKuB,QAAQC,UACxBC,MAAM,KACVC,OAAO,SAAAC,GAAQ,OAAIA,EAASC,SAC5Bd,QAAQ,SAAAa,GAAQ,OAAIL,EAAO,YAAOA,GAAP,EAAmBL,SAASY,iBAAiBF,OACtEL,O,2BA9Df,KAmEA,EAAIQ,KAAahB,QAAQ,SAAAd,GAAI,OAAI,IAAID,EAAUC","file":"select-all.bundle.js","sourcesContent":["import {SELECT_ALLS} from './constants';\n\n\n/**\n * Class for generic select all checkboxes.\n * Toggle should have BLOCK_SELECT_ALL present in classList for detection.\n * Toggle should have data-select-all set to queryselector for target(s).\n * @class\n */\nexport class SelectAll {\n    /**\n     * Constructor method.\n     * @param {HTMLInputElement} node\n     */\n    constructor(node) {\n        /** @type {HTMLInputElement} */\n        this.node = node;\n\n        this.bindEvents();\n    }\n\n    /**\n     * Binds events to callbacks.\n     */\n    bindEvents() {\n        this.node.addEventListener('click', this.onClick.bind(this));\n    }\n\n    /**\n     * Callback for this.node click.\n     * @param {Event} e\n     */\n    onClick(e) {\n        e.stopPropagation();\n        e.preventDefault();\n        setTimeout(this.toggle.bind(this));\n    }\n\n    /**\n     * Performs toggle.\n     * @param {boolean} [exp] If passed, add/removes this.toggleModifier based on exp.\n     */\n    toggle(exp = !this.getState()) {\n        this.getTargets()\n            .forEach(target => {\n                let event = document.createEvent('Event');\n                event.initEvent('change', true, true);\n                setTimeout(() => target.dispatchEvent(event));\n                target.checked = exp;\n            });\n        this.node.checked = exp;\n    }\n\n    /**\n     * Returns the checkbox state.\n     * @returns {boolean} Boolean\n     */\n    getState() {\n        return this.node.checked;\n    }\n\n    /**\n     * Returns all the targets for this.node.\n     * @returns {*}\n     */\n    getTargets() {\n        let targets = [];\n        let selector = this.node.dataset.selectAll;\n        selector.split(',')\n            .filter(selector => selector.length)\n            .forEach(selector => targets = [...targets, ...document.querySelectorAll(selector)]);\n        return targets;\n    }\n}\n\n// Start!\n[...SELECT_ALLS].forEach(node => new SelectAll(node));\n"],"sourceRoot":""}