(window["webpackJsonpstreamlit-browser"]=window["webpackJsonpstreamlit-browser"]||[]).push([[20],{1735:function(t,e){},2256:function(t,e,r){},2289:function(t,e){},2755:function(t,e,r){"use strict";r.r(e);var o=r(38),i=r(7),n=r(10),a=r(13),l=r(12),u=r(34),c=r(14),g=r(0),s=r.n(g),d=r(2257),h=r.n(d),y=r(2219),f=r(51),p=r(96);r(2255),r(2256);function w(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,o)}return r}function L(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?w(r,!0).forEach(function(e){Object(o.a)(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):w(r).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}var C=function(t){function e(t){var r;Object(i.a)(this,e),(r=Object(a.a)(this,Object(l.a)(e).call(this,t))).initialViewState=void 0,r.mapStyle=void 0,r.fixHexLayerBug_bound=void 0;var o=r.props.element.get("spec"),n=(o?JSON.parse(o):{}).viewport||{},c=r.props,g=c.width,s=c.height;return r.initialViewState={width:n.width||g,height:n.height||s,longitude:n.longitude||0,latitude:n.latitude||0,pitch:n.pitch||0,bearing:n.bearing||0,zoom:n.zoom||1},r.mapStyle=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light-v9";if(t.startsWith("http://")||t.startsWith("https://")||t.startsWith("mapbox://"))return t;return"mapbox://styles/mapbox/".concat(t)}(n.mapStyle),r.fixHexLayerBug_bound=r.fixHexLayerBug.bind(Object(u.a)(r)),r.state={initialized:!1},setTimeout(r.fixHexLayerBug_bound,0),r}return Object(c.a)(e,t),Object(n.a)(e,[{key:"fixHexLayerBug",value:function(){this.setState({initialized:!0})}},{key:"render",value:function(){return s.a.createElement("div",{className:"deckglchart stDeckGlChart",style:{height:this.initialViewState.height,width:this.initialViewState.width}},s.a.createElement(h.a,{initialViewState:this.initialViewState,height:this.initialViewState.height,width:this.initialViewState.width,controller:!0,layers:this.state.initialized?this.buildLayers():[]},s.a.createElement(y.StaticMap,{height:this.initialViewState.height,width:this.initialViewState.width,mapStyle:this.mapStyle,mapboxApiAccessToken:"pk.eyJ1IjoidGhpYWdvdCIsImEiOiJjamh3bm85NnkwMng4M3dydnNveWwzeWNzIn0.vCBDzNsEF2uFSFk2AM0WZQ"})))}},{key:"buildLayers",value:function(){return this.props.element.get("layers").map(function(t){return function(t){var e=Object(f.e)(t.get("data")),r=JSON.parse(t.get("spec")),o=r.type?r.type.toLowerCase():"";switch(delete r.type,function(t,e){if(m.has(t)&&e.getLatitude&&e.getLongitude){var r=e.getLatitude,o=e.getLongitude;e.getPosition=function(t){return[t[o],t[r]]}}if(v.has(t)&&e.getLatitude&&e.getLongitude&&e.getTargetLatitude&&e.getTargetLongitude){var i=e.getLatitude,n=e.getLongitude,a=e.getTargetLatitude,l=e.getTargetLongitude;e.getSourcePosition=function(t){return[t[n],t[i]]},e.getTargetPosition=function(t){return[t[l],t[a]]}}if(S.has(t)&&e.getColorR&&e.getColorG&&e.getColorB){var u=e.getColorR,c=e.getColorG,g=e.getColorB,s=e.getColorA;e.getColor=function(t){return[t[u],t[c],t[g],t[s]]}}if(O.has(t)&&e.getColorR&&e.getColorG&&e.getColorB&&e.getTargetColorR&&e.getTargetColorG&&e.getTargetColorB){var d=e.getColorR,h=e.getColorG,y=e.getColorB,f=e.getColorA,p=e.getTargetColorR,w=e.getTargetColorG,L=e.getTargetColorB,C=e.getTargetColorA;e.getSourceColor=function(t){return[t[d],t[h],t[y],t[f]]},e.getTargetColor=function(t){return[t[p],t[w],t[L],t[C]]}}Object.keys(e).forEach(function(t){if(t.startsWith("get")){var r=e[t];e[t]="function"===typeof r?r:"string"===typeof r?function(t){return t[r]}:function(){return r}}})}(o,r),o){case"arclayer":return new d.ArcLayer(L({data:e},b.ArcLayer,{},r));case"gridlayer":return new d.GridLayer(L({data:e},b.GridLayer,{},r));case"hexagonlayer":return new d.HexagonLayer(L({data:e},b.HexagonLayer,{},r));case"linelayer":return new d.LineLayer(L({data:e},b.LineLayer,{},r));case"pointcloudlayer":return new d.PointCloudLayer(L({data:e},b.PointCloudLayer,{},r));case"scatterplotlayer":return new d.ScatterplotLayer(L({data:e},b.ScatterplotLayer,{},r));case"screengridlayer":return new d.ScreenGridLayer(L({data:e},b.ScreenGridLayer,{},r));case"textlayer":return new d.TextLayer(L({data:e},b.TextLayer,{},r));default:throw new Error('Unsupported layer type "'.concat(o,'"'))}}(t)}).toArray()}}]),e}(s.a.PureComponent);C.defaultProps={height:500};var b={ArcLayer:{getSourceColor:function(t){return t.colorR&&t.colorG&&t.colorB?[t.colorR,t.colorG,t.colorB,null==t.colorA?255:t.colorA]:T},getTargetColor:function(t){return t.targetColorR&&t.targetColorG&&t.targetColorB?[t.targetColorR,t.targetColorG,t.targetColorB,null==t.targetColorA?255:t.targetColorA]:T},getSourcePosition:P,getTargetPosition:j},GridLayer:{getPosition:P},HexagonLayer:{getPosition:P},LineLayer:{getSourcePosition:P,getTargetPosition:j},PointCloudLayer:{getColor:G,getPosition:function(t){return[x(t.longitude,t.lon,t.positionX,t.x),x(t.latitude,t.lat,t.positionY,t.y),x(t.latitude,t.lat,t.positionZ,t.z)]},getNormal:function(t){return[t.normalX,t.normalY,t.normalZ]}},ScatterplotLayer:{getColor:G,getPosition:P,getRadius:function(t){return x(t.radius,100)}},ScreenGridLayer:{getPosition:P,getWeight:function(t){return t.weight}},TextLayer:{getColor:G,getPixelOffset:function(t){return[x(t.pixelOffsetX,0),x(t.pixelOffsetY,0)]},getPosition:P,getAlignmentBaseline:"bottom"}};var m=new Set(["gridlayer","hexagonlayer","scatterplotlayer","screengridlayer","textlayer"]),v=new Set(["arclayer","linelayer"]),S=new Set(["pointcloudlayer","scatterplotlayer","textlayer"]),O=new Set(["arclayer"]);function x(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];for(var o=0;o<e.length;o+=1)if(null!=e[o])return e[o];return null}function P(t){return[x(t.longitude,t.lon),x(t.latitude,t.lat)]}function j(t){return[x(t.longitude2,t.lon2),x(t.latitude2,t.lat2)]}var T=[200,30,0,160];function G(t){return t.colorR&&t.colorG&&t.colorB?[t.colorR,t.colorG,t.colorB,null==t.colorA?255:t.colorA]:T}var B=function(t){function e(){return Object(i.a)(this,e),Object(a.a)(this,Object(l.a)(e).apply(this,arguments))}return Object(c.a)(e,t),Object(n.a)(e,[{key:"render",value:function(){var t=this.props,e=t.element,r=t.width;return s.a.createElement(p.a,{width:r},function(t){var r=t.width,o=t.height;return s.a.createElement(C,{element:e,width:r,height:o})})}}]),e}(s.a.Component);r.d(e,"default",function(){return B})}}]);
//# sourceMappingURL=20.65ab547c.chunk.js.map